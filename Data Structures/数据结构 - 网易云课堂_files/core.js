(function(){window.NEJ=window.NEJ||{};NEJ.O={};NEJ.R=[];NEJ.F=function(){return!1};NEJ.P=function(yV){if(!yV||!yV.length)return null;var xE=window;for(var a=yV.split("."),l=a.length,i=a[0]=="window"?1:0;i<l;xE=xE[a[i]]=xE[a[i]]||{},i++);return xE};NEJ.Q=function(Nz,yV){Nz=Nz||NEJ.O;var db=yV.split(".");for(var i=0,l=db.length;i<l;i++){Nz=Nz[db[i]];if(!Nz)break}return Nz};NEJ.C=function(){var bTL=function(){return NEJ.O.toString.call(arguments[0])!="[object Function]"};var bUj=function(bH,dD){for(var x in dD)if(bH==dD[x])return x;return null};var bLI={hk:0,bE:1,bJ:2,bL:3,bJv:4,cw:5,cE:6,ck:7},bLX={hu:0,bG:1,bN:2,bO:3,dlV:4,SR:5,Nw:6,Hw:7};return function(){var eA=function(){this.bUk();return this.hk.apply(this,arguments)};eA.prototype.bUk=NEJ.F;eA.prototype.hk=NEJ.F;eA.bt=function(rC,bUp){if(bTL(rC))return;if(bUp==null||!!bUp)NEJ.X(this,rC,bTL);this.cNe=rC;this.cH=rC.prototype;var dO=function(){};dO.prototype=rC.prototype;this.prototype=new dO;var uJ=this.prototype;uJ.constructor=this;var dr;for(var x in bLI){dr=bUj(bLI[x],bLX);if(!dr||!this.cH[x])continue;uJ[x]=function(ch){return function(){this[ch].apply(this,arguments)}}(dr)}var buQ={};for(var x in bLX){dr=bUj(bLX[x],bLI);if(!dr||!this.cH[dr])continue;buQ[dr]=rC;uJ[x]=function(ch){return function(){var cN,dO=this.bRx[ch],buO=dO.prototype[ch];this.bRx[ch]=dO.cNe||rC;if(!!buO)cN=buO.apply(this,arguments);this.bRx[ch]=rC;return cN}}(dr)}uJ.bUk=function(){this.bRx=NEJ.X({},buQ)};uJ.dlR=uJ.hu;return uJ};return eA}}();NEJ.X=function(iV,ez,hp){if(!iV||!ez)return iV;hp=hp||NEJ.F;for(var x in ez){if(ez.hasOwnProperty(x)&&!hp(ez[x],x))iV[x]=ez[x]}return iV};NEJ.EX=function(iV,ez){if(!iV||!ez)return iV;for(var x in iV){if(iV.hasOwnProperty(x)&&ez[x]!=null)iV[x]=ez[x]}return iV};var Zy=Function.prototype;Zy.ft=function(bAx,bEg){var f=NEJ.F,bEg=bEg||f,bAx=bAx||f,ec=this;return function(){var bj={args:NEJ.R.slice.call(arguments,0)};bAx(bj);if(!bj.stopped){bj.value=ec.apply(this,bj.args);bEg(bj)}return bj.value}};Zy.Z=function(){var cr=arguments,iV=arguments[0],bkh=this;return function(){var xB=NEJ.R.slice.call(cr,1);NEJ.R.push.apply(xB,arguments);return bkh.apply(iV||window,xB)}};Zy.HC=function(){var cr=arguments,iV=NEJ.R.shift.call(cr),bkh=this;return function(){NEJ.R.push.apply(arguments,cr);return bkh.apply(iV||window,arguments)}};var Zy=String.prototype;if(!Zy.trim){Zy.trim=function(){var ea=/(?:^\s+)|(?:\s+$)/g;return function(){return this.replace(ea,"")}}()}if(!window.MWF)window.MWF=NEJ;if(!window.mwf)window.mwf=NEJ.P("nej");if(!window.console){NEJ.P("console").log=NEJ.F;NEJ.P("console").error=NEJ.F}var lt,gt,amp,nbsp,quot,apos,copy,reg})();
(function(){var bp=NEJ.P,de=NEJ.O,bq=bp("nej.p"),bue=window.navigator.platform,uc=window.navigator.userAgent;var od={mac:bue,win:bue,linux:bue,ipad:uc,ipod:uc,iphone:bue,android:uc};bq.Ng=od;for(var x in od)od[x]=(new RegExp(x,"i")).test(od[x]);od.ios=od.ipad||od.iphone||od.ipod;od.tablet=od.ipad;od.desktop=od.mac||od.win||od.linux&&!od.android;var jh={engine:"unknow",release:"unknow",browser:"unknow",version:"unknow",prefix:{css:"",pro:"",clz:""}};bq.EN=jh;if(/msie\s+(.*?);/i.test(uc)||/trident\/.+rv:([\d\.]+)/i.test(uc)){jh.engine="trident";jh.browser="ie";jh.version=RegExp.$1;jh.prefix={css:"ms",pro:"ms",clz:"MS",evt:"MS"};var gA={6:"2.0",7:"3.0",8:"4.0",9:"5.0",10:"6.0",11:"7.0"};jh.release=gA[document.documentMode]||gA[parseInt(jh.version)]}else if(/webkit\/?([\d.]+?)(?=\s|$)/i.test(uc)){jh.engine="webkit";jh.release=RegExp.$1||"";jh.prefix={css:"webkit",pro:"webkit",clz:"WebKit"}}else if(/rv\:(.*?)\)\s+gecko\//i.test(uc)){jh.engine="gecko";jh.release=RegExp.$1||"";jh.browser="firefox";jh.prefix={css:"Moz",pro:"moz",clz:"Moz"};if(/firefox\/(.*?)(?=\s|$)/i.test(uc))jh.version=RegExp.$1||""}else if(/presto\/(.*?)\s/i.test(uc)){jh.engine="presto";jh.release=RegExp.$1||"";jh.browser="opera";jh.prefix={css:"O",pro:"o",clz:"O"};if(/version\/(.*?)(?=\s|$)/i.test(uc))jh.version=RegExp.$1||""}if(jh.browser=="unknow"){var gA=["chrome","maxthon","safari"];for(var i=0,l=gA.length,ch;i<l;i++){ch=gA[i]=="safari"?"version":gA[i];if((new RegExp(ch+"/(.*?)(?=\\s|$)","i")).test(uc)){jh.browser=gA[i];jh.version=RegExp.$1.trim();break}}}bq.bUz={};var btY=jh.engine!="trident";bq.Fq={gecko:jh.engine!="gecko",webkit:jh.engine!="webkit",presto:jh.engine!="presto",trident0:btY||jh.release>"2.0",trident1:btY||jh.release<"6.0",trident2:btY||jh.release>"3.0",trident:btY||jh.release>="6.0"}})();
(function(){var fq=NEJ.P("nej.c"),cR={};var bzD=function(){var ea=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(cG){cG=cG||"";if(ea.test(cG))return RegExp.$1;return location.protocol+"//"+location.host}}();var bjT=function(){var bUC=function(bF,dD){if(!bF||!bF.length)return;for(var i=0,l=bF.length,Zo;i<l;i++){Zo=bF[i];if(Zo.indexOf("://")>0)dD[bzD(Zo)]=Zo}};var lG={portrait:{name:"portrait",dft:"portrait/"},"ajax.swf":{name:"ajax",dft:"nej_proxy_flash.swf"},"chart.swf":{name:"chart",dft:"nej_flex_chart.swf"},"audio.swf":{name:"audio",dft:"nej_player_audio.swf"},"video.swf":{name:"video",dft:"nej_player_video.swf"},"clipboard.swf":{name:"clipboard",dft:"nej_clipboard.swf"},"upload.image.swf":{name:"uploadimage",dft:"nej_upload_image.swf"}};return function(ez){fq.Zk("root",ez.root||"/res/");var bMg,iP=fq.bQ("root");for(var x in lG){bMg=lG[x];fq.Zk(x,ez[bMg.name]||iP+bMg.dft)}var Na=ez.p_csrf;if(Na==!0){Na={cookie:"AntiCSRF",param:"AntiCSRF"}}fq.Zk("csrf",NEJ.EX({cookie:"",param:""},Na));cR.frames={};bUC(ez.p_frame,cR.frames);cR.flashs={};bUC(ez.p_flash,cR.flashs)}}();fq.Zk=function(bR,bH){cR[bR]=bH};fq.bQ=function(bR){return cR[bR]};fq.cZe=function(cG){var bUI=bzD(cG);return cR.frames[bUI]||bUI+"/res/nej_proxy_frame.html"};fq.daP=function(cG){return cR.flashs[bzD(cG)]};bjT(window.NEJ_CONF||NEJ.O)})();
(function(){var bp=NEJ.P,bq=bp("nej.p"),fq=bp("nej.c"),ez=window.NEJ_CONF||NEJ.O;if(bq.Fq.trident)return;fq.Zk("storage.swf",ez.storage||fq.bQ("root")+"nej_storage.swf");if(bq.EN.release<"4.0"){fq.Zk("blank.png",ez.blank||fq.bQ("root")+"nej_blank.gif")}var bF=ez.xdr,mS=/^(https?:\/\/.*?)(?=\/|$)/i,uV=/[\/?=&]/i;var bUT=function(cG){return(mS.test(cG)?RegExp.$1:"").toLowerCase()};if(!!bF&&!!bF.length)for(var i=bF.length-1,cG,bR;i>=0;i--){cG=bF[i];bR=bUT(cG);if(!!bR)fq.Zk(bR,cG)}fq.dlJ=function(cG){var bR=bUT(cG);if(!bR){if(uV.test(cG)){bR=location.protocol+"//"+location.host}else if(cG.indexOf("://")<0){bR=location.protocol+"//"+cG}else{bR=cG}}return fq.bQ(bR)||bR+"/res/nej_xdomain.html"}})();
(function(){var bp=NEJ.P,fq=bp("nej.c"),bq=bp("nej.g"),jI=+(new Date);bq.dlB=1e4-jI;bq.bwM=10001-jI;bq.dlp=10002-jI;bq.bXt=10003-jI;bq.bXy=10004-jI;bq.cSS=10005-jI;bq.bto=10006-jI;bq.cUz=10007-jI;bq.Tr="Content-Type";bq.cUB="text/plain";bq.bjf="multipart/form-data";bq.cUD="application/x-www-form-urlencoded";bq.bXS=fq.bQ("blank.png")||"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})();
(function(){var bp=NEJ.P,de=NEJ.O,lm=NEJ.R,dm=NEJ.F,bm=bp("nej.e"),cl=bp("nej.h"),bD=bp("nej.u");var SM=function(W,bz){try{bz=bz.toLowerCase();if(W===null)return bz=="null";if(W===undefined)return bz=="undefined";return de.toString.call(W).toLowerCase()=="[object "+bz+"]"}catch(e){return!1}};bD.lX=function(W){return SM(W,"function")};bD.oe=function(W){return SM(W,"string")};bD.biM=function(W){return SM(W,"number")};bD.cXc=function(W){return SM(W,"boolean")};bD.biK=function(W){return SM(W,"date")};bD.jO=function(W){return SM(W,"array")};bD.Zc=function(W){return SM(W,"object")};bD.dkZ=function(){var ea=/[^\x00-\xfff]/g;return function(cX){return(""+(cX||"")).replace(ea,"**").length}}();bD.nZ=function(bF,bo){var hp=bD.lX(bo)?bo:function(bH){return bH===bo},bf=bD.hH(bF,hp);return bf!=null?bf:-1};bD.dkY=function(){var bYL;var biD=function(bF,bHA,bHW){if(bHA>bHW)return-1;var biB=Math.ceil((bHA+bHW)/2),cN=bYL(bF[biB],biB,bF);if(cN==0)return biB;if(cN<0)return biD(bF,bHA,biB-1);return biD(bF,biB+1,bHW)};return function(bF,brZ){bYL=brZ||dm;return biD(bF,0,bF.length-1)}}();bD.nT=function(bF,ki,AJ){if(!bF||!bF.length||!bD.lX(ki))return null;for(var i=bF.length-1;i>=0;i--)if(!!ki.call(AJ,bF[i],i,bF))return i;return null};bD.bw=function(bF,ki,AJ){if(!bF||!bF.length||!bD.lX(ki))return this;if(!!bF.forEach){bF.forEach(ki,AJ);return this}for(var i=0,l=bF.length;i<l;i++)ki.call(AJ,bF[i],i,bF);return this};bD.hH=function(bF,ki,AJ){if(!bF||!bD.lX(ki))return null;if(bF.length!=null){if(bF.length>0)for(var i=0,l=bF.length;i<l;i++)if(!!ki.call(AJ,bF[i],i,bF))return i}if(bD.Zc(bF)){for(var x in bF)if(bF.hasOwnProperty(x)&&!!ki.call(AJ,bF[x],x,bF))return x}return null};bD.dkV=function(zN,cnV,Y){zN=zN||[];Y=Y||de;var brW=!!Y.union,pF=!!Y.begin,brV=Y.compare,cqK=brW&&pF?bD.nT:bD.bw;cqK(cnV,function(bo){if(!!brV)brV=brV.HC(bo);var bf=bD.nZ(zN,brV||bo);if(bf>=0)zN.splice(bf,1);if(brW)zN[pF?"unshift":"push"](bo)});return zN};bD.bBS=function(dD,cX){if(!dD||!cX||!cX.replace)return cX||"";return cX.replace(dD.r,function($1){var cN=dD[!dD.i?$1.toLowerCase():$1];return cN!=null?cN:$1})};bD.dV=function(){var ea=/<br\/?>$/,dD={r:/\<|\>|\&|\r|\n|\s|\'|\"/g,"<":"&lt;",">":"&gt;","&":"&amp;"," ":"&nbsp;",'"':"&quot;","'":"&#39;","\n":"<br/>","\r":""};return function(cX){cX=bD.bBS(dD,cX);return cX.replace(ea,"<br/><br/>")}}();bD.brU=function(){var dD={r:/\&(?:lt|gt|amp|nbsp|#39|quot)\;|\<br\/\>/gi,"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" ","&#39;":"'","&quot;":'"',"<br/>":"\n"};return function(cX){return bD.bBS(dD,cX)}}();bD.wq=function(){var dD={i:!0,r:/\byyyy|yy|MM|cM|eM|M|dd|d|HH|H|mm|ms|ss|m|s|w|ct|et\b/g},csr=["上午","下午"],ctx=["A.M.","P.M."],cty=["日","一","二","三","四","五","六"],ctN=["一","二","三","四","五","六","七","八","九","十","十一","十二"],ctO=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"];var bis=function(yZ){yZ=parseInt(yZ)||0;return(yZ<10?"0":"")+yZ};var ctP=function(jL){return jL<12?0:1};return function(cQ,caN,cut){if(!cQ||!caN)return"";cQ=bD.bQU(cQ);dD.yyyy=cQ.getFullYear();dD.yy=(""+dD.yyyy).substr(2);dD.M=cQ.getMonth()+1;dD.MM=bis(dD.M);dD.eM=ctO[dD.M-1];dD.cM=ctN[dD.M-1];dD.d=cQ.getDate();dD.dd=bis(dD.d);dD.H=cQ.getHours();dD.HH=bis(dD.H);dD.m=cQ.getMinutes();dD.mm=bis(dD.m);dD.s=cQ.getSeconds();dD.ss=bis(dD.s);dD.ms=cQ.getMilliseconds();dD.w=cty[cQ.getDay()];var cbf=ctP(dD.H);dD.ct=csr[cbf];dD.et=ctx[cbf];if(!!cut){dD.H=dD.H%12}return bD.bBS(dD,caN)}}();bD.bQU=function(cQ){var fg=cQ;if(bD.oe(cQ)){cQ=cQ.replace(/-/g,"/");fg=new Date(Date.parse(cQ))}if(!bD.biK(fg))fg=new Date(cQ);return fg};bD.bvO=function(cvw,cvM){return(new Number(cvw)).toFixed(cvM)};bD.bwX=function(){var mS=/([^\/:])\/.*$/,uV=/\/[^\/]+$/,Iw=/[#\?]/,bxG=location.href.split(/[?#]/)[0],Qz=document.createElement("a");var bAw=function(oX){return(oX||"").indexOf("://")>0};var cbr=function(oX){return(oX||"").split(Iw)[0].replace(uV,"/")};var cwr=function(oX,iP){if(oX.indexOf("/")==0)return iP.replace(mS,"$1")+oX;return cbr(iP)+oX};bxG=cbr(bxG);return function(oX,iP){oX=(oX||"").trim();if(!bAw(iP))iP=bxG;if(!oX)return iP;if(bAw(oX))return oX;oX=cwr(oX,iP);Qz.href=oX;oX=Qz.href;return bAw(oX)?oX:Qz.getAttribute("href",4)}}();bD.cxY=function(){var ea=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(cG){if(ea.test(cG||""))return RegExp.$1.toLowerCase();return""}}();bD.cck=function(nw,cP){if(!nw)return cP;var ch=nw.tagName.toLowerCase(),bF=bm.cJ(nw);if(!bF||!bF.length){cP[ch]=nw.textContent||nw.text||"";return cP}var dr={};cP[ch]=dr;bD.bw(bF,function(bB){bD.cck(bB,dr)});return cP};bD.dki=function(Mv){try{return bD.cck(bm.cdt(Mv),{})}catch(ex){return null}};bD.YF=function(Gb,bhF){var cP={};bD.bw((Gb||"").split(bhF),function(ch){var bqC=ch.split("=");if(!bqC||!bqC.length)return;var bR=bqC.shift();if(!bR)return;cP[decodeURIComponent(bR)]=decodeURIComponent(bqC.join("="))});return cP};bD.bqB=function(iV,bhF,cEl){if(!iV)return"";var db=[];bD.hH(iV,function(bH,bR){if(bD.lX(bH)){return}if(bD.biK(bH)){bH=bH.getTime()}else if(bD.jO(bH)){bH=bH.join(",")}else if(bD.Zc(bH)){bH=JSON.stringify(bH)}if(!!cEl){bH=encodeURIComponent(bH)}db.push(encodeURIComponent(bR)+"="+bH)});return db.join(bhF||",")};bD.ceL=function(AS){return bD.YF(AS,"&")};bD.Pa=function(iV){return bD.bqB(iV,"&",!0)};bD.djM=function(iV){return cl.YA(iV)};bD.bhv=function(bF,hp){var cN={};bD.bw(bF,function(bo){var bR=bo;if(!!hp){bR=hp(bo)}cN[bR]=bo});return cN};bD.djL=function(yZ,AT){var bwS=(""+yZ).length,cIl=Math.max(1,parseInt(AT)||0),gg=cIl-bwS;if(gg>0){yZ=(new Array(gg+1)).join("0")+yZ}return""+yZ};bD.bqd=function(iV,ch){if(!bD.jO(ch)){try{delete iV[ch]}catch(e){iV[ch]=undefined}return this}bD.bw(ch,bD.bqd.Z(bD,iV));return this};bD.mF=function(){var pV="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";return function(eU){eU=eU||10;var cN=[];for(var i=0,ceX;i<eU;++i){ceX=Math.floor(Math.random()*pV.length);cN.push(pV.charAt(ceX))}return cN.join("")}}();bD.cIG=function(kR,ig){return Math.floor(Math.random()*(ig-kR)+kR)};bD.fb=function(eU){eU=Math.max(0,Math.min(eU||8,30));var kR=Math.pow(10,eU-1),ig=kR*10;return bD.cIG(kR,ig).toString()};bD.bho=function(){var jI=+(new Date);return function(){return""+jI++}}()})();
(function(){var bp=NEJ.P,lm=NEJ.R,bq=bp("nej.p"),bm=bp("nej.e"),cd=bp("nej.v"),bD=bp("nej.u"),cl=bp("nej.h");var it=bq.EN.prefix,cfQ=bq.bUz,cLn={scale:"scale({x|1},{y|1})",rotate:"rotate({a})",translate:"translate({x},{y})"},cLw={scale:"scale3d({x|1},{y|1},{z|1})",rotate:"rotate3d({x},{y},{z},{a})",translate:"translate3d({x},{y},{z})"},bhi={transition:!0,transform:!0,animation:!0,keyframes:!0,box:!0,"box-pack":!0,"box-flex":!0,marquee:!0,"border-radius":!0,"user-select":!0};var bjT=function(){var yI=cl.cga();cfQ.css3d=!!yI&&yI.m41!=null;var ea=/-([a-z])/g;for(var x in bhi){bhi[cgb(x)]=bhi[x]}};var cgb=function(){var ea=/-([a-z])/g;return function(ch){ch=ch||"";return ch.replace(ea,function($1,$2){return $2.toUpperCase()})}}();var cgo=function(ch){return(!cfQ.css3d?cLn:cLw)[ch]};var cgx=function(){var ea=/\s+/;return function(eA){eA=(eA||"").trim();return!!eA?eA.split(ea):null}}();var bph=function(bA,bz,eA){bA=bm.bQ(bA);if(!bA)return;bD.bw(cgx(eA),function(eE){bA.classList[bz](eE)})};cl.YA=function(bF){return lm.slice.call(bF,0)};cl.bOD=function(bA){return cl.YA(bA.children)};cl.bOL=function(bA,eA){return cl.YA(bA.getElementsByClassName(eA))};cl.bOT=function(bA){return bA.nextElementSibling};cl.bQr=function(bA){return bA.previousElementSibling};cl.bQE=function(bA,Yk){bph(bA,"add",Yk)};cl.bQW=function(bA,Yi){bph(bA,"remove",Yi)};cl.bgI=function(bA,Yi,Yk){bph(bA,"remove",Yi);bph(bA,"add",Yk)};cl.bRX=function(bA,eA){bA=bm.bQ(bA);if(!bA)return!1;var bF=bA.classList;if(!bF||!bF.length)return!1;return bD.nZ(cgx(eA),function(eE){return bF.contains(eE)})>=0};cl.bSz=function(bA,eE){};cl.bSU=function(bA){};cl.bvI=function(gL,gK){gL.selectionEnd=gK.end||0;gL.selectionStart=gK.start||0;gL.focus()};cl.bwc=function(gL){return{end:gL.selectionEnd,start:gL.selectionStart}};cl.bwm=function(){var bwJ=function(eE,bj){var bA=cd.fh(bj);if(!bA.value)bm.bZ(bA,eE)};var cQd=function(eE,bj){bm.bK(cd.fh(bj),eE)};return function(bA,gS,eE){if(gS==1){cd.bd(bA,"blur",bwJ.Z(null,eE))}if(gS==1||gS==-1){cd.bd(bA,"focus",cQd.Z(null,eE))}}}();cl.bxT=function(nw){return(new XMLSerializer).serializeToString(nw)||""};cl.byg=function(Mv){var iP=(new DOMParser).parseFromString(Mv,"text/xml").documentElement;return iP.nodeName=="parsererror"?null:iP};cl.bzB=function(bA){};cl.Ba=function(bA){return null};cl.bAb=function(bA){return null};cl.bAp=function(jp){};cl.cQg=function(){var cr=cl.YA(arguments);cr[0]=bm.bQ(cr[0]);if(!cr[0])return null;cr[1]=(cr[1]||"").toLowerCase();if(!cr[1])return null;return cr};cl.Yf=function(){var EF={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},le={transitionend:"TransitionEnd",animationend:"AnimationEnd",animationstart:"AnimationStart",animationiteration:"AnimationIteration"};var cRo=function(bz){return(it.evt||it.pro)+bz};return function(){var cr=cl.cQg.apply(cl,arguments);if(!cr)return;var bz=cl.ID(cr[0],cr[1]);if(!!bz){cr[4]=cr[1];cr[1]=bz;if(!!cr[2]){cr[5]=cr[2];cr[2]=cl.Or(cr[1],cr[2],cr[0])}return cr}var cig=le[cr[1]],ciB=EF[cr[1]];if(!!cig){cr[4]=cr[1];cr[1]=cRo(cig)}else if(!!ciB){var ch="on"+cr[1];if(!(ch in cr[0])){cr[4]=cr[1];cr[1]=ciB}}return cr}}();cl.bov=function(dD,bj){var bH,cr=bj.args,bz=cr[1],bA=cr[0];if(!("on"+bz in bA)){bH=dD[bz]||""}if(!!bH&&!dD[bH]&&!("on"+bH in bA)){bH=null}if(!!bH){bj.stopped=!0;bj.value=bH}};cl.ID=function(){var le={enter:"keypress"};return function(bA,bz){return le[bz]||null}}();cl.Or=function(bz,ec,bA){var ki=ec;switch(bz){case"keypress":ki=function(bj){var AJ=cd.fh(bj)||this;if(bj.keyCode==13){ec.call(AJ,bj)}};break}return ki};cl.bgq=function(){var cr=arguments,bGi="on"+cr[1]in cr[0];if(!bGi){console.log("not support event["+cr[1]+"] for "+cr[0])}cr[0].addEventListener(cr[1],cr[2],!!cr[3])};cl.Yc=function(){var cr=arguments;cr[0].removeEventListener(cr[1],cr[2],!!cr[3])};cl.bHr=function(bA,bz,Y){var bj=document.createEvent("Event");bj.initEvent(bz,!0,!0);NEJ.X(bj,Y);bA.dispatchEvent(bj)};cl.cga=function(){var mS=/\((.*?)\)/,uV=/\s*,\s*/,bF=["m11","m12","m21","m22","m41","m42"];var cTb=function(yI){var cP={};if(mS.test(yI||"")){bD.bw(RegExp.$1.split(uV),function(bH,bf){cP[bF[bf]]=bH||""})}return cP};return function(yI){if(!!window.CSSMatrix)return new CSSMatrix(yI);var ch=it.clz+"CSSMatrix";if(!!window[ch])return new window[ch](yI||"");return cTb(yI)}}();cl.cja=function(){var ea=/\{(.*?)\}/g;return function(ch,dD){dD=dD||o;var dy=cgo(ch);return!dy?"":dy.replace(ea,function($1,$2){var db=$2.split("|");return dD[db[0]]||db[1]||"0"})}}();cl.bIp=function(bA,ch){var bgl=window.getComputedStyle(bA,null);return bgl[cl.bIZ(ch)]||""};cl.bIZ=function(){var ea=/^[a-z]/,bgk=it.css;var cWy=function(ch){return ch.replace(ea,function($1){return bgk+$1.toUpperCase()})};return function(ch){ch=cgb(ch);var cWM=cl.cWN(ch,bhi);return cWM?cWy(ch):ch}}();cl.bLw=function(bA,ch,bH){bA.style[cl.bIZ(ch)]=bH};cl.cWN=function(){var ea=/^([a-z]+?)[A-Z]/;return function(ch,dD){if(!dD[ch]){if(ea.test(ch))ch=RegExp.$1}return!!dD[ch]}}();cl.cWP=function(){var ea=/\$<(.*?)>/gi,bgk="-"+it.css.toLowerCase()+"-";return function(wV){return wV.replace(ea,function($1,$2){var jV=$2,db=jV.split("|"),dy=cgo(db[0]);if(!!dy){return cl.cja(db[0],bD.ceL(db[1]))}return!cl.cWS(jV,bhi)?jV:bgk+jV})}}();cl.cWS=function(ch,dD){return!!dD[ch]};cl.bMS=function(kg,wV){kg.textContent=wV};cl.bNp=function(kg,wV){var Je=kg.sheet,eU=Je.cssRules.length;Je.insertRule(wV,eU);return Je.cssRules[eU]};cl.diB=function(bA,Y){};cl.bnS=function(bnR){return(bnR||"").toLowerCase()!="transparent"};cl.cYB=function(bA){};cl.bPB=function(bA,ch){if(!!bA.getAttribute)return bA.getAttribute(ch);return""};cl.XV=function(hO){bm.wX(hO)};bjT()})();
(function(){var bp=NEJ.P,bq=bp("nej.p"),bm=bp("nej.e"),cl=bp("nej.h");if(bq.Fq.trident1)return;cl.ID=function(){var le={touchcancel:"MSPointerCancel",touchstart:"MSPointerDown",touchmove:"MSPointerMove",touchend:"MSPointerUp"};return cl.ID.ft(cl.bov.Z(cl,le))}();cl.bnS=function(bnR){return!0};cl.XV=cl.XV.ft(function(bj){bj.stopped=!0;var hO=bj.args[0];bm.fm(hO,"display","none");try{hO.contentWindow.document.body.innerHTML="&nbsp;"}catch(ex){}})})();
(function(){var bp=NEJ.P,de=NEJ.O,bq=bp("nej.p"),bm=bp("nej.e"),cd=bp("nej.v"),bD=bp("nej.u"),cl=bp("nej.h"),bRk={};if(bq.Fq.trident)return;cl.YA=cl.YA.ft(function(bj){bj.stopped=!0;var bF=bj.args[0];if(!bF){bj.value=null;return}var bf=0,cN=[];while(!!bF[bf]){cN.push(bF[bf++])}bj.value=cN});cl.bOD=cl.bOD.ft(function(bj){bj.stopped=!0;var db=[];bD.bw(bj.args[0].childNodes,function(bB){if(bB.nodeType==1)db.push(bB)});bj.value=db});cl.bOT=cl.bOT.ft(function(bj){var bA=bj.args[0];if(!("nextElementSibling"in bA)){bj.stopped=!0;while(bA=bA.nextSibling){if(bA.nodeType==1){bj.value=bA;break}}}});cl.bQr=cl.bQr.ft(function(bj){var bA=bj.args[0];if(!("previousElementSibling"in bA)){bj.stopped=!0;while(bA=bA.previousSibling){if(bA.nodeType==1){bj.value=bA;break}}}});cl.bOL=cl.bOL.ft(function(bj){var bA=bj.args[0];if(!!bA.getElementsByClassName)return;bj.stopped=!0;var cN=[],cYD=new RegExp("(\\s|^)(?:"+bj.args[1].replace(/\s+/g,"|")+")(?=\\s|$)");bD.bw(bA.getElementsByTagName("*"),function(bB){if(cYD.test(bB.className))cN.push(bB)});bj.value=cN});cl.bvI=cl.bvI.ft(function(bj){var gL=bj.args[0],gK=bj.args[1];if(gL.selectionStart==null){bj.stopped=!0;var sP=gL.createTextRange();sP.collapse(!0);sP.moveStart("character",gK.start);sP.moveEnd("character",gK.end-gK.start);sP.select();gL.focus()}});cl.bwc=cl.bwc.ft(function(bj){var gL=bj.args[0];gL.focus();if(gL.selectionStart==null){bj.stopped=!0;var ckC=document.selection.createRange();var ckF=gL.createTextRange();ckF.moveToBookmark(ckC.getBookmark());var bRF=gL.createTextRange();bRF.collapse(!0);bRF.setEndPoint("EndToStart",ckF);var sY=bRF.text.length;bj.value={start:sY,end:sY+ckC.text.length}}});cl.bxT=cl.bxT.ft(function(bj){if(!!window.XMLSerializer)return;bj.stopped=!0;var bA=bj.args[0];bj.value=bA.xml!=null?bA.xml:bA.outHTML});cl.byg=function(){var bfQ=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var cZS=function(){try{for(var i=0,l=bfQ.length;i<l;i++)return new ActiveXObject(bfQ[i])}catch(ex){return null}};return cl.byg.ft(function(bj){if(!!window.DOMParser)return;bj.stopped=!0;var bny=cZS();if(!!bny&&bny.loadXML(bj.args[0])&&!bny.parseError.errorCode)bj.value=bny.documentElement})}();cl.Yf=cl.Yf.ft(null,function(bj){var cr=bj.value;if(!cr||!cr[0]||!bD.lX(cr[2]))return;if(!bD.lX(cr[5]))cr[5]=cr[2];cr[2]=cr[2].Z(cr[0])});cl.ID=function(){var le={input:"propertychange",load:"readystatechange"};for(var x in le)bRk[le[x]]=!0;return cl.ID.ft(cl.bov.Z(cl,le))}();cl.Or=function(){var bSV={};return cl.Or.ft(function(qf){var cr=qf.args,ec=cr[1];switch(cr[0]){case"readystatechange":qf.stopped=!0;qf.value=function(bj){var bA=cd.fh(bj)||this;if(bA.readyState=="loaded"||bA.readyState=="complete"){bj.target=bA;ec.call(bA,bj)}};break;case"propertychange":qf.stopped=!0;qf.value=function(bj){var bA=cd.fh(bj)||this;if("value"in bA&&bj.propertyName=="value"){var bV=bm.mq(bA);if(!!bSV[bV]){return}bSV[bV]=!0;bj.target=bA;ec.call(bA,bj);delete bSV[bV]}};break}})}();cl.bgq=cl.bgq.ft(function(bj){var cr=bj.args;if(!!bRk[cr[1]]||!document.addEventListener){bj.stopped=!0;cr[0].attachEvent("on"+cr[1],cr[2])}});cl.Yc=cl.Yc.ft(function(bj){var cr=bj.args;if(!!bRk[cr[1]]||!document.removeEventListener){bj.stopped=!0;cr[0].detachEvent("on"+cr[1],cr[2])}});if(bq.EN.release=="5.0"){cl.bgq=function(){var zB={},daR={8:1,46:1},daV={88:"ctrlKey"};var bnq=function(bj){var nl=bj.keyCode,bR=daV[nl],daW=!!bR&&bj[bR];if(!daR[nl]&&!daW)return;var bB=cd.fh(bj),bV=bm.mq(bB),bR=bV+"-last",bH=bB.value;if(zB[bR]!=bH){zB[bR]=bH;bfG(bV,bj)}};var bnf=function(bj){var bB=cd.fh(bj),bR=bm.mq(bB)+"-focused";zB[bR]=bj.type=="focus"};var clB=function(bj){var bB=cd.fh(bj),bV=bm.mq(bB),bR=bV+"-focused";if(!!zB[bR]||bj.propertyName!="value"){return}bfG(bV,bj)};var bfG=function(bV,bj){bD.bw(zB[bV],function(ec){ec.call(null,bj)})};cl.Yc=cl.Yc.ft(null,function(bj){var cr=bj.args;if(cr[1]=="input"){var bV=bm.mq(cr[0]),LZ=cr[2];bD.nT(zB[bV],function(ec,bf,bF){if(LZ==ec){bF.splice(bf,1);return!0}});var bF=zB[bV];if(!bF||!bF.length){delete zB[bV];delete zB[bV+"-last"];cd.vd(bV,"keyup",bnq);cd.vd(bV,"keydown",bnq);cd.vd(bV,"focus",bnf);cd.vd(bV,"blur",bnf);cd.vd(bV,"propertychange",clB)}}});return cl.bgq.ft(null,function(bj){var cr=bj.args;if(cr[1]=="input"){var bV=bm.mq(cr[0]);if(!zB[bV]){zB[bV]=[]}zB[bV].push(cr[2]);cd.bd(bV,"keyup",bnq);cd.bd(bV,"keydown",bnq);cd.bd(bV,"focus",bnf);cd.bd(bV,"blur",bnf);cd.bd(bV,"propertychange",clB)}})}()}cl.bHr=cl.bHr.ft(function(bj){if(!document.createEvent){bj.stopped=!0;var cr=bj.args,clC=document.createEventObject();NEJ.X(clC,cr[2]);try{cr[0].fireEvent("on"+cr[1],clC)}catch(ex){console.error(ex.message);console.error(ex.stack)}}});cl.bIp=function(){var mS=/opacity\s*=\s*([\d]+)/i;return cl.bIp.ft(function(bj){if(!!window.getComputedStyle)return;bj.stopped=!0;var cN="",cr=bj.args,ch=cr[1],bgl=cr[0].currentStyle||de;if(ch=="opacity"&&!(ch in bgl)){cN=0;var bH=bgl.filter||"";if(mS.test(bH)){cN=parseFloat(RegExp.$1)/100}}else{cN=bgl[cl.bIZ(ch)]||""}bj.value=cN})}();cl.bLw=cl.bLw.ft(function(bj){var cr=bj.args,ch=cr[1].toLowerCase();if(ch=="opacity"&&!(ch in document.body.style)){cr[1]="filter";cr[2]="alpha(opacity="+cr[2]*100+")"}});cl.bMS=function(){var ig=30;return cl.bMS.ft(function(bj){var bA=bj.args[0];if(!bA.styleSheet)return;bj.stopped=!0;var wV=bj.args[1];var bF=document.styleSheets;if(bF.length>ig){bA=bF[ig];wV=bA.cssText+wV}else{bA=bA.styleSheet}bA.cssText=wV})}();cl.bNp=cl.bNp.ft(function(bj){var cr=bj.args,Je=cr[0].sheet;if(!!Je)return;bj.stopped=!0;var Je=cr[0].styleSheet,eU=Je.rules.length,db=cr[1].split(/[\{\}]/);Je.addRule(db[0],db[1],eU);bj.value=Je.rules[eU]});cl.bwm=function(){var bwJ=function(eE,bj){bm.bZ(cd.fh(bj),eE)};return cl.bwm.ft(function(bj){if(bq.EN.release>="4.0")return;var cr=bj.args;if(cr[1]!=1){cd.bd(cr[0],"blur",bwJ.Z(null,cr[2]));cr[1]=-1}})}();cl.bnS=function(bnR){return!0};cl.bPB=cl.bPB.ft(function(bj){var cr=bj.args,bB=(cr[0].attributes||de)[cr[1]];if(!!bB){bj.stopped=!0;bj.value=bB.value}},function(bj){var cr=bj.args;if(cr[1]=="maxlength"&&bj.value==2147483647)bj.value=""});if(bq.EN.release<5){cl.bAp=function(){var RD,hO,RK=[],byL="cb-"+ +(new Date),cX='<script>parent.nej.h["'+byL+'"] = !0;parent.location.hash = decodeURIComponent("#<HASH>");</scr'+"ipt>";var clE=function(){RD=window.clearTimeout(RD);if(!RK.length)return;var jp=RK.shift();try{var za=hO.contentWindow.document;za.open();za.write("<head><title>");za.write(document.title);za.write("</title>");za.write(cX.replace("#<HASH>",encodeURIComponent(jp)));za.write("</head><body></body>");if(location.hostname!=document.domain)za.domain=document.domain;za.close();cl[byL]=!1}catch(ex){console.log(ex.message||ex);RK.unshift(jp)}RD=window.setTimeout(clE,50)};return cl.bAp.ft(function(bj){bj.stopped=!0;var jp=bj.args[0];if(!!cl[byL]||!hO&&!jp)return;RK.push(jp);if(!hO)hO=bm.bfA();clE()})}()}try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}})();
(function(){var bp=NEJ.P,bm=bp("nej.e"),cd=bp("nej.v"),bq=bp("nej.p"),cl=bp("nej.h");if(bq.Fq.trident0)return;var jI=+(new Date);cR={};cl.bSz=cl.bSz.ft(function(bj){bj.stopped=!0;var cr=bj.args,bV=bm.mq(cr[0]),bR="hover-"+bV;if(!bV||!!cR[bR])return;cR[bR]=!0;cd.bd(bV,"mouseenter",bm.bK.Z(bm,bV,cr[1]));cd.bd(bV,"mouseleave",bm.bZ.Z(bm,bV,cr[1]))});cl.bSU=function(){var did=function(){};return cl.bSU.ft(function(bj){bj.stopped=!0;var bA=bj.args[0],bV="fixed-"+bm.mq(bA);if(!!cR[bV])return;var lG={};cR[bV]=lG})}();cl.bzB=cl.bzB.ft(function(bj){bj.stopped=!0;var bA=bj.args[0],kg=bA.style,clS=bm.uU();kg.width=clS.scrollWidth+"px";kg.height=clS.scrollHeight+"px"});cl.Ba=cl.Ba.ft(function(bj){bj.stopped=!0;var bA=bj.args[0],np=cR[bA.msk];if(!np){bA.msk=jI++;np=bm.qw("iframe");np.style.position="absolute";cR[bA.msk]=np}bj.value=np;var kg=np.style;kg.top=(parseInt(bm.tJ(bA,"top"))||0)+"px";kg.left=(parseInt(bm.tJ(bA,"left"))||0)+"px";kg.width=bA.offsetWidth+"px";kg.height=bA.offsetHeight+"px";bA.insertAdjacentElement("beforeBegin",np)});cl.bAb=cl.bAb.ft(function(bj){bj.stopped=!0;var np=cR[bj.args[0].msk];if(!!np)bm.dq(np)})})();
(function(){var bp=NEJ.P,cd=bp("nej.v"),bm=bp("nej.e"),cl=bp("nej.h"),bq=bp("nej.p"),clT=bq.bUz;if(bq.Fq.gecko)return;var bjT=function(){clT.css3d=clT.css3d||"MozPerspective"in document.body.style;if(!document.body.insertAdjacentElement)HTMLElement.prototype.insertAdjacentElement=function(clU,bA){if(!clU||!bA)return;switch(clU){case"beforeEnd":this.appendChild(bA);return;case"beforeBegin":this.parentNode.insertBefore(bA,this);return;case"afterBegin":!this.firstChild?this.appendChild(bA):this.insertBefore(bA,this.firstChild);return;case"afterEnd":!this.nextSibling?this.parentNode.appendChild(bA):this.parentNode.insertBefore(bA,this.nextSibling);return}};if(!("innerText"in document.body)){HTMLElement.prototype["__defineGetter__"]("innerText",function(){return this.textContent});HTMLElement.prototype["__defineSetter__"]("innerText",function(cX){this.textContent=cX})}};cl.Yf=function(){var mS=/^(?:transitionend|animationend|animationstart|animationiteration)$/i;return cl.Yf.ft(function(bj){var cr=bj.args;if(mS.test(cr[1]||"")){bj.stopped=!0;bj.value=cr}})}();cl.ID=function(){var le={mousewheel:"MozMousePixelScroll",MozMousePixelScroll:!0};return cl.ID.ft(cl.bov.Z(cl,le))}();cl.Or=function(){var dcp=function(bV,ec,bj){var bA=bm.bQ(bV);if(!!bA){var gg=bj.detail;bj.wheelDelta=-gg;bj.wheelDeltaY=-gg;bj.wheelDeltaX=0;ec.call(bA,bj)}};return cl.Or.ft(function(bj){var cr=bj.args,bz=cr[0],ec=cr[1],bV=bm.mq(cr[2]);if(bz=="MozMousePixelScroll"){bj.stopped=!0;bj.value=dcp.Z(null,bV,ec)}})}();cl.cYB=function(){var dcP=function(bj){cd.dG(bj);cd.fh(bj).control.click()};return function(bA){cd.bd(bA,"click",dcP)}}();bjT()})();
(function(){var bp=NEJ.P,bm=bp("nej.e"),cl=bp("nej.h");var bmO=function(){var gA=!!document.body.classList;return function(){return gA}}();var cmF=function(){var ea=/\s+/g;return function(eA){eA=(eA||"").trim();return!eA?null:new RegExp("(\\s|^)(?:"+eA.replace(ea,"|")+")(?=\\s|$)","g")}}();cl.bgI=cl.bgI.ft(function(bj){if(bmO())return;bj.stopped=!0;var cr=bj.args,bA=bm.bQ(cr[0]);if(!bA||!cr[1]&&!cr[2])return;var eA=bA.className||"";var Yk=" "+(cr[2]||""),Yi=cmF((cr[1]||"")+Yk);!!Yi&&(eA=eA.replace(Yi,"$1"));bA.className=(eA+Yk).replace(/\s+/g," ").trim()});cl.bQE=cl.bQE.ft(function(bj){if(bmO())return;bj.stopped=!0;var cr=bj.args;cl.bgI(cr[0],"",cr[1])});cl.bQW=cl.bQW.ft(function(bj){if(bmO())return;bj.stopped=!0;var cr=bj.args;cl.bgI(cr[0],cr[1],"")});cl.bRX=cl.bRX.ft(function(bj){if(bmO())return;bj.stopped=!0;var cr=bj.args,bA=bm.bQ(cr[0]);if(!bA){bj.value=!1;return}var ea=cmF(cr[1]);bj.value=!ea?!1:ea.test(bA.className||"")})})();
(function(){var bp=NEJ.P,bm=bp("nej.e"),cd=bp("nej.v"),bq=bp("nej.p"),cl=bp("nej.h");if(bq.Fq.webkit)return;cl.ID=function(){var le={mouseenter:"mouseover",mouseleave:"mouseout"};return cl.ID.ft(cl.bov.Z(cl,le))}();cl.Or=function(){var cR={};var dep=function(bV,bA){return bV==bA.id};var cmL=function(bV,il,bj){var bR=bV+"-timer";cR[bR]=window.clearTimeout(cR[bR]);var bA=cd.fh(bj,dep.Z(null,bV));if(!bA)return;cd.ow(bj);if(cR[bV]!=il){cR[bV]=il;return bA}};var det=function(bV,ec,bj){var bA=cmL(bV,"over",bj);if(!!bA){ec.call(bA,bj)}};var dfE=function(bV,ec,bj){var bA=cmL(bV,"out",bj);if(!!bA){cR[bV+"-timer"]=window.setTimeout(dfF.Z(null,bV,ec,NEJ.X({},bj)),50)}};var dfF=function(bV,ec,bj){delete cR[bV+"-timer"];if(cR[bV]=="out"){var bA=bm.bQ(bV);ec.call(bA,bj)}};return cl.Or.ft(function(bj){var cr=bj.args,bz=cr[0],ec=cr[1],bV=bm.mq(cr[2]);switch(bz){case"mouseover":bj.stopped=!0;bj.value=det.Z(null,bV,ec);break;case"mouseout":bj.stopped=!0;bj.value=dfE.Z(null,bV,ec);break}})}();cl.bnS=function(bnR){return!0};cl.XV=cl.XV.ft(function(bj){bj.stopped=!0})})();
(function(){var o=!0,w=null;(function(B){function v(a){if("bug-string-char-index"==a)return"a"!="a"[0];var f,c="json"==a;if(c||"json-stringify"==a||"json-parse"==a){if("json-stringify"==a||c){var d=k.stringify,b="function"==typeof d&&l;if(b){(f=function(){return 1}).toJSON=f;try{b="0"===d(0)&&"0"===d(new Number)&&'""'==d(new String)&&d(m)===r&&d(r)===r&&d()===r&&"1"===d(f)&&"[1]"==d([f])&&"[null]"==d([r])&&"null"==d(w)&&"[null,null,null]"==d([r,m,w])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==d({a:[f,o,!1,w,"\0\b\n\f\r\t"]})&&"1"===d(w,f)&&"[\n 1,\n 2\n]"==d([1,2],w,1)&&'"-271821-04-20T00:00:00.000Z"'==d(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==d(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==d(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==d(new Date(-1))}catch(n){b=!1}}if(!c)return b}if("json-parse"==a||c){a=k.parse;if("function"==typeof a)try{if(0===a("0")&&!a(!1)){f=a('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var e=5==f.a.length&&1===f.a[0];if(e){try{e=!a('"\t"')}catch(g){}if(e)try{e=1!==a("01")}catch(i){}}}}catch(O){e=!1}if(!c)return e}return b&&e}}var m={}.toString,p,C,r,D=typeof define==="function"&&define.amd,k="object"==typeof exports&&exports;k||D?"object"==typeof JSON&&JSON?k?(k.stringify=JSON.stringify,k.parse=JSON.parse):k=JSON:D&&(k=B.JSON={}):k=B.JSON||(B.JSON={});var l=new Date(-0xc782b5b800cec);try{l=-109252==l.getUTCFullYear()&&0===l.getUTCMonth()&&1===l.getUTCDate()&&10==l.getUTCHours()&&37==l.getUTCMinutes()&&6==l.getUTCSeconds()&&708==l.getUTCMilliseconds()}catch(P){}if(!v("json")){var s=v("bug-string-char-index");if(!l)var t=Math.floor,J=[0,31,59,90,120,151,181,212,243,273,304,334],z=function(a,f){return J[f]+365*(a-1970)+t((a-1969+(f=+(f>1)))/4)-t((a-1901+f)/100)+t((a-1601+f)/400)};if(!(p={}.hasOwnProperty))p=function(a){var f={},c;if((f.__proto__=w,f.__proto__={toString:1},f).toString!=m)p=function(a){var f=this.__proto__,a=a in(this.__proto__=w,this);this.__proto__=f;return a};else{c=f.constructor;p=function(a){var f=(this.constructor||c).prototype;return a in this&&!(a in f&&this[a]===f[a])}}f=w;return p.call(this,a)};var K={"boolean":1,number:1,string:1,"undefined":1};C=function(a,f){var c=0,b,h,n;(b=function(){this.valueOf=0}).prototype.valueOf=0;h=new b;for(n in h)p.call(h,n)&&c++;b=h=w;if(c)c=c==2?function(a,f){var c={},b=m.call(a)=="[object Function]",d;for(d in a)!(b&&d=="prototype")&&!p.call(c,d)&&(c[d]=1)&&p.call(a,d)&&f(d)}:function(a,f){var c=m.call(a)=="[object Function]",b,d;for(b in a)!(c&&b=="prototype")&&p.call(a,b)&&!(d=b==="constructor")&&f(b);(d||p.call(a,b="constructor"))&&f(b)};else{h=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"];c=function(a,f){var c=m.call(a)=="[object Function]",b,d;if(d=!c)if(d=typeof a.constructor!="function"){d=typeof a.hasOwnProperty;d=d=="object"?!!a.hasOwnProperty:!K[d]}d=d?a.hasOwnProperty:p;for(b in a)!(c&&b=="prototype")&&d.call(a,b)&&f(b);for(c=h.length;b=h[--c];d.call(a,b)&&f(b));}}c(a,f)};if(!v("json-stringify")){var L={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},u=function(a,f){return("000000"+(f||0)).slice(-a)},G=function(a){var f='"',b=0,d=a.length,h=d>10&&s,n;for(h&&(n=a.split(""));b<d;b++){var e=a.charCodeAt(b);switch(e){case 8:case 9:case 10:case 12:case 13:case 34:case 92:f=f+L[e];break;default:if(e<32){f=f+("\\u00"+u(2,e.toString(16)));break}f=f+(h?n[b]:s?a.charAt(b):a[b])}}return f+'"'},E=function(a,b,c,d,h,n,e){var g=b[a],i,j,k,l,q,s,v,x,y;try{g=b[a]}catch(A){}if(typeof g=="object"&&g){i=m.call(g);if(i=="[object Date]"&&!p.call(g,"toJSON"))if(g>-1/0&&g<1/0){if(z){k=t(g/864e5);for(i=t(k/365.2425)+1970-1;z(i+1,0)<=k;i++);for(j=t((k-z(i,0))/30.42);z(i,j+1)<=k;j++);k=1+k-z(i,j);l=(g%864e5+864e5)%864e5;q=t(l/36e5)%24;s=t(l/6e4)%60;v=t(l/1e3)%60;l=l%1e3}else{i=g.getUTCFullYear();j=g.getUTCMonth();k=g.getUTCDate();q=g.getUTCHours();s=g.getUTCMinutes();v=g.getUTCSeconds();l=g.getUTCMilliseconds()}g=(i<=0||i>=1e4?(i<0?"-":"+")+u(6,i<0?-i:i):u(4,i))+"-"+u(2,j+1)+"-"+u(2,k)+"T"+u(2,q)+":"+u(2,s)+":"+u(2,v)+"."+u(3,l)+"Z"}else g=w;else if(typeof g.toJSON=="function"&&(i!="[object Number]"&&i!="[object String]"&&i!="[object Array]"||p.call(g,"toJSON")))g=g.toJSON(a)}c&&(g=c.call(b,a,g));if(g===w)return"null";i=m.call(g);if(i=="[object Boolean]")return""+g;if(i=="[object Number]")return g>-1/0&&g<1/0?""+g:"null";if(i=="[object String]")return G(""+g);if(typeof g=="object"){for(a=e.length;a--;)if(e[a]===g)throw TypeError();e.push(g);x=[];b=n;n=n+h;if(i=="[object Array]"){j=0;for(a=g.length;j<a;y||(y=o),j++){i=E(j,g,c,d,h,n,e);x.push(i===r?"null":i)}a=y?h?"[\n"+n+x.join(",\n"+n)+"\n"+b+"]":"["+x.join(",")+"]":"[]"}else{C(d||g,function(a){var b=E(a,g,c,d,h,n,e);b!==r&&x.push(G(a)+":"+(h?" ":"")+b);y||(y=o)});a=y?h?"{\n"+n+x.join(",\n"+n)+"\n"+b+"}":"{"+x.join(",")+"}":"{}"}e.pop();return a}};k.stringify=function(a,b,c){var d,h,j;if(typeof b=="function"||typeof b=="object"&&b)if(m.call(b)=="[object Function]")h=b;else if(m.call(b)=="[object Array]"){j={};for(var e=0,g=b.length,i;e<g;i=b[e++],(m.call(i)=="[object String]"||m.call(i)=="[object Number]")&&(j[i]=1));}if(c)if(m.call(c)=="[object Number]"){if((c=c-c%1)>0){d="";for(c>10&&(c=10);d.length<c;d=d+" ");}}else m.call(c)=="[object String]"&&(d=c.length<=10?c:c.slice(0,10));return E("",(i={},i[""]=a,i),h,j,d,"",[])}}if(!v("json-parse")){var M=String.fromCharCode,N={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},b,A,j=function(){b=A=w;throw SyntaxError()},q=function(){for(var a=A,f=a.length,c,d,h,k,e;b<f;){e=a.charCodeAt(b);switch(e){case 9:case 10:case 13:case 32:b++;break;case 123:case 125:case 91:case 93:case 58:case 44:c=s?a.charAt(b):a[b];b++;return c;case 34:c="@";for(b++;b<f;){e=a.charCodeAt(b);if(e<32)j();else if(e==92){e=a.charCodeAt(++b);switch(e){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c=c+N[e];b++;break;case 117:d=++b;for(h=b+4;b<h;b++){e=a.charCodeAt(b);e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70||j()}c=c+M("0x"+a.slice(d,b));break;default:j()}}else{if(e==34)break;e=a.charCodeAt(b);for(d=b;e>=32&&e!=92&&e!=34;)e=a.charCodeAt(++b);c=c+a.slice(d,b)}}if(a.charCodeAt(b)==34){b++;return c}j();default:d=b;if(e==45){k=o;e=a.charCodeAt(++b)}if(e>=48&&e<=57){for(e==48&&(e=a.charCodeAt(b+1),e>=48&&e<=57)&&j();b<f&&(e=a.charCodeAt(b),e>=48&&e<=57);b++);if(a.charCodeAt(b)==46){for(h=++b;h<f&&(e=a.charCodeAt(h),e>=48&&e<=57);h++);h==b&&j();b=h}e=a.charCodeAt(b);if(e==101||e==69){e=a.charCodeAt(++b);(e==43||e==45)&&b++;for(h=b;h<f&&(e=a.charCodeAt(h),e>=48&&e<=57);h++);h==b&&j();b=h}return+a.slice(d,b)}k&&j();if(a.slice(b,b+4)=="true"){b=b+4;return o}if(a.slice(b,b+5)=="false"){b=b+5;return false}if(a.slice(b,b+4)=="null"){b=b+4;return w}j()}}return"$"},F=function(a){var b,c;a=="$"&&j();if(typeof a=="string"){if((s?a.charAt(0):a[0])=="@")return a.slice(1);if(a=="["){for(b=[];;c||(c=o)){a=q();if(a=="]")break;if(c)if(a==","){a=q();a=="]"&&j()}else j();a==","&&j();b.push(F(a))}return b}if(a=="{"){for(b={};;c||(c=o)){a=q();if(a=="}")break;if(c)if(a==","){a=q();a=="}"&&j()}else j();(a==","||typeof a!="string"||(s?a.charAt(0):a[0])!="@"||q()!=":")&&j();b[a.slice(1)]=F(q())}return b}j()}return a},I=function(a,b,c){c=H(a,b,c);c===r?delete a[b]:a[b]=c},H=function(a,b,c){var d=a[b],h;if(typeof d=="object"&&d)if(m.call(d)=="[object Array]")for(h=d.length;h--;)I(d,h,c);else C(d,function(a){I(d,a,c)});return c.call(a,b,d)};k.parse=function(a,f){var c,d;b=0;A=""+a;c=F(q());q()!="$"&&j();b=A=w;return f&&m.call(f)=="[object Function]"?H((d={},d[""]=c,d),"",f):c}}}D&&define(function(){return k})})(this)})();
(function(){var bp=NEJ.P,bq=bp("nej.p");if(bq.Fq.trident0)return;JSON.parse=function(){var dhJ=function(cX){return!/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(cX.replace(/"(\\.|[^"\\])*"/g,""))};return JSON.parse.ft(function(bj){var cT=bj.args[0]||"";if(cT.length>=5e5){bj.stopped=!0;bj.value=eval("("+cT+")")}})}()})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,dC=bp("nej.g"),bm=bp("nej.e"),bD=bp("nej.u"),cd=bp("nej.v"),cl=bp("nej.h"),ej=bp("nej.x"),XK,bmD={};bm.mq=ej.mq=function(bA){bA=bm.bQ(bA);if(!bA)return;var bV=!!bA.id?bA.id:"auto-id-"+bD.mF(16);bA.id=bV;if(bm.bQ(bV)!=bA)bmD[bV]=bA;return bV};bm.bQ=ej.bQ=function(bA){var bB=bmD[""+bA];if(!!bB)return bB;if(!bD.oe(bA)&&!bD.biM(bA))return bA;return document.getElementById(bA)};bm.cJ=ej.cJ=function(bA,eE){bA=bm.bQ(bA);if(!bA)return null;var bF=cl.bOD(bA);if(!!eE)bD.nT(bF,function(bB,bf){if(!bm.hv(bB,eE))bF.splice(bf,1)});return bF};bm.bc=ej.bc=function(bA,eA){bA=bm.bQ(bA);return!bA?null:cl.bOL(bA,eA.trim())};bm.dfH=ej.dfH=function(){var LQ=function(){return!0};return function(bA,hp){bA=bm.bQ(bA);if(!bA)return;var lG={backward:!1,filter:LQ};if(bD.lX(hp)){lG.filter=hp}else{lG=NEJ.X(lG,hp)}var bfi=lG.backward?cl.bQr:cl.bOT;while(bA=bfi(bA)){if(lG.filter(bA)){break}}return bA}}();bm.cnd=ej.cnd=function(bA){bA=bm.bQ(bA);if(!!bA){bA=bA.parentNode;while(!!bA){if(bA.scrollHeight>bA.clientHeight)break;bA=bA.parentNode}if(!!bA)return bA}var qW=document.body.scrollHeight,LI=document.documentElement.scrollHeight;return LI>=qW?document.documentElement:document.body};bm.uU=function(){var cnl=function(bF){var cN=0;bD.bw(bF,function(rd){if(!rd)return;if(!cN){cN=rd}else{cN=Math.min(cN,rd)}});return cN};return function(za){var cnH=za||document,LG=cnH.body,LF=cnH.documentElement,cN={scrollTop:Math.max(LG.scrollTop,LF.scrollTop),scrollLeft:Math.max(LG.scrollLeft,LF.scrollLeft),clientWidth:cnl([LG.clientWidth,LG.offsetWidth,LF.clientWidth,LF.offsetWidth]),clientHeight:cnl([LG.clientHeight,LG.offsetHeight,LF.clientHeight,LF.offsetHeight])};cN.scrollWidth=Math.max(cN.clientWidth,LG.scrollWidth,LF.scrollWidth);cN.scrollHeight=Math.max(cN.clientHeight,LG.scrollHeight,LF.scrollHeight);return cN}}();bm.dhB=function(ig,sb){var cN=NEJ.X({},sb),bTg=ig.width/ig.height,blY=sb.width/sb.height;if(bTg>blY&&sb.height>ig.height){cN.height=ig.height;cN.width=cN.height*blY}if(bTg<blY&&sb.width>ig.width){cN.width=ig.width;cN.height=cN.width/blY}return cN};bm.djS=function(){var ea=/\s+/;var HE={left:function(){return 0},center:function(uT,sb){return(uT.width-sb.width)/2},right:function(uT,sb){return uT.width-sb.width},top:function(){return 0},middle:function(uT,sb){return(uT.height-sb.height)/2},bottom:function(uT,sb){return uT.height-sb.height}};return function(uT,sb,rn){var cN={},db=(rn||"").split(ea),ma=HE[db[1]]||HE.middle,zD=HE[db[0]]||HE.center;cN.top=ma(uT,sb);cN.left=zD(uT,sb);return cN}}();bm.dhw=ej.dhw=function(bA,eE){cl.bSz(bA,eE||bm.dj(bA,"hover")||"js-hover");return this};bm.bvO=ej.bvO=function(bA){bA=bm.bQ(bA);if(!bA)return;cl.bSU(bA)};bm.dhv=ej.dhv=function(){var cR={},cnG=2;var dhr=function(bV,eE,bj){cR[bV]=[cd.OA(bj),cd.OE(bj)];bm.bK(bV,eE)};var dhm=function(bV,eE,bj){var oV=cR[bV];if(!bD.jO(oV))return;var dhl=Math.abs(cd.OA(bj)-oV[0]),dhi=Math.abs(cd.OE(bj)-oV[1]);if(dhl>cnG||dhi>cnG)bRY(bV,eE)};var bRY=function(bV,eE){if(bD.jO(cR[bV])){cR[bV]=-1;bm.bZ(bV,eE)}};return function(bA,eE){var bV=bm.mq(bA);if(!bV||cR[bV]!=null)return;cR[bV]=-1;eE=eE||bm.dj(bV,"highlight")||"js-highlight";cd.bd(bV,"touchstart",dhr.Z(null,bV,eE));cd.bd(document,"touchmove",dhm.Z(null,bV,eE));cd.bd(document,"touchend",bRY.Z(null,bV,eE));cd.bd(document,"touchcancel",bRY.Z(null,bV,eE))}}();bm.dhh=ej.dhh=function(){var dhg=function(bV,eE,dhb){var bA=bm.bQ(bV),bj={clazz:eE,target:bA};if(bm.hv(bA,eE)){bj.toggled=!1;bm.bZ(bA,eE)}else{bj.toggled=!0;bm.bK(bA,eE)}dhb.call(null,bj)};return function(bA,Y){bA=bm.bQ(bA);if(!!bA){var cP={ontoggle:dm,clazz:"js-toggle",element:bA.parentNode};if(bD.oe(Y)){var bB=bm.bQ(Y);!!bB?cP.element=bB:cP.clazz=Y}else{NEJ.EX(cP,Y);cP.element=bm.bQ(cP.element)}var bV=bm.mq(cP.element);cd.bd(bA,"click",dhg.Z(null,bV,cP.clazz,cP.ontoggle||dm))}return this}}();bm.bkX=ej.bkX=function(bA,Y){bA=bm.bQ(bA);if(!bA)return;var gS=0,eE="js-focus";if(bD.biM(Y)){gS=Y}else if(bD.oe(Y)){eE=Y}else if(bD.Zc(Y)){gS=Y.mode||gS;eE=Y.clazz||eE}var bH=parseInt(bm.dj(bA,"mode"));if(!isNaN(bH))gS=bH;bH=bm.dj(bA,"focus");if(!!bH)eE=bH;cl.bwm(bA,gS,eE);return this};bm.qw=function(){var dD={a:{href:"#",hideFocus:!0},style:{type:"text/css"},link:{type:"text/css",rel:"stylesheet"},iframe:{frameBorder:0},script:{defer:!0,type:"text/javascript"}};return function(BU,eA,dO){var bA=document.createElement(BU);NEJ.X(bA,dD[BU.toLowerCase()]);if(!!eA)bA.className=eA;dO=bm.bQ(dO);if(!!dO)dO.appendChild(bA);return bA}}();bm.bfA=function(){var dha=function(){if(location.hostname==document.domain)return"about:blank";return'javascript:(function(){document.open();document.domain="'+document.domain+'";document.close();})();'};var dgZ=function(ch){ch=ch.trim();if(!ch)return bm.qw("iframe");var hO;try{hO=document.createElement('<iframe name="'+ch+'"></iframe>');hO.frameBorder=0}catch(e){hO=bm.qw("iframe");hO.name=ch}return hO};return function(Y){Y=Y||de;var hO=dgZ(Y.name||"");if(!Y.visible)hO.style.display="none";if(bD.lX(Y.onload))cd.bd(hO,"load",function(bj){if(!hO.src)return;cd.dY(hO,"load");Y.onload(bj)});var dO=Y.parent;if(bD.lX(dO)){try{dO(hO)}catch(e){}}else{(bm.bQ(dO)||document.body).appendChild(hO)}var kd=Y.src||dha();window.setTimeout(function(){hO.src=kd},0);return hO}}();bm.wX=ej.wX=function(){var cnC=function(dgW){dgW.src=dC.bXS};var cnB=function(tu){tu.src="about:blank"};return function(bA,dgU){bA=bm.bQ(bA);if(!bA)return this;if(!dgU)cd.dY(bA);delete bmD[bA.id];var BU=bA.tagName;if(BU=="IFRAME"){cnB(bA)}else if(BU=="IMG"){cnC(bA)}else if(!!bA.getElementsByTagName){bD.bw(bA.getElementsByTagName("img"),cnC);bD.bw(bA.getElementsByTagName("iframe"),cnB)}if(!!bA.parentNode){bA.parentNode.removeChild(bA)}return this}}();bm.dq=ej.dq=function(){var cR=document.createDocumentFragment();bp("dbg").dumpFRG=function(){return cR};return function(bA){bA=bm.bQ(bA);if(!!bA)cR.appendChild(bA);return this}}();bm.dgT=ej.dgT=function(bA){bA=bm.bQ(bA);if(!bA)return;bD.nT(bA.childNodes,function(bB){bm.wX(bB)})};bm.cnA=ej.cnA=function(){var eE,mS=/\s+/;var dgO=function(){if(!!eE)return;eE=bm.dA(".#<uispace>{position:relative;zoom:1;}.#<uispace>-show{position:absolute;top:0;left:100%;cursor:text;white-space:nowrap;overflow:hidden;}");bm.bxd()};return function(bA,Y){bA=bm.bQ(bA);if(!bA)return;dgO();Y=Y||de;var dO=bA.parentNode;if(!bm.hv(dO,eE)){dO=bm.qw("span",eE);bA.insertAdjacentElement("beforeBegin",dO);dO.appendChild(bA)}var cnz=Y.nid||"",bB=bm.bc(dO,cnz||eE+"-show")[0];if(!bB){var Ca=((Y.clazz||"")+" "+cnz).trim();Ca=eE+"-show"+(!Ca?"":" ")+Ca;bB=bm.qw(Y.tag||"span",Ca);dO.appendChild(bB)}var Ca=Y.clazz;if(!!Ca){Ca=(Ca||"").trim().split(mS)[0]+"-parent";bm.bK(dO,Ca)}return bB}}();bm.dj=ej.dj=function(){var bxl={},BU="data-",ea=/\-(.{1})/gi;var jH=function(bA){var bV=bm.mq(bA);if(!!bxl[bV])return;var dD={};bD.bw(bA.attributes,function(bB){var bR=bB.nodeName;if(bR.indexOf(BU)!=0)return;bR=bR.replace(BU,"").replace(ea,function($1,$2){return $2.toUpperCase()});dD[bR]=bB.nodeValue||""});bxl[bV]=dD};return function(bA,bR,bH){bA=bm.bQ(bA);if(!bA)return null;var buT=bA.dataset;if(!buT){jH(bA);buT=bxl[bA.id]}if(bH!==undefined)buT[bR]=bH;return buT[bR]}}();bm.ho=ej.ho=function(bA,ch,bH){bA=bm.bQ(bA);if(!bA)return"";if(bH!==undefined&&!!bA.setAttribute)bA.setAttribute(ch,bH);return cl.bPB(bA,ch)};bm.hU=function(dN){var yP=document.createElement("div");yP.innerHTML=dN;var bF=bm.cJ(yP);return bF.length>1?yP:bF[0]};bm.dgL=ej.dgL=function(bA){bA=bm.bQ(bA);return!bA?"":cl.bxT(bA)};bm.cdt=function(Mv){Mv=(Mv||"").trim();return!Mv?null:cl.byg(Mv)};bm.dgK=function(hx,bz){hx=hx||"";switch(bz){case"xml":hx=bm.cdt(hx);break;case"json":try{hx=JSON.parse(hx)}catch(ex){hx=null}break}return hx};bm.oR=ej.oR=function(){var dgJ=function(bA){return bA==document.body||bA==document.documentElement};return function(gz,jm){gz=bm.bQ(gz);if(!gz)return null;jm=bm.bQ(jm)||null;var cN={x:0,y:0},bAt,gg,buP;while(!!gz&&gz!=jm){bAt=dgJ(gz);gg=bAt?0:gz.scrollLeft;buP=parseInt(bm.tJ(gz,"borderLeftWidth"))||0;cN.x+=gz.offsetLeft+buP-gg;gg=bAt?0:gz.scrollTop;buP=parseInt(bm.tJ(gz,"borderTopWidth"))||0;cN.y+=gz.offsetTop+buP-gg;gz=gz.offsetParent}return cN}}();bm.tc=ej.tc=function(bA){var gd=bm.oR(bA);window.scrollTo(gd.x,gd.y);return this};bm.dhC=function(yI){yI=(yI||"").trim();return cl.cga(yI)};bm.dgG=ej.dgG=function(bA,ch,dD){bA=bm.bQ(bA);if(!bA)return this;var bH=cl.cja(ch,dD);if(!bH)return this;bm.fm(bA,"transform",bH);return this};bm.buE=ej.buE=function(bA,dD){bA=bm.bQ(bA);if(!!bA)bD.hH(dD,function(bH,ch){bm.fm(bA,ch,bH)});return this};bm.dgF=ej.dgF=function(gL,Y){gL=bm.bQ(gL);if(!gL)return{start:0,end:0};if(bD.biM(Y))Y={start:Y,end:Y};if(Y!=null){if(Y.end==null)Y.end=Y.start||0;cl.bvI(gL,Y)}else{Y=cl.bwc(gL)}return Y};bm.fm=ej.fm=function(bA,ch,bH){bA=bm.bQ(bA);if(!!bA)cl.bLw(bA,ch,bH);return this};bm.tJ=ej.tJ=function(bA,ch){bA=bm.bQ(bA);if(!bA)return"";return cl.bIp(bA,ch)};bm.bCm=function(){var ea=/[\s\r\n]+/gi;return function(kg){kg=(kg||"").trim().replace(ea," ");if(!kg)return;var bB=bm.qw("style");document.head.appendChild(bB);cl.bMS(bB,cl.cWP(kg));return bB}}();bm.cnx=function(QZ){try{QZ=QZ.trim();if(!!QZ)return(new Function(QZ))()}catch(ex){console.error(ex.message);console.error(ex.stack)}};bm.dA=function(){var ea=/#<.*?>/g,jI=+(new Date);return function(wV){if(!XK)XK=[];var eA="auto-"+jI++;XK.push(wV.replace(ea,eA));return eA}}();bm.bxd=function(){if(!!XK){bm.bCm(XK.join(""));XK=null}return this};bm.dhD=function(kg,wV){kg=bm.bQ(kg);return!kg?null:cl.bNp(kg,wV)};bm.bK=ej.bK=function(){cl.bQE.apply(cl,arguments);return this};bm.bZ=ej.bZ=function(){cl.bQW.apply(cl,arguments);return this};bm.Fz=ej.Fz=function(){cl.bgI.apply(cl,arguments);return this};bm.hv=ej.hv=function(){return cl.bRX.apply(cl,arguments)};if(!document.head)document.head=document.getElementsByTagName("head")[0]||document.body;bp("dbg").dumpEL=function(){return bmD};ej.isChange=!0})();
(function(){var bp=NEJ.P,lm=NEJ.R,cl=bp("nej.h"),bm=bp("nej.e"),bD=bp("nej.u"),cd=bp("nej.v"),ej=bp("nej.x"),ea=/\s+/,cR={};var cnw=function(brW){var db=(arguments[2]||"").split(ea);if(db.length>1){var cr=lm.slice.call(arguments,1);bD.bw(db,function(bH){cr[1]=bH;!brW?cd.vd.apply(cd,cr):cd.bd.apply(cd,cr)});return!0}};var cnv=function(bA){bA=bm.bQ(bA);if(!bA||!cR[bA.id])return;var cnn=!0,bV=bA.id;bD.hH(cR[bV],function(){cnn=!1;return!0});if(cnn)delete cR[bV]};cd.bd=ej.bd=function(){var dgl=function(){var cr=cl.Yf.apply(cl,arguments);if(!cr||!cr[2])return;var yn=bm.mq(cr[0]),qW=cR[yn]||{};cR[yn]=qW;yn=cr[4]||cr[1];var LI=qW[yn]||[];qW[yn]=LI;LI.push({type:cr[1],func:cr[2],capt:!!cr[3],sfun:cr[5]||cr[2]});return cr.slice(0,4)};return function(){var cr=lm.slice.call(arguments,0);cr.unshift(!0);if(cnw.apply(null,cr)){return}var cr=dgl.apply(null,arguments);if(!!cr)cl.bgq.apply(cl,cr);return this}}();cd.vd=ej.vd=function(){var dgk=function(){var xB=arguments,yn=bm.mq(xB[0]),qW=cR[yn],bz=(xB[1]||"").toLowerCase(),bj=xB[2];if(!qW||!bz||!bj)return;qW=qW[bz];if(!qW)return;var dgj=!!xB[3],bf=bD.nZ(qW,function(le){return bj==le.sfun&&dgj==le.capt});if(bf<0)return;var le=qW.splice(bf,1)[0];if(!qW.length){delete cR[yn][bz]}return!le?null:[bm.bQ(yn),le.type,le.func,le.capt]};return function(){var cr=lm.slice.call(arguments,0);cr.unshift(!1);if(cnw.apply(null,cr)){return}var cr=dgk.apply(null,arguments);if(!!cr){cl.Yc.apply(cl,cr);cnv(cr[0])}return this}}();cd.dY=ej.dY=function(){var cnm=function(){var xB=arguments,yn=bm.mq(xB[0]),qW=cR[yn],LI=(xB[1]||"").toLowerCase();if(!qW||!LI)return;var bA=bm.bQ(yn);bD.nT(qW[LI],function(le,bf,bF){cl.Yc(bA,le.type,le.func,le.capt);bF.splice(bf,1)});delete qW[LI]};var dgh=function(bA){bA=bm.bQ(bA);if(!bA)return;var bV=bA.id;bD.hH(cR[bV],function(bF,bz){cnm(bV,bz)});delete cR[bV]};return function(bA,bz){!bz?dgh(bA):cnm(bA,bz);cnv(bA);return this}}();cd.fh=function(){var bHv;var LQ=function(ch,bA){var db=ch.split(":");if(db.length>1){if(!bHv)bHv={c:bm.hv,d:bm.dj,a:bm.ho};var brZ=bHv[db[0]];if(!!brZ)return!!brZ(bA,db[1]);ch=db[1]}return!!bm.ho(bA,ch)||!!bm.dj(bA,ch)||bm.hv(bA,ch)};return function(bj){if(!bj)return null;var bA=bj.target||bj.srcElement,hp=arguments[1];if(!hp)return bA;if(bD.oe(hp))hp=LQ.Z(null,hp);if(bD.lX(hp)){while(bA){if(!!hp(bA))return bA;bA=bA.parentNode}return null}return bA}}();cd.dG=function(bj){cd.ow(bj);cd.RW(bj);return this};cd.ow=function(bj){if(!!bj){!!bj.stopPropagation?bj.stopPropagation():bj.cancelBubble=!0}return this};cd.RW=function(bj){if(!!bj){!!bj.preventDefault?bj.preventDefault():bj.returnValue=!1}return this};cd.dhE=function(){var cnk=!1;var dgb=function(){if(cnk)return;cnk=!0;cd.bd(document,"click",dga,!0)};var dga=function(bj){var bA=cd.fh(bj),dfZ=bm.dj(bA,"stopped");if(dfZ=="true"){cd.dG(bj);bm.dj(bA,"stopped","false")}};return function(bj){if(!bj)return;if(bj.type=="click"){cd.dG(bj);return}dgb();bm.dj(cd.fh(bj),"stopped","true")}}();cd.cnj=function(bj){return{x:cd.OA(bj),y:cd.OE(bj)}};cd.OA=function(bj){return bj.pageX!=null?bj.pageX:bj.clientX+bm.uU().scrollLeft};cd.OE=function(bj){return bj.pageY!=null?bj.pageY:bj.clientY+bm.uU().scrollTop};cd.bn=ej.bn=function(bA,bz,Y){var cr=cl.Yf(bA,bz);if(!!cr)cl.bHr(cr[0],cr[1],Y);return this};bp("dbg").dumpEV=function(){return cR};ej.isChange=!0})();
(function(){var bp=NEJ.P,de=NEJ.O,lm=NEJ.R,dm=NEJ.F,cd=bp("nej.v"),bD=bp("nej.u"),bq=bp("nej.ut"),bM;if(!!bq.hW)return;bq.hW=NEJ.C();bM=bq.hW.prototype;bq.hW.bh=function(Y){Y=Y||{};var dh=!!this.iZ&&this.iZ.shift();if(!dh){dh=new this(Y);this.dfW=(this.dfW||0)+1}dh.bE(Y);return dh};bq.hW.bg=function(){var xj=function(bo,bf,bF){bo.bg();bF.splice(bf,1)};return function(dh){if(!dh)return null;if(!bD.jO(dh)){if(!(dh instanceof this)){var eA=dh.constructor;if(!!eA.bg)eA.bg(dh);return null}if(dh==this.btD)delete this.btD;if(dh==this.Ld)delete this.Ld;dh.bJ();if(!this.iZ)this.iZ=[];if(bD.nZ(this.iZ,dh)<0){this.iZ.push(dh)}return null}bD.nT(dh,xj,this)}}();bq.hW.fC=function(Y){Y=Y||{};if(!this.btD)this.btD=this.bh(Y);return this.btD};bq.hW.Jz=function(Y,bMF){Y=Y||{};if(!!bMF&&!!this.Ld){this.Ld.bg();delete this.Ld}if(!this.Ld){this.Ld=this.bh(Y)}else{this.Ld.bE(Y)}return this.Ld};bM.hk=function(){this.Ck={};this.cni={};this.id=bD.bho()};bM.bE=function(Y){this.bMO(Y)};bM.bJ=function(){this.dY();this.cnh()};bM.gN=function(){var dfT=function(cr){if(!cr||cr.length<3)return;this.cni["de-"+bD.bho()]=cr;cd.bd.apply(cd,cr)};return function(bF){bD.bw(bF,dfT,this)}}();bM.cnh=function(){var dfS=function(cr,bR,dD){delete dD[bR];cd.vd.apply(cd,cr)};return function(){bD.hH(this.cni,dfS)}}();bM.lq=function(hp){hp=hp||dm;bD.hH(this,function(Cm,bR,dD){if(!!Cm&&!!Cm.bg&&!hp(Cm)){delete dD[bR];Cm.bg()}})};bM.bg=function(){this.constructor.bg(this)};bM.dhF=function(bz){var bz=(bz||"").toLowerCase(),bj=this.Ck[bz];return!!bj&&bj!==dm};bM.bd=function(bz,bj){this.WU.apply(this,arguments);return this};bM.vd=function(bz,bj){var bz=(bz||"").toLowerCase(),qe=this.Ck[bz];if(!bD.jO(qe)){if(qe==bj){delete this.Ck[bz]}return}bD.nT(qe,function(LZ,bf,bF){if(LZ==bj){bF.splice(bf,1)}})};bM.WU=function(bz,bj){if(!!bz&&bD.lX(bj)){this.Ck[bz.toLowerCase()]=bj}};bM.bMO=function(){var dfQ=function(bj,bz){this.WU(bz,bj)};return function(qe){bD.hH(qe,dfQ,this)}}();bM.dY=function(){var bPp=function(bj,bz){this.dY(bz)};return function(bz){var bz=(bz||"").toLowerCase();if(!!bz){delete this.Ck[bz]}else{bD.hH(this.Ck,bPp,this)}}}();bM.dfO=function(bz,bj){if(!bz||!bD.lX(bj)){return}bz=bz.toLowerCase();var qe=this.Ck[bz];if(!qe){this.Ck[bz]=bj;return}if(!bD.jO(qe)){this.Ck[bz]=[qe]}this.Ck[bz].push(bj)};bM.bn=function(bz){var bz=(bz||"").toLowerCase(),bj=this.Ck[bz];if(!bj)return;var cr=lm.slice.call(arguments,1);if(!bD.jO(bj)){return bj.apply(this,cr)}bD.bw(bj,function(ec){try{ec.apply(this,cr)}catch(ex){console.error(ex.message);console.error(ex.stack)}},this);return this};bq.brT=function(){var cR={};return function(bV,eA,Y){var gX=eA.dfN;if(!gX){gX=bD.mF(10);eA.dfN=gX}var bR=bV+"-"+gX,dh=cR[bR];if(!!Y&&!dh){dh=eA.bh(Y);dh.bg=dh.bg.ft(function(bj){delete cR[bR];delete dh.bg});cR[bR]=dh}return dh}}()})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,bm=bp("nej.e"),bD=bp("nej.u"),bq=bp("nej.ut"),bM;if(!!bq.du)return;bq.du=NEJ.C();bM=bq.du.bt(bq.hW);bM.hk=function(){this.cnf={};this.hu();this.bJv()};bM.bE=function(Y){this.bG(Y);this.oJ=Y.umi||"";this.WL=Y.dispatcher;this.dhG=Y.composite||de;this.bMO({onshow:this.cw.Z(this),onhide:this.cE.Z(this),onrefresh:this.ck.Z(this),onmessage:this.NW.Z(this),onbeforehide:this.dfJ.Z(this)})};bM.bJ=function(){delete this.oJ;this.cnf={};this.bN()};bM.dhH=function(bj){if(!!bj)bj.stopped=!0};bM.bJv=dm;bM.cw=dm;bM.cE=dm;bM.ck=dm;bM.NW=dm;bM.dfJ=dm;bM.dhI=function(){var bRB=function(dfG){return!!bq.gu&&dfG instanceof bq.gu};return function(){this.lq(bRB)}}();bM.dhK=function(jm,fe,gS){this.WL.DV({to:jm,mode:gS||0,data:fe,from:this.oJ})};bM.dhL=function(bz,W){this.WL.dfB(bz,{from:this.oJ,data:W})};bM.dhM=function(){this.WL.dfz.apply(this.WL,arguments)};bM.dfy=function(){return this.cnf};bm.cY=function(){var WI;bm.dfx=function(){if(!WI)return;bD.hH(WI,function(gJ,cF){dispatcher.dp(cF,gJ)});WI=null};return function(cF,gJ){if(!!window.dispatcher){dispatcher.dp.apply(dispatcher,arguments)}else{if(!WI){WI={}}WI[cF]=gJ}}}()})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),u=NEJ.P("nej.u"),p=NEJ.P("edu.m"),ut=NEJ.P("nej.ut"),eu=NEJ.P("edu.u"),DZ;p.du=NEJ.C();DZ=p.du.bt(ut.du,true);DZ.bJv=function(Y){this.fV=this.ee();this.bb=e.hU(this.dX());this.cu()};DZ.dX=f;DZ.cu=f;DZ.ee=f;DZ.cw=function(Y){this.WH(Y);this.dfv();if(eu.qt()){g.docTitle=document.title}};DZ.ck=function(Y){this.WH(Y);if(eu.qt()){g.docTitle=document.title}};DZ.WH=f;DZ.dfv=function(){if(!!this.fV&&this.bb.parentNode!=this.fV){this.fV.appendChild(this.bb)}};DZ.cE=function(){u.hH(g.modelList,function(Cm,bR,dD){if(!!Cm&&!!Cm.bg){delete dD[bR];Cm.bg()}});e.dq(this.bb)}})();
(function(){if(typeof TrimPath==="undefined"){TrimPath={};if(typeof exports!=="undefined")TrimPath=exports}var bct={},bqE=[],cnb=/\s+/g,jI=+(new Date),WE,ez,Ec;var OB=function(){var mS=/^\s*[\[\{'"].*?[\]\}'"]\s*$/,uV=/[\&\|\<\>\+\-\*\/\%\,\(\)\[\]\?\:\!\=\;]/,Iw=/^(?:defined|null|undefined|true|false|instanceof|new|this|typeof|\$v|[\d]+)$/i,dfr=/^new\s+/,dfp=/['"]/;var dfm=function(bH){if(mS.test(bH))return;bH=bH.split(".")[0].trim();if(!bH||dfp.test(bH))return;bH=bH.replace(dfr,"");try{if(Iw.test(bH))return;Ec[bH]=1}catch(e){}};return function(cX){cX=cX||"";if(!cX||mS.test(cX))return;var db=cX.split(uV);for(var i=0,l=db.length;i<l;i++)dfm(db[i])}}();var dfl=function(eo){if(eo[2]!="in")throw"bad for loop statement: "+eo.join(" ");bqE.push(eo[1]);OB(eo[3]);return"var __HASH__"+eo[1]+" = "+eo[3]+","+eo[1]+","+eo[1]+"_count=0;"+"if (!!__HASH__"+eo[1]+")"+"for(var "+eo[1]+"_key in __HASH__"+eo[1]+"){"+eo[1]+" = __HASH__"+eo[1]+"["+eo[1]+"_key];"+"if (typeof("+eo[1]+')=="function") continue;'+eo[1]+"_count++;"};var dfk=function(){var eo=bqE[bqE.length-1];return"}; if(!__HASH__"+eo+"||!"+eo+"_count){"};var dfj=function(){bqE.pop();return"};"};var dfi=function(eo){if(eo[2]!="as")throw"bad for list loop statement: "+eo.join(" ");var bbZ=eo[1].split("..");if(bbZ.length>1){OB(bbZ[0]);OB(bbZ[1]);return"for(var "+eo[3]+","+eo[3]+"_index=0,"+eo[3]+"_beg="+bbZ[0]+","+eo[3]+"_end="+bbZ[1]+","+eo[3]+"_length=parseInt("+eo[3]+"_end-"+eo[3]+"_beg+1);"+eo[3]+"_index<"+eo[3]+"_length;"+eo[3]+"_index++){"+eo[3]+" = "+eo[3]+"_beg+"+eo[3]+"_index;"}else{OB(eo[1]);return"for(var __LIST__"+eo[3]+" = "+eo[1]+","+eo[3]+","+eo[3]+"_index=0,"+eo[3]+"_length=__LIST__"+eo[3]+".length;"+eo[3]+"_index<"+eo[3]+"_length;"+eo[3]+"_index++){"+eo[3]+" = __LIST__"+eo[3]+"["+eo[3]+"_index];"}};var dfg=function(eo){if(!eo||!eo.length)return;eo.shift();var ch=eo[0].split("(")[0];return"var "+ch+" = function"+eo.join("").replace(ch,"")+"{var __OUT=[];"};var dfe=function(eo){if(!eo[1])throw"bad include statement: "+eo.join(" ");return'if (typeof inline == "function"){__OUT.push(inline('};var bzN=function(it,eo){OB(eo.slice(1).join(" "));return it};var dfc=function(eo){return bzN("if(",eo)};var dfa=function(eo){return bzN("}else if(",eo)};var deZ=function(eo){return bzN("var ",eo)};ez={blk:/^\{(cdata|minify|eval)/i,tag:"forelse|for|list|if|elseif|else|var|macro|break|notrim|trim|include",def:{"if":{pfix:dfc,sfix:"){",pmin:1},"else":{pfix:"}else{"},elseif:{pfix:dfa,sfix:"){",pdft:"true"},"/if":{pfix:"}"},"for":{pfix:dfl,pmin:3},forelse:{pfix:dfk},"/for":{pfix:dfj},list:{pfix:dfi,pmin:3},"/list":{pfix:"};"},"break":{pfix:"break;"},"var":{pfix:deZ,sfix:";"},macro:{pfix:dfg},"/macro":{pfix:'return __OUT.join("");};'},trim:{pfix:function(){WE=!0}},"/trim":{pfix:function(){WE=null}},inline:{pfix:dfe,pmin:1,sfix:"));}"}},ext:{seed:function(it){return(it||"")+""+jI},"default":function(bH,bbW){return bH||bbW}}};var deY=function(){var deX=/\\([\{\}])/g;return function(cX,mB){cX=cX.replace(deX,"$1");var eo=cX.slice(1,-1).split(cnb),lG=ez.def[eo[0]];if(!lG){bpC(cX,mB);return}if(!!lG.pmin&&lG.pmin>=eo.length)throw"Statement needs more parameters:"+cX;mB.push(!!lG.pfix&&typeof lG.pfix!="string"?lG.pfix(eo):lG.pfix||"");if(!!lG.sfix){if(eo.length<=1){if(!!lG.pdft)mB.push(lG.pdft)}else{for(var i=1,l=eo.length;i<l;i++){if(i>1)mB.push(" ");mB.push(eo[i])}}mB.push(lG.sfix)}}}();var cmW=function(Wy,mB){if(!Wy||!Wy.length)return;if(Wy.length==1){var bBC=Wy.pop();OB(bBC);mB.push(bBC==""?'""':bBC);return}var bBM=Wy.pop().split(":");mB.push("__MDF['"+bBM.shift()+"'](");cmW(Wy,mB);if(bBM.length>0){var cr=bBM.join(":");OB(cr);mB.push(","+cr)}mB.push(")")};var bpC=function(cX,mB){if(!cX)return;var bpc=cX.split("\n");if(!bpc||!bpc.length)return;for(var i=0,l=bpc.length,PP;i<l;i++){PP=bpc[i];if(!!WE){PP=PP.trim();if(!PP)continue}deS(PP,mB);if(!!WE&&i<l-1)mB.push("__OUT.push('\\n');")}};var deS=function(){var deQ=/\|\|/g,deN=/#@@#/g;return function(cX,mB){var bbJ="}",bbI=-1,eU=cX.length,pF,ny,Ww,boN,bbF;while(bbI+bbJ.length<eU){pF="${";ny="}";Ww=cX.indexOf(pF,bbI+bbJ.length);if(Ww<0)break;if(cX.charAt(Ww+2)=="%"){pF="${%";ny="%}"}boN=cX.indexOf(ny,Ww+pF.length);if(boN<0)break;boD(cX.substring(bbI+bbJ.length,Ww),mB);bbF=cX.substring(Ww+pF.length,boN).replace(deQ,"#@@#").split("|");for(var i=0,l=bbF.length;i<l;bbF[i]=bbF[i].replace(deN,"||"),i++);mB.push("__OUT.push(");cmW(bbF,mB);mB.push(");");bbJ=ny;bbI=boN}boD(cX.substring(bbI+bbJ.length),mB)}}();var boD=function(){var dD={r:/\n|\\|\'/g,"\n":"\\n","\\":"\\\\","'":"\\'"};var deM=function(cX){return(cX||"").replace(dD.r,function($1){return dD[$1]||$1})};return function(cX,mB){if(!cX)return;mB.push("__OUT.push('"+deM(cX)+"');")}}();var deL=function(){var deK=/\t/g,deJ=/\n/g,deI=/\r\n?/g;var cmS=function(cX,pF){var bf=cX.indexOf("}",pF+1);while(cX.charAt(bf-1)=="\\"){bf=cX.indexOf("}",bf+1)}return bf};var deE=function(){var db=[],deC=arguments[0];for(var x in deC){x=(x||"").trim();if(!x)continue;db.push(x+"=$v('"+x+"')")}return db.length>0?"var "+db.join(",")+";":""};return function(cX){Ec={};cX=cX.replace(deI,"\n").replace(deK,"    ");var xI=["if(!__CTX) return '';",""];xI.push("function $v(__NAME){var v = __CTX[__NAME];return v==null?window[__NAME]:v;};");xI.push("var defined=function(__NAME){return __CTX[__NAME]!=null;},");xI.push("__OUT=[];");var Qb=-1,eU=cX.length;var pS,Wp,bbi,bbf,Kz,bbb,bHY,bba;while(Qb+1<eU){pS=Qb;pS=cX.indexOf("{",pS+1);while(pS>=0){Wp=cmS(cX,pS);bbi=cX.substring(pS,Wp);bbf=bbi.match(ez.blk);if(!!bbf){Kz=bbf[1].length+1;bbb=cX.indexOf("}",pS+Kz);if(bbb>=0){bHY=bbb-pS-Kz<=0?"{/"+bbf[1]+"}":bbi.substr(Kz+1);Kz=cX.indexOf(bHY,bbb+1);if(Kz>=0){bpC(cX.substring(Qb+1,pS),xI);bba=cX.substring(bbb+1,Kz);switch(bbf[1]){case"cdata":boD(bba,xI);break;case"minify":boD(bba.replace(deJ," ").replace(cnb," "),xI);break;case"eval":if(!!bba)xI.push("__OUT.push((function(){"+bba+"})());");break}pS=Qb=Kz+bHY.length-1}}}else if(cX.charAt(pS-1)!="$"&&cX.charAt(pS-1)!="\\"&&bbi.substr(bbi.charAt(1)=="/"?2:1).search(ez.tag)==0){break}pS=cX.indexOf("{",pS+1)}if(pS<0)break;Wp=cmS(cX,pS);if(Wp<0)break;bpC(cX.substring(Qb+1,pS),xI);deY(cX.substring(pS,Wp+1),xI);Qb=Wp}bpC(cX.substring(Qb+1),xI);xI.push(';return __OUT.join("");');xI[1]=deE(Ec);Ec=null;return new Function("__CTX","__MDF",xI.join(""))}}();TrimPath.seed=function(){return jI};TrimPath.merge=function(){var baZ={};TrimPath.dump=function(){return{func:baZ,text:bct}};return function(gX,W,vG){try{W=W||{};if(!baZ[gX]&&!bct[gX])return"";if(!baZ[gX]){baZ[gX]=deL(bct[gX]);delete bct[gX]}if(!!vG){for(var x in ez.ext)if(!vG[x])vG[x]=ez.ext[x]}return baZ[gX](W,vG||ez.ext)}catch(ex){return ex.message||""}}}();TrimPath.parse=function(){var deB=+(new Date);return function(cX,gX){if(!cX)return"";gX=gX||"ck_"+deB++;bct[gX]=cX;return gX}}()})();
(function(){var bp=NEJ.P,bm=bp("nej.e"),bD=bp("nej.u"),cmO={};bm.dey=TrimPath.seed;bm.bS=function(){var cmN=function(bV){return!bm.bmE?"":bm.bmE(bV)};return function(gX,W,vG){W=W||{};W.inline=cmN;vG=NEJ.X(NEJ.X({},cmO),vG);vG.rand=bD.fb;vG.format=bD.wq;vG.escape=bD.dV;vG.inline=cmN;return TrimPath.merge(gX,W,vG)}}();bm.dL=function(cX,dew){if(!cX)return"";var gX,bA=bm.bQ(cX);if(!!bA){gX=bA.id;cX=bA.value||bA.innerText;if(!dew)bm.wX(bA)}return TrimPath.parse(cX,gX)};bm.deu=function(dO,gX,W,vG){dO=bm.bQ(dO);if(!!dO)dO.innerHTML=bm.bS(gX,W,vG);return this};bm.dhP=function(dD){NEJ.X(cmO,dD)};bp("dbg").dumpJST=function(){return TrimPath.dump()}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,bm=bp("nej.e"),cd=bp("nej.v"),bD=bp("nej.u"),bq=bp("nej.ut"),bM;if(!!bq.baN)return;bq.baN=NEJ.C();bM=bq.baN.bt(bq.hW);bM.hk=function(){this.cc={};this.hu()};bM.bE=function(Y){this.bG(Y);this.baM=bm.bQ(Y.element)||window;this.cmM(Y.event);this.deo();this.bn("oninit")};bM.bJ=function(){var RB=function(bH,bR,dD){if(!bD.jO(bH)){bD.bqd(this.baM,bR)}delete dD[bR]};return function(){this.bN();bD.hH(this.cc,RB,this);delete this.baM}}();bM.bmi=function(bA,bz){bA=bm.bQ(bA);return bA===this.baM&&(!bz||!!this.cc["on"+bz])};bM.cmM=function(bj){if(bD.oe(bj)){var ch="on"+bj;if(!this.cc[ch]){this.cc[ch]=this.den.Z(this,bj)}this.cmK(bj);return}if(bD.jO(bj)){bD.bw(bj,this.cmM,this)}};bM.cmK=function(bz){var bj="on"+bz,ec=this.baM[bj],cmJ=this.cc[bj];if(ec!=cmJ){this.blW(bz);if(!!ec&&ec!=dm)this.cmH(bz,ec);this.baM[bj]=cmJ}};bM.cmH=function(bz,ec,ded){var bF=this.cc[bz];if(!bF){bF=[];this.cc[bz]=bF}if(bD.lX(ec)){!ded?bF.push(ec):bF.unshift(ec)}};bM.blW=function(bz,ec){var bF=this.cc[bz];if(!bF||!bF.length)return;if(!ec){delete this.cc[bz];return}bD.nT(bF,function(bH,bf,Im){if(ec===bH){Im.splice(bf,1);return!0}})};bM.den=function(bz,bj){bj=bj||{noargs:!0};if(bj==de)bj={};bj.type=bz;this.bn("ondispatch",bj);if(!!bj.stopped)return;bD.bw(this.cc[bz],function(ec){try{ec(bj)}catch(ex){console.error(ex.message);console.error(ex.stack)}})};bM.deo=function(){var ddX=function(bj){var cr=bj.args,bz=cr[1].toLowerCase();if(this.bmi(cr[0],bz)){bj.stopped=!0;this.cmK(bz);this.cmH(bz,cr[2],cr[3]);this.bn("oneventadd",{type:bz,listener:cr[2]})}};var ddT=function(bj){var cr=bj.args,bz=cr[1].toLowerCase();if(this.bmi(cr[0],bz)){bj.stopped=!0;this.blW(bz,cr[2])}};var bPp=function(bj){var cr=bj.args,bz=(cr[1]||"").toLowerCase();if(this.bmi(cr[0])){if(!!bz){this.blW(bz);return}bD.hH(this.cc,function(bH,bR){if(bD.jO(bH)){this.blW(bR)}},this)}};var ddS=function(bj){var cr=bj.args,bz=cr[1].toLowerCase();if(this.bmi(cr[0],bz)){bj.stopped=!0;cr[0]["on"+bz].apply(cr[0],cr.slice(2))}};return function(){if(!!this.ddR)return;this.ddR=true;cd.bd=cd.bd.ft(ddX.Z(this));cd.vd=cd.vd.ft(ddT.Z(this));cd.dY=cd.dY.ft(bPp.Z(this));cd.bn=cd.bn.ft(ddS.Z(this))}}()})();
(function(){var bp=NEJ.P,dm=NEJ.F,dC=bp("nej.g"),cd=bp("nej.v"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ut.j"),bM,ddO=6e4;if(!!bq.baA)return;bq.baA=NEJ.C();bM=bq.baA.bt(eF.hW);bM.hk=function(){this.hu();this.baz={onerror:this.ddN.Z(this),onloaded:this.ddM.Z(this)};if(!this.constructor.cc)this.constructor.cc={loaded:{}}};bM.bE=function(Y){this.bG(Y);this.bPR=Y.version;this.bPV=Y.timeout;this.baz.version=this.bPR;this.baz.timeout=this.bPV};bM.cmC=function(bR){delete this.constructor.cc[bR]};bM.Kq=function(bR){return this.constructor.cc[bR]};bM.cmB=function(bR,W){this.constructor.cc[bR]=W};bM.blq=dm;bM.cmA=function(gY){cd.dY(gY)};bM.bao=function(gY){gY.src=this.lw;document.head.appendChild(gY)};bM.ddI=function(){var cR=this.Kq(this.lw);if(!cR)return;window.clearTimeout(cR.timer);this.cmA(cR.request);delete cR.bind;delete cR.timer;delete cR.request;this.cmC(this.lw);this.Kq("loaded")[this.lw]=!0};bM.bvh=function(ch){var cR=this.Kq(this.lw);if(!cR)return;var bF=cR.bind;this.ddI();if(!!bF&&bF.length>0){var dh;while(bF.length){dh=bF.shift();try{dh.bn(ch,arguments[1])}catch(ex){console.error(ex.message);console.error(ex.stack)}dh.bg()}}};bM.SE=function(jR){this.bvh("onerror",jR)};bM.cmz=function(){this.bvh("onloaded")};bM.ddG=function(cG){this.constructor.bh(this.baz).VV(cG)};bM.cmy=function(jR){var cR=this.Kq(this.vZ);if(!cR)return;if(!!jR)cR.error++;cR.loaded++;if(cR.loaded<cR.total)return;this.cmC(this.vZ);this.bn(cR.error>0?"onerror":"onloaded")};bM.ddN=function(jR){this.cmy(!0)};bM.ddM=function(){this.cmy()};bM.VV=function(cG){cG=bD.bwX(cG);if(!cG){this.bn("onerror",{code:dC.bwM,message:"请指定要载入的资源地址！"});return this}this.lw=cG;if(!!this.bPR)this.lw+=(this.lw.indexOf("?")<0?"?":"&")+this.bPR;if(this.Kq("loaded")[this.lw]){try{this.bn("onloaded")}catch(ex){console.error(ex.message);console.error(ex.stack)}this.bg();return this}var cR=this.Kq(this.lw),gY;if(!!cR){cR.bind.unshift(this);cR.timer=window.clearTimeout(cR.timer)}else{gY=this.blq();cR={request:gY,bind:[this]};this.cmB(this.lw,cR);cd.bd(gY,"load",this.cmz.Z(this));cd.bd(gY,"error",this.SE.Z(this,{code:dC.bto,message:"无法加载指定资源文件["+this.lw+"]！"}))}if(this.bPV!=0)cR.timer=window.setTimeout(this.SE.Z(this,{code:dC.bXt,message:"指定资源文件["+this.lw+"]载入超时！"}),this.bPV||ddO);if(!!gY)this.bao(gY);this.bn("onloading");return this};bM.cmx=function(bF){if(!bF||!bF.length){this.bn("onerror",{code:dC.bwM,message:"请指定要载入的资源队列！"});return this}this.vZ=bD.fb();var cR={error:0,loaded:0,total:bF.length};this.cmB(this.vZ,cR);for(var i=0,l=bF.length;i<l;i++){if(!bF[i]){cR.total--;continue}this.ddG(bF[i])}this.bn("onloading");return this}})();
(function(){var bp=NEJ.P,de=NEJ.O,bm=bp("nej.e"),cl=bp("nej.h"),bq=bp("nej.ut.j"),ZX;if(!!bq.bSm)return;bq.bSm=NEJ.C();ZX=bq.bSm.bt(bq.baA);ZX.blq=function(){var hO=bm.qw("iframe");hO.width=0;hO.height=0;hO.style.display="none";return hO};ZX.bao=function(gY){gY.src=this.lw;document.body.appendChild(gY)};ZX.SE=function(jR){var hO=(this.Kq(this.lw)||de).request;this.bvh("onerror",jR);cl.XV(hO)};ZX.cmz=function(){var sQ=null,hO=(this.Kq(this.lw)||de).request;try{sQ=hO.contentWindow.document.body}catch(ex){}this.bvh("onloaded",sQ);cl.XV(hO)}})();
(function(){var bp=NEJ.P,bm=bp("nej.e"),bq=bp("nej.ut.j"),bSD;if(!!bq.btW)return;bq.btW=NEJ.C();bSD=bq.btW.bt(bq.baA);bSD.blq=function(){return bm.qw("link")};bSD.bao=function(gY){gY.href=this.lw;document.head.appendChild(gY)}})();
(function(){var bp=NEJ.P,bm=bp("nej.e"),bq=bp("nej.ut.j"),btR;if(!!bq.btP)return;bq.btP=NEJ.C();btR=bq.btP.bt(bq.baA);btR.bE=function(Y){this.bG(Y);this.cmv=Y.async;this.bvq=Y.charset;this.baz.async=!1;this.baz.charset=this.bvq};btR.blq=function(){var gY=bm.qw("script");if(this.cmv!=null)gY.async=!!this.cmv;if(this.bvq!=null)gY.charset=this.bvq;return gY};btR.cmA=function(gY){bm.wX(gY)}})();
(function(){var bp=NEJ.P,fF=bp("nej.j"),bq=bp("nej.ut.j");fF.ddu=function(cG,Y){bq.btP.bh(Y).VV(cG);return this};fF.ddt=function(bF,Y){bq.btP.bh(Y).cmx(bF);return this};fF.dhU=function(cG,Y){bq.btW.bh(Y).VV(cG);return this};fF.ddr=function(bF,Y){bq.btW.bh(Y).cmx(bF);return this};fF.cmt=function(cG,Y){bq.bSm.bh(Y).VV(cG);return this}})();
(function(){var o=NEJ.O,u=NEJ.P("nej.u"),j=NEJ.P("nej.j");j.pd=function(){var fg=new Date,ddp=+fg,Ke=864e5;var ddo=function(ch){var yk=document.cookie,sg="\\b"+ch+"=",bsN=yk.search(sg);if(bsN<0)return"";bsN+=sg.length-2;var bwR=yk.indexOf(";",bsN);if(bwR<0)bwR=yk.length;return yk.substring(bsN,bwR)||""};return function(ch,W){if(W===undefined)return ddo(ch);if(u.oe(W)){if(!!W){document.cookie=ch+"="+W+";";return W}W={expires:-100}}W=W||o;var yk=ch+"="+(W.value||"")+";";delete W.value;if(W.expires!==undefined){fg.setTime(ddp+W.expires*Ke);W.expires=fg.toGMTString()}yk+=u.bqB(W,";");document.cookie=yk}}()})();
(function(){var bp=NEJ.P,dm=NEJ.F,fq=bp("nej.c"),dC=bp("nej.g"),bm=bp("nej.e"),bD=bp("nej.u"),fF=bp("nej.j"),eF=bp("nej.ut"),bq=bp("nej.ut.j"),bM;if(!!bq.VK)return;bq.VK=NEJ.C();bM=bq.VK.bt(eF.hW);bM.bE=function(Y){this.bG(Y);this.Fr={url:"",sync:!1,cookie:!1,type:"text",method:"GET",timeout:6e4};NEJ.EX(this.Fr,Y);var Na=fq.bQ("csrf");if(!!Na.cookie&&!!Na.param){var AS=encodeURIComponent(Na.param)+"="+encodeURIComponent(fF.pd(Na.cookie)||""),bhF=this.Fr.url.indexOf("?")<0?"?":"&";this.Fr.url+=bhF+AS}this.bsl=Y.headers||{};var cX=this.bsl[dC.Tr];if(cX==null)this.bsl[dC.Tr]=dC.cUD};bM.bJ=function(){this.bN();delete this.Kc;delete this.Fr;delete this.bsl};bM.Dk=function(bj){var eN=bj.status;if(eN==-1){this.bn("onerror",{code:dC.bXt,message:"请求["+this.Fr.url+"]超时！"});return}if((""+eN).indexOf("2")!=0){this.bn("onerror",{data:eN,code:dC.bto,message:"服务器返回异常状态["+eN+"]!"});return}this.bn("onload",bm.dgK(bj.result,this.Fr.type))};bM.Jd=dm;bM.ddn=function(W){var cG=this.Fr.url;if(!cG){this.bn("onerror",{code:dC.bwM,message:"没有输入请求地址！"});return this}try{this.Fr.data=W==null?null:W;var bj={request:this.Fr,headers:this.bsl};try{this.bn("onbeforerequest",bj)}catch(ex){console.error(ex.message);console.error(ex.stack)}this.Jd(bj)}catch(e){this.bn("onerror",{code:dC.bto,message:"请求["+cG+"]失败:"+e.message+"！"})}return this};bM.rL=dm;bM.cms=dm;bM.cmr=function(bR){if(!bD.jO(bR)){return this.cms(bR)||""}var cN={};bD.bw(bR,function(bH){cN[bH]=this.cmr(bH)},this);return cN}})();
(function(){var bp=NEJ.P,dm=NEJ.F,cl=bp("nej.h"),dC=bp("nej.g"),bD=bp("nej.u"),bq=bp("nej.ut.j"),bM;if(!!bq.brb)return;bq.brb=NEJ.C();bM=bq.brb.bt(bq.VK);bM.bJ=function(){this.bN();window.clearTimeout(this.gj);delete this.gj;try{this.tI.onreadystatechange=dm;this.tI.abort()}catch(e){}delete this.tI};bM.Jd=function(){var ddj=function(bH,bR){this.tI.setRequestHeader(bR,bH)};return function(Y){var gY=Y.request,Fx=Y.headers;this.tI=cl.byP();if(Fx[dC.Tr]===dC.bjf){delete Fx[dC.Tr];this.tI.upload.onprogress=this.byY.Z(this,1);if(gY.data.tagName==="FORM")gY.data=new FormData(gY.data)}this.tI.onreadystatechange=this.byY.Z(this,2);if(gY.timeout!=0){this.gj=window.setTimeout(this.byY.Z(this,3),gY.timeout)}this.tI.open(gY.method,gY.url,!gY.sync);bD.hH(Fx,ddj,this);if(!!this.Fr.cookie&&"withCredentials"in this.tI)this.tI.withCredentials=!0;this.tI.send(gY.data)}}();bM.byY=function(bz){switch(bz){case 1:this.bn("onuploading",arguments[1]);break;case 2:if(this.tI.readyState==4)this.Dk({status:this.tI.status,result:this.tI.responseText||""});break;case 3:this.Dk({status:-1});break}};bM.cms=function(bR){return!this.tI?"":this.tI.getResponseHeader(bR)};bM.rL=function(){this.Dk({status:0});return this}})();
(function(){var yQ=NEJ.P("nej.p"),bq=window,od=yQ.Ng,cmq=od.ipad||od.iphone;if(!cmq&&!!bq.requestAnimationFrame&&!!bq.cancelRequestAnimationFrame)return;var it=yQ.EN.prefix.pro;if(!cmq&&!!bq[it+"RequestAnimationFrame"]&&!!bq[it+"CancelRequestAnimationFrame"]){bq.requestAnimationFrame=bq[it+"RequestAnimationFrame"];bq.cancelRequestAnimationFrame=bq[it+"CancelRequestAnimationFrame"];return}var ddh=od.desktop?80:od.ios?50:30;bq.requestAnimationFrame=function(ki){return window.setTimeout(function(){try{ki(+(new Date))}catch(ex){}},1e3/ddh)};bq.cancelRequestAnimationFrame=function(bV){window.clearTimeout(bV);return this}})();
(function(){var bp=NEJ.P,dm=NEJ.F,bD=bp("nej.u"),bm=bp("nej.e"),cd=bp("nej.v"),cl=bp("nej.h"),ej=bp("nej.x"),dn;if(!!bm.Jm)return;bm.Jm=ej.Jm=function(){var cR={},mS=/^(?:mouse.*|(?:dbl)?click)$/i;window.onflashevent=function(bj){var bV=decodeURIComponent(bj.target),bz=bj.type.toLowerCase();var eh=cR[bV+"-tgt"];if(!!eh&&mS.test(bz)){ddg(eh,bj)}var ec=cR[bV+"-on"+bz];if(!!ec){var cN="";try{cN=ec(bj)}catch(e){}return cN}};var dde=function(Y){var dO=bm.bQ(Y.parent)||document.body,dN=bm.bS(dn,Y);dO.insertAdjacentHTML(!Y.hidden?"beforeEnd":"afterBegin",dN)};var ddg=function(bV,bj){var bz=bj.type.toLowerCase();requestAnimationFrame(function(){cd.bn(bV,bz)})};var ddd=function(lM){return!!lM&&!!lM.inited&&!!lM.inited()};var cmp=function(bV){var db=[document.embeds[bV],bm.bQ(bV),document[bV],window[bV]],bf=bD.hH(db,ddd),lM=db[bf],bAn=bV+"-count";cR[bAn]++;if(!!lM||cR[bAn]>100){cR[bV](lM);delete cR[bV];delete cR[bAn];return}window.setTimeout(cmp.Z(null,bV),300)};var ddb=function(Y){var bV=Y.id,lQ=Y.params;if(!lQ){lQ={};Y.params=lQ}var Ec=lQ.flashvars||"";Ec+=(!Ec?"":"&")+("id="+bV);if(!Y.hidden&&(!!Y.target||cl.bnS(lQ.wmode))){var ri=bm.mq(Y.target)||bm.mq(Y.parent);cR[bV+"-tgt"]=ri}lQ.flashvars=Ec;bD.hH(Y,function(bH,bR){if(bD.lX(bH)&&bR!="onready"){cR[bV+"-"+bR]=bH}})};return function(Y){Y=NEJ.X({},Y);if(!Y.src)return;var bV="_"+bD.bho();Y.id=bV;ddb(Y);dde(Y);if(!Y.onready)return;cR[bV]=Y.onready;cR[bV+"-count"]=0;cmp(bV)}}();dn=bm.dL('{var hide  = defined("hidden")&&!!hidden}{var param = defined("params")&&params||NEJ.O}{var width = !hide?width:"1px",height = !hide?height:"1px"}{if hide}<div style="position:absolute;top:0;left:0;width:1px;height:1px;z-index:10000;overflow:hidden;">{/if}<object classid = "clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"codebase = "http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"width = "${width|default:"100px"}"height = "${height|default:"100px"}" id="${id}"><param value="${src}" name="movie">{for x in param}<param value="${x}" name="${x_key}"/>{/for}<embed src="${src}" name="${id}"width="${width|default:"100px"}"height="${height|default:"100px"}"pluginspage="http://www.adobe.com/go/getflashplayer"type="application/x-shockwave-flash"{for x in param}${x_key}="${x}" {/for}></embed></object>{if hide}</div>{/if}');ej.isChange=!0})();
(function(){var bp=NEJ.P,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),bq=bp("nej.ut.j"),NL=bp("nej.ut.j.cb"),cR={},jI=+(new Date),bAz;if(!!bq.bAK)return;NL["ld"+jI]=function(bR,hx){var mE=cR[bR];if(!mE)return;delete cR[bR];mE.Dk({status:200,result:hx})};NL["er"+jI]=function(bR,eN){var mE=cR[bR];if(!mE)return;delete cR[bR];mE.Dk({status:eN||0})};bq.bAK=NEJ.C();bAz=bq.bAK.bt(bq.VK);bAz.Jd=function(Y){var lM=cR.flash;if(bD.jO(lM)){lM.push(this.Jd.Z(this,Y));return}if(!lM){cR.flash=[this.Jd.Z(this,Y)];bm.Jm({hidden:!0,src:fq.bQ("ajax.swf"),onready:function(lM){if(!lM)return;var bF=cR.flash;cR.flash=lM;bD.nT(bF,function(ec){try{ec()}catch(e){}})}});return}this.Kc="swf-"+bD.fb();cR[this.Kc]=this;var W=NEJ.EX({url:"",data:null,method:"GET"},Y.request);W.key=this.Kc;W.headers=Y.headers;W.onerror="nej.ut.j.cb.er"+jI;W.onloaded="nej.ut.j.cb.ld"+jI;var cmo=fq.daP(W.url);if(!!cmo)W.policyURL=cmo;lM.request(W)};bAz.rL=function(){delete cR[this.Kc];this.Dk({status:0});return this}})();
(function(){var bp=NEJ.P,de=NEJ.O,cl=bp("nej.h");cl.cmn=function(){var ea=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(FH){FH=FH||"";if(ea.test(FH))return RegExp.$1;return"*"}}();cl.bAW=function(W){return W};cl.bBf=function(cmg,Y){if(!cmg.postMessage)return;Y=Y||de;cmg.postMessage(cl.bAW(Y.data),cl.cmn(Y.origin))}})();
(function(){var bp=NEJ.P,bq=bp("nej.p"),cl=bp("nej.h"),bD=bp("nej.u"),cd=bp("nej.v"),eF=bp("nej.ut");if(bq.Fq.trident)return;if(!!window.postMessage){cl.bAW=cl.bAW.ft(function(bj){bj.stopped=!0;bj.value=JSON.stringify(bj.args[0])});return}var bR="MSG|",RK=[];var dcL=function(){var ch=unescape(window.name||"").trim();if(!ch||ch.indexOf(bR)!=0)return;window.name="";var cN=bD.YF(ch.replace(bR,""),"|"),FH=(cN.origin||"").toLowerCase();if(!!FH&&FH!="*"&&location.href.toLowerCase().indexOf(FH)!=0)return;cd.bn(window,"message",{data:JSON.parse(cN.data||"null"),source:window.frames[cN.self]||cN.self,origin:cl.cmn(cN.ref||document.referrer)})};var dcK=function(){var bpm;var dcJ=function(dD,bf,bF){if(bD.nZ(bpm,dD.w)<0){bpm.push(dD.w);bF.splice(bf,1);dD.w.name=dD.d}};return function(){bpm=[];bD.nT(RK,dcJ);bpm=null}}();cl.bBf=function(){var dcC=function(W){var cN={};W=W||de;cN.origin=W.origin||"";cN.ref=location.href;cN.self=W.source;cN.data=JSON.stringify(W.data);return bR+bD.bqB(cN,"|",!0)};return cl.bBf.ft(function(bj){bj.stopped=!0;var cr=bj.args;RK.unshift({w:cr[0],d:escape(dcC(cr[1]))})})}();eF.baN.bh({element:window,event:"message"});window.setInterval(dcK,100);window.setInterval(dcL,20)})();
(function(){var bp=NEJ.P,de=NEJ.O,cl=bp("nej.h"),bm=bp("nej.e"),fF=bp("nej.j");fF.dcB=function(){var cmc=window.name||"_parent",dcz={ma:window.top,cmc:window,dO:window.parent};return function(eh,Y){if(typeof eh=="string"){eh=dcz[eh]||window.frames[eh]||(bm.bQ(eh)||de).contentWindow;if(!eh)return this}var W=NEJ.X({origin:"*",source:cmc},Y);cl.bBf(eh,W);return this}}()})();
(function(){var bp=NEJ.P,fq=bp("nej.c"),bm=bp("nej.e"),cd=bp("nej.v"),bD=bp("nej.u"),fF=bp("nej.j"),bq=bp("nej.ut.j"),cR={},boj;if(!!bq.bCE)return;bq.bCE=NEJ.C();boj=bq.bCE.bt(bq.VK);boj.hk=function(){var cC="NEJ-AJAX-DATA:",jH=!1;var bCH=function(bj){var W=bj.data;if(W.indexOf(cC)!=0)return;W=JSON.parse(W.replace(cC,""));var mE=cR[W.key];if(!mE)return;delete cR[W.key];W.result=decodeURIComponent(W.result||"");mE.Dk(W)};var bCR=function(){if(!jH){jH=!0;cd.bd(window,"message",bCH)}};return function(){this.hu();bCR()}}();boj.Jd=function(Y){var gY=Y.request,mE=fq.cZe(gY.url),tu=cR[mE];if(bD.jO(tu)){tu.push(this.Jd.Z(this,Y));return}if(!tu){cR[mE]=[this.Jd.Z(this,Y)];bm.bfA({src:mE,visible:!1,onload:function(bj){var bF=cR[mE];cR[mE]=cd.fh(bj).contentWindow;bD.nT(bF,function(ec){try{ec()}catch(e){}})}});return}this.Kc="frm-"+bD.fb();cR[this.Kc]=this;var W=NEJ.EX({url:"",data:null,timeout:0,method:"GET"},gY);W.key=this.Kc;W.headers=Y.headers;fF.dcB(cR[mE],{data:W})};boj.rL=function(){delete cR[this.Kc];this.Dk({status:0});return this}})();
(function(){var bp=NEJ.P,de=NEJ.O,dC=bp("nej.g"),bm=bp("nej.e"),cd=bp("nej.v"),bD=bp("nej.u"),fF=bp("nej.j"),bq=bp("nej.ut.j"),cR={},cC="NEJ-UPLOAD-RESULT:",bM;if(!!bq.bCX)return;bq.bCX=NEJ.C();bM=bq.bCX.bt(bq.VK);bM.hk=function(){var jH=!1;var bCH=function(bj){var W=bj.data;if(W.indexOf(cC)!=0)return;W=JSON.parse(W.replace(cC,""));var mE=cR[W.key];if(!mE)return;delete cR[W.key];mE.Dk(decodeURIComponent(W.result))};var bCR=function(){if(!jH){jH=!0;cd.bd(window,"message",bCH)}};return function(){this.hu();bCR()}}();bM.bJ=function(){this.bN();bm.wX(this.bDr);delete this.bDr;window.clearTimeout(this.gj);delete this.gj};bM.Dk=function(hx){var FB;try{FB=JSON.parse(hx);this.bn("onload",FB)}catch(e){this.bn("onerror",{code:dC.bXy,message:hx})}};bM.Jd=function(){var dcy=function(){var sQ,hx;try{var sQ=this.bDr.contentWindow.document.body,hx=(sQ.innerText||sQ.textContent||"").trim();if(hx.indexOf(cC)>=0||sQ.innerHTML.indexOf(cC)>=0){return}}catch(e){return}this.Dk(hx)};var bDD=function(cG,gS,yk){fF.JQ(cG,{type:"json",method:"POST",cookie:yk,mode:parseInt(gS)||0,onload:function(W){if(!this.gj)return;this.bn("onuploading",W);this.gj=window.setTimeout(bDD.Z(this,cG,gS,yk),1e3)}.Z(this),onerror:function(jR){if(!this.gj)return;this.gj=window.setTimeout(bDD.Z(this,cG,gS,yk),1e3)}.Z(this)})};return function(Y){var gY=Y.request,Fx=Y.headers,qB=gY.data,ch="fom-"+bD.fb();cR[ch]=this;qB.target=ch;qB.method="POST";qB.enctype=dC.bjf;qB.encoding=dC.bjf;var cG=qB.action||"",Vo=cG.indexOf("?")<=0?"?":"&";qB.action=cG+Vo+"_proxy_=form";this.bDr=bm.bfA({name:ch,onload:function(bj){var tu=cd.fh(bj);cd.bd(tu,"load",dcy.Z(this));qB.submit();var cmb=(qB.nej_query||de).value;if(!cmb)return;var gS=(qB.nej_mode||de).value,yk=(qB.nej_cookie||de).value=="true";this.gj=window.setTimeout(bDD.Z(this,cmb,gS,yk),100)}.Z(this)})}}();bM.rL=function(){this.bn("onerror",{code:dC.cUz,message:"客户端终止文件上传"});return this}})();
(function(){var bp=NEJ.P,de=NEJ.O,cl=bp("nej.h"),bq=bp("nej.ut.j");cl.byP=function(){return new XMLHttpRequest};cl.bEM=function(gS,bnd,Y){var dD=!!bnd?{2:bq.bCX}:{2:bq.bCE,3:bq.bAK};return(dD[gS]||bq.brb).bh(Y)}})();
(function(){var bp=NEJ.P,bq=bp("nej.p"),cl=bp("nej.h");if(bq.Fq.trident)return;cl.byP=function(){var bfQ=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP.4.0","Msxml2.XMLHTTP.5.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];var dcv=function(){for(var i=0,l=bfQ.length;i<l;i++){try{return new ActiveXObject(bfQ[i])}catch(e){}}return null};return cl.byP.ft(function(bj){if(!!window.XMLHttpRequest)return;bj.stopped=!0;bj.value=dcv()})}();cl.bEM=function(){var buQ={0:2,1:3};return cl.bEM.ft(function(bj){var cr=bj.args,gS=cr[0]||0;cr[0]=!!cr[1]?2:buQ[gS]||gS})}()})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,cl=bp("nej.h"),dC=bp("nej.g"),bD=bp("nej.u"),fF=bp("nej.j"),bq=bp("nej.ut.j"),bgQ={},LQ=dm;fF.rL=function(gX){var cR=bgQ[gX];if(!cR)return this;cR.req.rL();return this};fF.dhW=function(hp){LQ=hp||dm;return this};fF.JQ=function(){var my=(location.protocol+"//"+location.host).toLowerCase();var dct=function(cG){var FH=bD.cxY(cG);return!!FH&&FH!=my};var dcs=function(Fx){return(Fx||de)[dC.Tr]==dC.bjf};var dcr=function(Y){var bnd=dcs(Y.headers);if(!dct(Y.url)&&!bnd)return bq.brb.bh(Y);return cl.bEM(Y.mode,bnd,Y)};var dcq=function(cR,cN){var W={data:cN};var bmM=cR.result.headers;if(!!bmM){W.headers=cR.req.cmr(bmM)}return W};var RB=function(gX){var cR=bgQ[gX];if(!cR)return;if(!!cR.req)cR.req.bg();delete bgQ[gX]};var bfG=function(gX,bz){var cR=bgQ[gX];if(!cR)return;var W=arguments[2];if(bz=="onload"&&!!cR.result){W=dcq(cR,W)}RB(gX);try{var bj={type:bz,result:W};LQ(bj);if(!bj.stopped){(cR[bz]||dm)(bj.result)}}catch(ex){console.error(ex.message);console.error(ex)}};var dcm=function(gX,W){bfG(gX,"onload",W)};var dcg=function(gX,jR){bfG(gX,"onerror",jR)};return function(cG,Y){Y=Y||{};var gX=bD.bho(),cR={result:Y.result,onload:Y.onload||dm,onerror:Y.onerror||dm};bgQ[gX]=cR;Y.onload=dcm.Z(null,gX);Y.onerror=dcg.Z(null,gX);if(!!Y.query){var Vo=cG.indexOf("?")<0?"?":"&",AS=Y.query;if(bD.Zc(AS))AS=bD.Pa(AS);if(!!AS)cG+=Vo+AS}Y.url=cG;cR.req=dcr(Y);cR.req.ddn(Y.data);return gX}}();fF.clZ=function(qB,Y){var kh={mode:0,type:"json",query:null,cookie:!1,headers:{},onload:null,onerror:null,onuploading:null,onbeforerequest:null};NEJ.EX(kh,Y);kh.data=qB;kh.method="POST";kh.timeout=0;kh.headers[dC.Tr]=dC.bjf;return fF.JQ(qB.action,kh)}})();
(function(){var bp=NEJ.P,de=NEJ.O,bm=bp("nej.e"),cd=bp("nej.v"),bD=bp("nej.u"),fF=bp("nej.j"),eF=bp("nej.ut"),cR={},clY=+(new Date)+"-";bm.bfN=function(){var dQ=0;var bfM=function(){if(dQ>0)return;dQ=0;cd.bn(document,"templateready");cd.dY(document,"templateready")};var bkY=function(gL,Y){var kd=bm.dj(gL,"src");if(!kd)return;Y=Y||de;var iP=Y.root;if(!iP){iP=gL.ownerDocument.location.href}else{iP=bD.bwX(iP)}kd=kd.split(",");bD.bw(kd,function(bH,bf,bF){bF[bf]=bD.bwX(bH,iP)});return kd};var dcd=function(gL,Y){if(!gL)return;var kd=bkY(gL,Y);if(!!kd)fF.ddr(kd,{version:bm.dj(gL,"version")});bm.bCm(gL.value)};var dcc=function(bH){dQ--;bm.cnx(bH);bfM()};var dbY=function(gL,Y){if(!gL)return;var kd=bkY(gL,Y),jV=gL.value;if(!!kd){dQ++;var Y={version:bm.dj(gL,"version"),onloaded:dcc.Z(null,jV)};window.setTimeout(fF.ddt.Z(fF,kd,Y),0);return}bm.cnx(jV)};var dbU=function(sQ){dQ--;bm.bfN(sQ);bfM()};var dbT=function(gL,Y){if(!gL)return;var kd=bkY(gL,Y)[0];if(!!kd){dQ++;var Y={version:bm.dj(gL,"version"),onloaded:dbU};window.setTimeout(fF.cmt.Z(fF,kd,Y),0)}};var dbL=function(bV,hx){dQ--;bm.bfr(bV,hx||"");bfM()};var dbK=function(gL,Y){if(!gL||!gL.id)return;var bV=gL.id,kd=bkY(gL,Y)[0];if(!!kd){dQ++;var cG=kd+(kd.indexOf("?")<0?"?":"&")+(bm.dj(gL,"version")||""),Y={type:"text",method:"GET",onload:dbL.Z(null,bV)};window.setTimeout(fF.JQ.Z(fF,cG,Y),0)}};var dbJ=function(bB,Y){var bz=bB.name.toLowerCase();switch(bz){case"jst":bm.dL(bB,!0);return;case"txt":bm.bfr(bB.id,bB.value||"");return;case"ntp":bm.bX(bB.value||"",bB.id);return;case"js":dbY(bB,Y);return;case"css":dcd(bB,Y);return;case"html":dbT(bB,Y);return;case"res":dbK(bB,Y);return}};eF.baN.bh({element:document,event:"templateready",oneventadd:bfM});return function(bA,Y){bA=bm.bQ(bA);if(!!bA){var bF=bA.tagName=="TEXTAREA"?[bA]:bA.getElementsByTagName("textarea");bD.bw(bF,function(bB){dbJ(bB,Y)});bm.wX(bA,!0)}bfM();return this}}();bm.bfr=function(bR,bH){cR[bR]=bH||"";return this};bm.bmE=function(bR){return cR[bR]||""};bm.bX=function(bA,bR){bR=bR||bD.fb();bA=bm.bQ(bA)||bA;bm.bfr(clY+bR,bA);bm.dq(bA);return bR};bm.buu=function(bR){if(!bR)return null;bR=clY+bR;var bH=bm.bmE(bR);if(!bH)return null;if(bD.oe(bH)){bH=bm.hU(bH);bm.bfr(bR,bH)}return bH.cloneNode(!0)};bm.dhZ=function(){var LQ=function(bH,bR){return bR=="offset"||bR=="limit"};return function(bF,bo,Y){var db=[];if(!bF||!bF.length||!bo)return db;Y=Y||de;var eH=bF.length,Ig=parseInt(Y.offset)||0,ny=Math.min(eH,Ig+(parseInt(Y.limit)||eH)),xN={total:bF.length,range:[Ig,ny]};NEJ.X(xN,Y,LQ);for(var i=Ig,dh;i<ny;i++){xN.index=i;xN.data=bF[i];dh=bo.bh(xN);var bV=dh.dia();cR[bV]=dh;dh.bg=dh.bg.ft(function(bV,dh){delete cR[bV];delete dh.bg}.Z(null,bV,dh));db.push(dh)}return db}}();bm.dib=function(bV){return cR[bV]};bm.dic=function(Ca,Y){Y=Y||de;bm.bfN(Y.tid||"template-box");cd.bd(document,"templateready",function(){Ca.bh().bn("onshow",Y)})};bp("dbg").dumpTC=function(){return cR}})();
(function(){var p=NEJ.P("nej.u");var qc=8;var btf=function(yZ,dQ){return yZ<<dQ|yZ>>>32-dQ};var kX=function(x,y){var clQ=(x&65535)+(y&65535),dbC=(x>>16)+(y>>16)+(clQ>>16);return dbC<<16|clQ&65535};var dbB=function(t,b,c,d){if(t<20)return b&c|~b&d;if(t<40)return b^c^d;if(t<60)return b&c|b&d|c&d;return b^c^d};var dbA=function(t){if(t<20)return 1518500249;if(t<40)return 1859775393;if(t<60)return-1894007588;return-899497514};var Cx=function(){var PI=function(i){return i%32},PK=function(i){return 32-qc-i%32};return function(cT,PL){var beD=[],np=(1<<qc)-1,Ed=PL?PI:PK;for(var i=0,l=cT.length*qc;i<l;i+=qc)beD[i>>5]|=(cT.charCodeAt(i/qc)&np)<<Ed(i);return beD}}();var bew=function(){var clP="0123456789abcdef",PI=function(i){return i%4},PK=function(i){return 3-i%4};return function(kZ,PL){var db=[],Ed=PL?PI:PK;for(var i=0,l=kZ.length*4;i<l;i++){db.push(clP.charAt(kZ[i>>2]>>Ed(i)*8+4&15)+clP.charAt(kZ[i>>2]>>Ed(i)*8&15))}return db.join("")}}();var brA=function(){var PI=function(i){return i%32},PK=function(i){return 32-qc-i%32};return function(beD,PL){var db=[],np=(1<<qc)-1,Ed=PL?PI:PK;for(var i=0,l=beD.length*32;i<l;i+=qc)db.push(String.fromCharCode(beD[i>>5]>>>Ed(i)&np));return db.join("")}}();var UR=function(){var dbx="=",dbw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",PI=function(i){return i%4},PK=function(i){return 3-i%4};return function(kZ,PL){var db=[],Ed=PL?PI:PK;for(var i=0,clO;i<kZ.length*4;i+=3){clO=(kZ[i>>2]>>8*Ed(i)&255)<<16|(kZ[i+1>>2]>>8*Ed(i+1)&255)<<8|kZ[i+2>>2]>>8*Ed(i+2)&255;for(var j=0;j<4;j++)db.push(i*8+j*6>kZ.length*32?dbx:dbw.charAt(clO>>6*(3-j)&63))}return db.join("")}}();var bqK=function(q,a,b,x,s,t){return kX(btf(kX(kX(a,q),kX(x,t)),s),b)};var sL=function(a,b,c,d,x,s,t){return bqK(b&c|~b&d,a,b,x,s,t)};var sK=function(a,b,c,d,x,s,t){return bqK(b&d|c&~d,a,b,x,s,t)};var sy=function(a,b,c,d,x,s,t){return bqK(b^c^d,a,b,x,s,t)};var sr=function(a,b,c,d,x,s,t){return bqK(c^(b|~d),a,b,x,s,t)};var UQ=function(x,y){x[y>>5]|=128<<y%32;x[(y+64>>>9<<4)+14]=y;var a=1732584193,b=-271733879,c=-1732584194,d=271733878;for(var i=0,l=x.length,clN,clL,clK,clJ;i<l;i+=16){clN=a;clL=b;clK=c;clJ=d;a=sL(a,b,c,d,x[i+0],7,-680876936);d=sL(d,a,b,c,x[i+1],12,-389564586);c=sL(c,d,a,b,x[i+2],17,606105819);b=sL(b,c,d,a,x[i+3],22,-1044525330);a=sL(a,b,c,d,x[i+4],7,-176418897);d=sL(d,a,b,c,x[i+5],12,1200080426);c=sL(c,d,a,b,x[i+6],17,-1473231341);b=sL(b,c,d,a,x[i+7],22,-45705983);a=sL(a,b,c,d,x[i+8],7,1770035416);d=sL(d,a,b,c,x[i+9],12,-1958414417);c=sL(c,d,a,b,x[i+10],17,-42063);b=sL(b,c,d,a,x[i+11],22,-1990404162);a=sL(a,b,c,d,x[i+12],7,1804603682);d=sL(d,a,b,c,x[i+13],12,-40341101);c=sL(c,d,a,b,x[i+14],17,-1502002290);b=sL(b,c,d,a,x[i+15],22,1236535329);a=sK(a,b,c,d,x[i+1],5,-165796510);d=sK(d,a,b,c,x[i+6],9,-1069501632);c=sK(c,d,a,b,x[i+11],14,643717713);b=sK(b,c,d,a,x[i+0],20,-373897302);a=sK(a,b,c,d,x[i+5],5,-701558691);d=sK(d,a,b,c,x[i+10],9,38016083);c=sK(c,d,a,b,x[i+15],14,-660478335);b=sK(b,c,d,a,x[i+4],20,-405537848);a=sK(a,b,c,d,x[i+9],5,568446438);d=sK(d,a,b,c,x[i+14],9,-1019803690);c=sK(c,d,a,b,x[i+3],14,-187363961);b=sK(b,c,d,a,x[i+8],20,1163531501);a=sK(a,b,c,d,x[i+13],5,-1444681467);d=sK(d,a,b,c,x[i+2],9,-51403784);c=sK(c,d,a,b,x[i+7],14,1735328473);b=sK(b,c,d,a,x[i+12],20,-1926607734);a=sy(a,b,c,d,x[i+5],4,-378558);d=sy(d,a,b,c,x[i+8],11,-2022574463);c=sy(c,d,a,b,x[i+11],16,1839030562);b=sy(b,c,d,a,x[i+14],23,-35309556);a=sy(a,b,c,d,x[i+1],4,-1530992060);d=sy(d,a,b,c,x[i+4],11,1272893353);c=sy(c,d,a,b,x[i+7],16,-155497632);b=sy(b,c,d,a,x[i+10],23,-1094730640);a=sy(a,b,c,d,x[i+13],4,681279174);d=sy(d,a,b,c,x[i+0],11,-358537222);c=sy(c,d,a,b,x[i+3],16,-722521979);b=sy(b,c,d,a,x[i+6],23,76029189);a=sy(a,b,c,d,x[i+9],4,-640364487);d=sy(d,a,b,c,x[i+12],11,-421815835);c=sy(c,d,a,b,x[i+15],16,530742520);b=sy(b,c,d,a,x[i+2],23,-995338651);a=sr(a,b,c,d,x[i+0],6,-198630844);d=sr(d,a,b,c,x[i+7],10,1126891415);c=sr(c,d,a,b,x[i+14],15,-1416354905);b=sr(b,c,d,a,x[i+5],21,-57434055);a=sr(a,b,c,d,x[i+12],6,1700485571);d=sr(d,a,b,c,x[i+3],10,-1894986606);c=sr(c,d,a,b,x[i+10],15,-1051523);b=sr(b,c,d,a,x[i+1],21,-2054922799);a=sr(a,b,c,d,x[i+8],6,1873313359);d=sr(d,a,b,c,x[i+15],10,-30611744);c=sr(c,d,a,b,x[i+6],15,-1560198380);b=sr(b,c,d,a,x[i+13],21,1309151649);a=sr(a,b,c,d,x[i+4],6,-145523070);d=sr(d,a,b,c,x[i+11],10,-1120210379);c=sr(c,d,a,b,x[i+2],15,718787259);b=sr(b,c,d,a,x[i+9],21,-343485551);a=kX(a,clN);b=kX(b,clL);c=kX(c,clK);d=kX(d,clJ)}return[a,b,c,d]};var bPj=function(bR,W){var Cs=Cx(bR,!0);if(Cs.length>16)Cs=UQ(Cs,bR.length*qc);var bdG=Array(16),bdC=Array(16);for(var i=0;i<16;i++){bdG[i]=Cs[i]^909522486;bdC[i]=Cs[i]^1549556828}var jp=UQ(bdG.concat(Cx(W,!0)),512+W.length*qc);return UQ(bdC.concat(jp),512+128)};var UP=function(x,eU){x[eU>>5]|=128<<24-eU%32;x[(eU+64>>9<<4)+15]=eU;var w=Array(80),a=1732584193,b=-271733879,c=-1732584194,d=271733878,e=-1009589776;for(var i=0,l=x.length,clI,clH,bpX,clG,clF;i<l;i+=16){clI=a;clH=b;bpX=c;clG=d;clF=e;for(var j=0;j<80;j++){w[j]=j<16?x[i+j]:btf(w[j-3]^w[j-8]^w[j-14]^w[j-16],1);var t=kX(kX(btf(a,5),dbB(j,b,c,d)),kX(kX(e,w[j]),dbA(j)));e=d;d=c;c=btf(b,30);b=a;a=t}a=kX(a,clI);b=kX(b,clH);c=kX(c,bpX);d=kX(d,clG);e=kX(e,clF)}return[a,b,c,d,e]};var bQB=function(bR,W){var Cs=Cx(bR);if(Cs.length>16)Cs=UP(Cs,bR.length*qc);var bdG=Array(16),bdC=Array(16);for(var i=0;i<16;i++){bdG[i]=Cs[i]^909522486;bdC[i]=Cs[i]^1549556828}var jp=UP(bdG.concat(Cx(W)),512+W.length*qc);return UP(bdC.concat(jp),512+160)};p.die=function(bR,W){return bew(bQB(bR,W))};p.dif=function(bR,W){return UR(bQB(bR,W))};p.dig=function(bR,W){return brA(bQB(bR,W))};p.dih=function(bR,W){return bew(bPj(bR,W),!0)};p.dii=function(bR,W){return UR(bPj(bR,W),!0)};p.dij=function(bR,W){return brA(bPj(bR,W),!0)};p.dik=function(W){return bew(UP(Cx(W),W.length*qc))};p.dil=function(W){return UR(UP(Cx(W),W.length*qc))};p.dim=function(W){return brA(UP(Cx(W),W.length*qc))};p.daU=function(W){return bew(UQ(Cx(W,!0),W.length*qc),!0)};p.din=function(W){return UR(UQ(Cx(W,!0),W.length*qc),!0)};p.dio=function(W){return brA(UQ(Cx(W,!0),W.length*qc),!0)};p.cly=function(W){return bew(Cx(W,!0),!0)}})();
(function(){var g=window,o=NEJ.O,eu=NEJ.P("edu.u");g.CFG_UMI={commonutil:"/",index:"/index",home:"/home",error:"/error",login:"/login",personCenter:"/c",universityCenter:"/c",teacherCenter:"/c",personInfoSetting:"/setting",teacherInfoEdit:"/tEdit",teacherCenterEdit:"/tCenterEdit",accountSetting:"/actSetting",courseList:"/c",searchList:"/search",courseInfo:"/info",courseLearn:"/learn",learnAnnounce:"/learn/announce",learnScore:"/learn/score",learnContent:"/learn/content",learnTestList:"/learn/testlist",learnQuiz:"/learn/quiz",learnQuizScore:"/learn/quizscore",learnHomework:"/learn/hw",learnOJHomework:"/learn/ojhw",learnExamList:"/learn/examlist",learnExamObjective:"/learn/examObject",learnExamObjectScore:"/learn/examObjectScore",learnExamSubjective:"/learn/examSubjective",learnExamOJ:"/learn/examOj",learnForumIndex:"/learn/forumindex",learnForumPanel:"/learn/forumpanel",learnForumSearch:"/learn/forumsearch",learnForumPersonal:"/learn/forumpersonal",learnForumDetail:"/learn/forumdetail",learnForumTopic:"/learn/forumtopic",forumNoticeDetail:"/learn/forumnotice",forumUserRanking:"/learn/forumrank",learnCustom:"/learn/custom",learnProgress:"/learn/learnProgress",adminOuterSuperManager:"/aosm",adminOuterEditorManager:"/aoem",adminOuterEditorManagerC:"/aoem/course",adminOuterEditorManagerT:"/aoem/teacher",adminOuterEditorManagerTEdit:"/aoem/tEdit",adminOuterEditorManagerTCenterEdit:"/aoem/tCenterEdit",adminOuterEditorManagerS:"/aoem/school",adminOuterEditorManagerSInfo:"/aoem/sinfo",adminOuterEditorManagerOrdinary:"/aoem/ordinary",adminOuterEditorManagerScoreReview:"/aoem/sreview",adminOuterEditorManagerCerts:"/aoem/certs",adminOuterEditorManagerSmartSpecialization:"/aoem/smartspec",adminGxList:"/agl",adminGxManager:"/agm",adminGxManagerCollegeInfo:"/agm/sinfo",adminGxManagerCourseList:"/agm/course",adminGxManagerTeacherList:"/agm/teacher",adminGxManagerTeacherInfoEdit:"/agm/tinfo",adminGxManagerTeacherCenterEdit:"/agm/tCenter",adminGxTeacher:"/agt",termPublish:"/tp",termPublishStepGuide:"/tp/sg",termPublishCourseInfo:"/tp/courseInfo",termPublishCourseCreate:"/tp/courseCreate",termPublishSettingLearn:"/tp/setlearn",termPublishLessonUnit:"/tp/lessonunit",termPublishChapterQuiz:"/tp/quiz",termPublishHomework:"/tp/homework",termPublishMsgNotice:"/tp/notice",termPublishToolVideos:"/tp/toolVideos",termPublishExamObjective:"/tp/exam/obj",termPublishExamSubjective:"/tp/exam/sub",termPublishExamBaseInfo:"/tp/exam/base",termPublishExam:"/tp/exam",termPublishSettingTeam:"/tp/setteam",termPublishSettingScore:"/tp/setscore",termPublishSettingForum:"/tp/setforum",termPublishForumNotice:"/tp/fnotice",termPublishForumClose:"/tp/setfclose",termPublishTestTrain:"/tp/testTrain",termPublishSettingSwitch:"/tp/setswitch",termPublishMsgMail:"/tp/mail",termPublishCourseData:"/tp/cdata",termPublishManageStudent:"/tp/manageStudent",termPublishChargeCertificate:"/tp/setCcert",termPublishDataReport:"/tp/dataReport",termPublishSpocMoocScore:"/tp/spocMoocScore",termPublishEnrollManage:"/tp/enrollManage",termPublishTradeRecord:"/tp/tradeRecord",reviewQuiz:"/rq",reviewHw:"/rhw",reviewTrain:"/rt",helpFront:"/hf",helpBack:"/hb",helpBackIndex:"/hbi",aboutus:"/about",contactus:"/contactus",chargeCertDesign:"/chargeCd",smartSpecCertDesign:"/smartCd",verify:"/verify",verifyResult:"/verifyResult",mycert:"/mycert",apply:"/apply",signature:"/signature",certOrder:"/co",donateCourse:"/donateC",addMember:"/addMember",smartSpecManage:"/ssm",smartSpecManageContent:"/ssm/cnt",smartSpecManageCertSet:"/ssm/certSet",smartSpecManageCertSend:"/ssm/certSend",smartSpecDetail:"/smartSpecDetail",smartSpecOrder:"/ssOrder"};eu.umi=function(){var yV=g.CFG_UMI||o;return function(bR){return yV[bR]||""}}()})();
(function(){var g=window,o=NEJ.O,eu=NEJ.P("edu.u");eu.SMARTSPECCONST={SMARTSPEC_JINGJITONGSHI:1001,SMARTSPEC_WEBQIANDUAN:1002,SMARTSPEC_XIAOWEIJINRONG:1003,SMARTSPEC_QIYELICAIGUWEN:1004,SMARTSPEC_CAIFUGUANLI:1005,SMARTSPEC_CHUANGYEJINRONG:1006,SPECIALTYPE_REQUIRED:0,SPECIALTYPE_ELECTIVE:1,CHECKPOINT_CHECK:1,CHECKPOINT_NORMAL:0,DISPLAY_NO:10,DISPLAY_READY:20,DISPLAY_YES:30}})();
(function(){var g=window,o=NEJ.O,eu=NEJ.P("edu.u");eu.CONST={ROLE_LEARNER:"learner",ROLE_PLATFORM_ADMIN:"platformAdmin",ROLE_SCHOOLSUPER_ADMIN:"schoolSuperAdmin",ROLE_ASSISTANT:"assistant",ROLE_LECTOR:"lector",ROLE_OUT_SUPER_ADMIN:"outSuperAdmin",ROLE_OUT_BUSINESS_EDITOR:"outBusinessEditor",ROLE_OUT_COURSE_EDITOR:"outCourseEditor",ROLE_OUT_ORDINARY_EDITOR:"ordinaryEditor",ROLE_OUT_COURSE_REVIEWER:"outCourseReviewer",ROLE_SCHOOLNORMAL_ADMIN:"schoolNormalAdmin",ROLE_FORUM_MANAGER:"forumManager",KTYPE_All:30,KTYPE_FINISHED:0,KTYPE_BEGINING:10,KTYPE_UNSTART:20,MODE_MOOC:0,MODE_SPOC_SYNC:10,MODE_SPOC_ASYNC:15,MODE_SPOC_ONLY:20,LEARN_TAB:{ANNOUNCE:1,SCORE:2,CONTENT:3,QUIZ_HOMEWORK:4,EXAM:6,FORUM:7,CUSTOM:20,LEARN_PROGRESS:30,CONTENT_TYPE:{LIST:"list",DETAIL:"detail"}},CHAPTER_TYPE_NORMAL:1,CHAPTER_QUIZ:2,CHAPTER_HOMEWORK:3,CHAPTER_TYPE_EXAM:4,TERM_TRAIN:5,UNIT_TEST:6,LESSON_TYPE_NORMAL:1,LESSON_TYPE_QUIZ:2,LESSON_TYPE_HOMEWORK:3,LESSONUNIT_VIDEO:1,LESSONUNIT_VIDEO_SRT:2,LESSONUNIT_PDF:3,LESSONUNIT_TEXT:4,LESSONUNIT_QUESTION:5,LESSONUNIT_DISCUSS:6,CHAPTERSTATUS_CREATE:0,CHAPTERSTATUS_PUBLISHED:1,CHAPTERSTATUS_MODIFIED:2,CHAPTERSTATUS_DELETED:-1,TERMSTATUS_DRAFT:0,TERMSTATUS_OFFLINE:1,TERMSTATUS_PUBLISHED:2,TERMSTATUS_UNDECIDED:10,TERMSTATUS_AUDIT_FAIL:11,SCHOOLSTATUS_DRAFT:0,SCHOOLSTATUS_PUBLISHED:1,TEACHERSTATUS_DRAFT:0,TEACHERSTATUS_PUBLISHED:1,REL_TYPE_TERM_CHIEF_LECTOR:0,REL_TYPE_TERM_LECTOR:1,REL_TYPE_TERM_ASSIST:2,CLOSE_VISABLE_CLOSE:2,CLOSE_VISABLE_HALFOPEN:1,CLOSE_VISABLE_OPEN:0,COPYRIGHT_ALLOW_READ_YES:1,COPYRIGHT_ALLOW_READ_NO:0,COPYRIGHT_ALLOW_COPY_YES:1,COPYRIGHT_ALLOW_COPY_NO:0,STATUS_FINISHED:1,STATUS_LEARNING:0,STATUS_UNLEARN:-1,UPLOAD_SIZE_MAX:800*1024*1024,UPLOAD_SIZE_MAX_PDF:5*1024*1024,UPLOAD_SIZE_MAX_SIMPLE:50*1024*1024,UPLOAD_ERROR_LIMITED:20,UPLOAD_ERROR_AUTHFAILED:30,UPLOAD_TOKEN_TYPE_VIDEO:"VIDEO",UPLOAD_TOKEN_TYPE_PDF:"PDF",UPLOAD_TOKEN_TYPE_DEFAULT:"default",TYPE_OBJECTIVE_SINGLE:1,TYPE_OBJECTIVE_MULTI:2,TYPE_OBJECTIVE_FILLBLANK:3,TYPE_OBJECTIVE_JUDGE:4,TYPE_SUBJECTIVE_NORMAL:10,TYPE_SUBJECTIVE_OJ:7,ANALYSE_AFTER_DEADLINE:1,ANALYSE_AFTER_SCORE_RELEASE:2,JUDGE_TYPE_EVALUATE:1,JUDGE_TYPE_LECTOR:2,EVALUATE_JUDGE_TYPE_SELF:3,EVALUATE_JUDGE_TYPE_TEACHER:1,EVALUATE_JUDGE_TYPE_LEARNER:2,EVALUATE_JUDGE_TYPE_SELF:3,NEED_TRAIN_TRUE:1,NEED_TRAIN_FALSE:2,HW_PHASE_SUBMIT:1,HW_PHASE_EVALUATION:2,HW_PHASE_SCORE:3,HW_PHASE_TEACHER:4,QUIZ_SCORE_TYPE_LAST:1,QUIZ_SCORE_TYPE_BEST:2,QUIZ_SCORE_TYPE_AVG:3,QUIZ_SUBMIT_VALID:0,QUIZ_SUBMIT_EFFECT:10,HW_STATUS_DRAFT:1,HW_STATUS_SUBMITTED:2,EVA_STATUS_STARTED:1,EVA_STATUS_COMPLETED:2,SCORE_PUB_STATUS_NOT_REVIEWED:0,SCORE_PUB_STATUS_REVIEWED:1,SCORE_PUB_STATUS_CONFIRMED:2,TASK_STATUS_NOT_START:"not_start",TASK_STATUS_STARTED:"start",TASK_STATUS_END:"end",TASK_STATUS_EVALUATE_START:"evaluate_start",TASK_STATUS_EVALUATE_END:"evaluate_end",TASK_STATUS_EVALUATE_NOT_ACTIVATION:"evaluate_not_activation",TASK_STATUS_PUBLISHED:"published",GLOBAL_MOOC_PROTOCAL:"glmp",MOOC_TEST_PROTOCAL:"mtp",MOOC_EXAM_OBJECT_PROTOCAL:"meop",MOOC_EXAM_SUBJECT_PROTOCAL:"mesp",OJ_EXAM_PROTOCAL:"ojexam",OJ_GLOBAL_PROTOCAL:"ojglobal",FORUM_TYPE_NORMAL:1,FORUM_TYPE_QA:2,FORUM_TYPE_STAFF:3,FORUM_TYPE_TEST:4,FORUM_TYPE_OTHER:5,FORUM_TYPE_ELITE:10,TYPE_NORMAL:1,TYPE_QA:2,TYPE_LESSONUNIT:3,ALLOW_LEARNER_TRUE:1,ALLOW_LEARNER_FALSE:0,TALK_VOTE_DIGG:1,TALK_VOTE_CAI:0,TALK_VOTE_POST:1,TALK_VOTE_REPLY:2,TALK_VOTE_COMMENT:3,DRAFT_STATUS_CREATE:0,DRAFT_STATUS_PUBLISHED:1,DRAFT_STATUS_MODIFIED:2,DRAFT_STATUS_DELETED:-1,UNDETERMINDED_STARTTIME:32503651201e3,UNDETERMINDED_ENDTIME:32535187201e3,EMAIL_ACTIVE_INIT:1,EMAIL_ACTIVE_SENDED:2,EMAIL_ACTIVED:3,LOGIN_TYPE_URS:-1,LOGIN_TYPE_WEIBO:2,LOGIN_TYPE_RENREN:3,LOGIN_TYPE_QQ:4,LOGIN_TYPE_ICOURSE:11,ACHIEVEMENT_STATUS_NOT_REVIEWED:0,ACHIEVEMENT_STATUS_REVIEWING:5,ACHIEVEMENT_STATUS_REVIEW_FAILED:8,ACHIEVEMENT_STATUS_REVIEW_PASS:10,ACHIEVEMENT_STATUS_CONFIRMED:1,PHASE_SENDING:1,PHASE_FINISH:2,PHASE_FAIL:-1,FILL_BLANK_SPLITCHAR:"##%_YZPRLFH_%##",FILL_BLANK_SPLITCHARREG:/(##%_YZPRLFH_%##)/g,NOTICE_TYPE_TERM:1,NOTICE_TYPE_FORUMTEACHER:2,NOTICE_TYPE_FORUMADMIN:3,ETL_TARGET_TYPE_TERM:1,ETL_TARGET_TYPE_FORUM:1e3,CERT_TYPE_CHARGE_NORMAL:10,CERT_TYPE_CHARGE_OUTSTANDING:11,FORUM_FORBID_USERFORBID:1,FORUM_FORBID_CLOSED:2,FORUM_FORBID_ELITE:3,FORUM_FORBID_NORMAL:-1,FORUM_CLOSED_CHECKED_ALL:1,FORUM_CLOSED_CHECKED_NONE:0,MERGED_CLOSED_STATUS_CLOSED:1,MERGED_CLOSED_STATUS_OPEN:0,SUPER_OPT_USER_NAME:"yzlfh",PRODUCT_TYPE_MOOC:2,PRODUCT_TYPE_YOOC:3,PRODUCT_TYPE_YOOC_FIGHTING:9,PRODUCT_TYPE_YOOC_CERT:10,PRODUCT_TYPE_PACKAGE:20,STATUS_SUBMITTING:20,STATUS_SUCCESS:30,STATUS_FAIL:40,SRT_TYPE_CH:"0",SRT_TYPE_EN:"1",PROTOCOL_TYPE_FEE_COURSE_MAKE:1001,PROTOCOL_TYPE_ACCOUNT_SET:1002,FIGHT_PREPAY:1,FIGHT_FIGHTEND:2,FIGHT_CONFIRMSCORE:3,FIGHT_APPLYCERTEND:4,FIGHT_CERTSEND:5,ID_TYPE_SHENFENZHENG:1,ID_TYPE_HUKOUBEN:2,ID_TYPE_HUZHAO:3,ID_TYPE_OTHER:10,CERT_APPLY_FROM_TYPE_FIGHT:5,CERT_APPLY_FROM_TYPE_DIRECT:0,CERT_APPLY_FROM_TYPE_PAYCERT:10,CERT_APPLY_FROM_TYPE_MICRO:15,PAYCERT_PRE:1,PAYCERT_CONFIRMSCORE:2,PAYCERT_APPLYCERTEND:3,PAYCERT_CERTSEND:4}})();
(function(){var g=window,o=NEJ.O,b=NEJ.P("nej.p"),e=NEJ.P("nej.e"),u=NEJ.P("nej.u"),p=NEJ.P("edu.u");p.dip=function(daK){var yP=e.qw("div");yP.innerHTML=daK;return p.bcT(yP.innerText)};p.bcT=function(hx){return(hx||"").replace(/[\t\r\n]+/gi," ").replace(/[ ]+/gi," ")};p.bs=function(bB){bB.style.display="none"};p.xG=function(bB){return bB.style.display!="none"};p.bv=function(bB){bB.style.display=""};p.cW=function(bB,da){if(da){p.bv(bB)}else{p.bs(bB)}};p.bcR=function(sg){var clw={};var lQ=sg.trim();if(!!lQ){lQ=decodeURIComponent(lQ.slice(1));var bF=lQ.split("&");for(var i=bF.length;i;){var ji=bF[--i].split("=");clw[ji[0]]=ji[1]}}return clw};p.daI=function(bcq,cG,daG){var cG=cG||g.location.href;var bSi="";var jp="";var sg="";var daF=bcq.substring(0,bcq.indexOf("="));var daE=bcq.substring(bcq.indexOf("=")+1);var bSn=cG.indexOf("#");if(bSn>=0){jp=cG.substring(bSn);cG=cG.substring(0,bSn);if(!!daG){jp+=(jp.indexOf("?")>0?"&":"?")+(new Date).getMilliseconds()}}var bSw=cG.indexOf("?");if(bSw>=0){sg=cG.substring(bSw);bSi=cG.substring(0,bSw)}else{bSi=cG}var bTf=p.bcR(sg);var bSB=[];var bmT=true;for(var bq in bTf){if(bq==daF){bTf[bq]=daE;bmT=false}bSB.push(bq+"="+bTf[bq])}if(bmT){bSB.push(bcq)}cG=bSi+"?"+bSB.join("&")+jp;return cG};p.vr=function(jp,clv){if(!jp||!clv){return false}var cF=g.decodeURIComponent(jp);var bmF=cF.indexOf("?");bmF=bmF>=0?bmF:cF.length;cF=cF.substring(cF.indexOf("#")+1,bmF);return u.nZ(clv,cF)>=0};p.mR=function(db,bH){if(!!db){for(var i=0;i<db.length;i++){if(db[i]==bH){return true}}}return false};p.vx=function(str){return(str||"").replace(/(^\s*)|(\s*$)/g,"")};p.daC=function(str){return!str?"":str.replace(/[\n\r]/g,"")};p.daA=function(bB){if(!!bB){bB.getAttribute("style");bB.removeAttribute("style")}};p.qt=function(){return b.EN.engine=="trident"};p.clt=function(){var uc=window.navigator.userAgent;var daw=(new RegExp("Windows Phone","i")).test(uc);return b.Ng["ios"]||b.Ng["android"]||b.Ng["tablet"]||daw};p.gT=function(){var clr=!p.qt()||b.EN.release!="2.0";if(!clr){location.replace(g.urlPrefix.notSupportedPrefix)}return clr};p.sf=function(da,bB,eE){if(da){e.bK(bB,eE)}else{e.bZ(bB,eE)}};p.dau=function(){try{if(p.qt()&&!!g.docTitle){document.title=g.docTitle}}catch(_exception){}};if(p.qt()&&!p.changeHashTimer){p.changeHashTimer=g.setInterval(p.dau,100)}p.hf=function(dat,btZ){if(!btZ){btZ=location.pathname+location.search}btZ+=!!dat?location.hash:"";if(!!g[g.gaqStr]){g[g.gaqStr].push([g.gaTrackPageview,btZ])}};p.es=function(clq,eL,clp){if(!!clq&&!!eL){var db=[g.gaTrackEvent,clq,eL];if(!!clp){db.push(clp)}if(!!g[g.gaqStr]){g[g.gaqStr].push(db)}}};p.nb=function(cP){return"###"+u.cly(JSON.stringify(cP||{}))};p.QU=function(cG,hj,iQ,daq){var bxg=daq||"1x95";var clo="http://imgsize.ph.126.net/?enlarge=true&imgurl=";if(!!cG){var QV=cG.substring(cG.lastIndexOf("."));if(QV==".gif"){return cG}clo+=cG+"_"+hj+"x"+iQ+"x"+bxg+QV}return clo};p.BL=function(UB){if(UB==null)return null;if(typeof UB!=="object"){return UB}var bxN={};if(UB.constructor==Array){bxN=[]}for(var i in UB){bxN[i]=arguments.callee(UB[i])}return bxN};p.dao=function(xv){return!!xv&&(xv==p.CONST.ACCOUNT_TYPE_ORGANIZATION||xv==p.CONST.ACCOUNT_TYPE_LECTOR)};p.dan=function(bF){var dD={};u.bw(bF,function(bo,bf){dD[bo.id]=bo});return dD};p.bpy=function(cP){for(var name in cP){return false}return true};p.bpw=function(Gb){return Gb.replace(/{##([^{#}]+)##}/g,function(){return'<span class="f-fcorange">'+arguments[1]+"</span>"})};p.bkm=function(dam){var eH=1;if(b.EN.engine=="webkit"){eH=2}if(history.length>eH){history.back()}else{g.dispatcher.cI(dam)}};p.dal=function(cln,ip){if(!!cln){return"http://upload.icourse163.org/api/downloadImg.do?sourceUrl="+encodeURIComponent(cln)+"&filename="+encodeURIComponent(ip)+".png"}else{return null}}})();
(function(){var g=window,o=NEJ.O,e=NEJ.P("nej.e"),u=NEJ.P("nej.u"),j=NEJ.P("nej.j"),eu=NEJ.P("edu.u");eu.dE=function(){var oG=g.webUser||"";return function(){return oG}}();eu.LK=function(){return j.pd("STUDY_INFO")};eu.bzC=function(vM,clm){return!!vM&&vM==eu.dE().id||!!clm&&clm==eu.dE().loginId};eu.ed=function(daf){return eu.mR(eu.dE().yoocRoles,daf||"")};eu.bzP=function(bzQ){var cC=false;if(!u.jO(bzQ)){return eu.ed(bzQ)}u.bw(bzQ,function(bo){if(eu.ed(bo)){cC=true}}.Z(this));return cC};eu.cZZ=function(){var cG="";if(!!eu.dE()){cG=eu.dE().personalUrlPrefix+eu.dE().personalUrlSuffix}return cG};eu.cZY=function(){var xu={name:"",pwdUrl:""};if(!!eu.dE()&&!!eu.dE().loginType){var RM=parseInt(eu.dE().loginType);switch(RM){case eu.CONST.LOGIN_TYPE_URS:xu.name="网易邮箱";xu.pwdUrl="http://reg.163.com/setinfo/ChangePasswd_1.jsp?username="+eu.dE().loginId;break;case eu.CONST.LOGIN_TYPE_ICOURSE:xu.name="爱课程网";xu.pwdUrl="http://sns.icourses.cn/forget.jsp";break;case eu.CONST.LOGIN_TYPE_WEIBO:xu.name="新浪微博";xu.pwdUrl="http://account.weibo.com/settings/password";break;case eu.CONST.LOGIN_TYPE_RENREN:xu.name="人人网";xu.pwdUrl="https://safe.renren.com/security/account#nogo";break;case eu.CONST.LOGIN_TYPE_QQ:xu.name="QQ";xu.pwdUrl="https://aq.qq.com/cn2/change_psw/pc/pc_change_pwd_way";break}}return xu};eu.bAe=function(xv){xv=xv!=undefined?xv:eu.dE().accountType;return parseInt(xv)==5};eu.bAg=function(xv){xv=xv!=undefined?xv:eu.dE().accountType;return parseInt(xv)==10};eu.cZX=function(){return(eu.bAe()||eu.bAg())&&eu.mR(eu.dE().studyRoles,"ROLE_ORGANIZATION_MAKER")};eu.cZU=function(){var Up="";var oG=eu.dE();if(oG){switch(Number(oG.loginType)){case eu.CONST.LOGIN_TYPE_URS:Up=oG.loginId||"";break;case eu.CONST.LOGIN_TYPE_ICOURSE:case eu.CONST.LOGIN_TYPE_WEIBO:case eu.CONST.LOGIN_TYPE_RENREN:case eu.CONST.LOGIN_TYPE_QQ:Up=oG.email||"";break}}return Up};eu.diq=function(){return!!g.bannedState&&(g.bannedState.site>0||g.bannedState.term>0)}})();
(function(){var bp=NEJ.P,de=NEJ.O,bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ut.p"),tk;if(!!bq.RX)return;bq.RX=NEJ.C();tk=bq.RX.bt(eF.hW);tk.hk=function(){this.hu();this.Mk=[]};tk.bE=function(Y){this.bG(Y);this.bsK(Y.parent);this.fO=Y.name||"/";this.bu=Y.data||{}};tk.bJ=function(){var xj=function(bB,bf,bF){bF.splice(bf,1);bB.bg()};return function(){this.bN();delete this.bu;bD.nT(this.Mk,xj);this.bsK(null)}}();tk.bAS=function(bB){return bB instanceof bq.RX};tk.cZR=function(lZ){return bD.nZ(this.Mk,lZ)>=0};tk.bfS=function(){return this.fO};tk.fK=function(){return this.bu};tk.AV=function(){var dO=this.Mq(),ch=this.bfS();if(!dO)return ch;var Uk=dO.bfS();if(Uk!="/"&&ch!="/")ch="/"+ch;return dO.AV()+ch};tk.Mq=function(){return this.fV};tk.cJ=function(){return this.Mk};tk.bCh=function(ch){var bf=bD.nZ(this.Mk,function(bB){return ch==bB.bfS()});return this.Mk[bf]||null};tk.bsK=function(dO){dO=this.bAS(dO)?dO:null;if(dO==this.fV)return;!!dO?dO.bCi(this):this.fV.cZQ(this);this.fV=dO;return this};tk.bCi=function(lZ){lZ=this.bAS(lZ)?lZ:null;if(!lZ||this.cZR(lZ))return;this.Mk.push(lZ);lZ.bsK(this);return this};tk.cZQ=function(lZ){lZ=this.bAS(lZ)?lZ:null;var bf=bD.nZ(this.Mk,lZ);if(bf>=0){this.Mk.splice(bf,1);lZ.bsK(null)}return lZ}})();
(function(){var bp=NEJ.P,dm=NEJ.F,bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ut.p");var bdy=function(iP,cF,bCo){var bB=iP,bCo=bCo||dm;if(cF!="/"){bD.bw(cF.split("/"),function(ch){var cN=bCo(bB,ch);if(!cN)return!0;bB=cN})}return bB};bq.Su=function(){var biD=function(dO,ch){var ch=ch||"/",Uk=dO.bfS();if(Uk=="/"&&ch=="/")return dO;return dO.bCh(ch)};return function(iP,cF){return bdy(iP,cF,biD)}}();bq.cZP=function(){var cZN=function(dO,ch){var Uk=dO.bfS();if(!ch&&Uk=="/")return dO;var bB=null;if(Uk!="/"){bB=dO.bCh("/");if(!bB){bB=bq.RX.bh();dO.bCi(bB)}}if(!!ch){bB=dO.bCh(ch);if(!bB){bB=bq.RX.bh({name:ch});dO.bCi(bB)}}return bB};return function(iP,cF){return bdy(iP,cF,cZN)}}();bq.cZM=function(iP,sI,eh){if(!sI||!eh)return iP;var sI=sI.AV().split("/"),eh=eh.AV().split("/"),cZL=bD.hH(sI,function(bH,bf){if(bH!=eh[bf])return!0})||1,cF=sI.splice(0,cZL).join("/")||"/";return bq.Su(iP,cF)};bq.cZK=function(iP,ec){var db=[iP],bB=db.shift(),ec=ec||dm;while(!!bB){db.push.apply(db,bB.cJ());ec(bB);bB=db.shift()}return this};bq.ZT=function(bB){return bB instanceof bq.RX};bq.Ub=function(gJ){return gJ instanceof eF.du};bq.bCP=function(){var ea=/^\/?\?(?=\/|$)/;return function(cF){return ea.test(cF||"")}}();bq.cZJ=function(){var ea=/[\?#]/;return function(cG){var db=(cG||"").trim().split(ea),cZG=db[0]=="/"&&(db[1]||"").indexOf("/")==0;return db[0]+(cZG?"?"+db[1]:"")}}()})();
(function(){var bp=NEJ.P,de=NEJ.O,dC=bp("nej.g"),bm=bp("nej.e"),fF=bp("nej.j"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ut.p"),qR;if(!!bq.bsT)return;bq.bsT=NEJ.C();qR=bq.bsT.bt(eF.hW);qR.bE=function(Y){this.bG(Y);this.vX=Y.root;this.WL=Y.dispatcher;this.bqS={}};qR.bJ=function(){this.bN();delete this.vX;delete this.bqS};qR.bDz=function(bB){if(!bq.ZT(bB))return!1;return!!bB.fK().stopped||this.bDz(bB.Mq())};qR.bDA=function(bB){if(!bq.ZT(bB))return;delete bB.fK().stopped;this.bDA(bB.Mq())};qR.clf=function(gz,jm){this.bqQ("onhide",gz,jm)};qR.bDV=function(gz,jm){this.bqQ("onshow",gz,jm);this.bhH(gz)};qR.cle=function(bB){this.bqQ("onrefresh",bB);this.bhH(bB)};qR.bqQ=function(bz,gz,jm){if(gz==jm||!bq.ZT(gz))return;if(bz=="onhide")this.bEt(gz,bz);this.bqQ(bz,gz.Mq(),jm);if(bz!="onhide")this.bEt(gz,bz)};qR.bhH=function(bB){if(!bq.ZT(bB))return!0;var W=bB.fK(),eL=W.action,gJ=W.module;if(!this.bhH(bB.Mq())||!!eL&&bD.oe(gJ))return!1;if(!!gJ&&!!gJ.bh&&!!eL&&eL!="onhide"){if(this.bDz(bB))return;var Y={umi:bB.AV(),composite:W.composite,dispatcher:this.WL};gJ=gJ.bh(Y);if(bq.Ub(gJ)){W.module=gJ;this.bEt(bB,"onshow")}else{delete W.module}}delete W.action;return!0};qR.bEt=function(){var cZD=function(bB){var gJ;bB=bB.Mq();while(!!bB){gJ=bB.fK().module;if(bq.Ub(gJ)){return gJ.dfy()}bB=bB.Mq()}return null};return function(bB,ch){if(!bq.ZT(bB))return;var W=bB.fK(),gJ=W.module,bEC=ch!="onhide";if(bq.Ub(gJ)){if(bEC&&this.bDz(bB))return;var bj=!this.Eh?W.event:this.Eh.fK().event;if(!!bj){bj.umi=bB.AV();bj.data=cZD(bB)}var cld=W.xname||"onhide";if(ch=="onshow"&&cld!="onhide")ch="onrefresh";if(ch=="onrefresh"&&cld=="onhide")ch="onshow";W.xname=ch;gJ.bn(ch,bj||{});if(bEC&&!!bj&&!!bj.pos&&bj.umi==bj.target){bm.tc(bj.pos)}if(bEC&&!!bj){W.stopped=bj.stopped;delete bj.stopped}}else if(!!gJ){W.action=ch;if(ch=="onshow"&&bD.oe(gJ)){var bA=bm.bQ("umi://"+gJ);if(!!bA){bm.bfN(bA)}else{var ez=location.config||de;fF.cmt((ez.root||"")+gJ,{version:(ez.ver||de)[gJ],onloaded:bm.bfN})}}}}}();qR.TU=function(cF){return!!this.bqS[cF]};qR.cZA=function(cF){this.bqS[cF]=!0;return this};qR.dit=function(cF){delete this.bqS[cF];return this};qR.cla=function(cF){if(this.TU(cF))this.bhH(bq.Su(this.vX,cF));return this};qR.bFB=function(cF){if(this.TU(cF)){var bB=bq.Su(this.vX,cF);this.bDA(bB);this.bDV(bB)}return this};qR.ckZ=function(cF){if(this.TU(cF)){this.clf(bq.Su(this.vX,cF))}return this}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,bm=bp("nej.e"),bq=bp("nej.ut.p"),Nh;if(!!bq.bFG)return;bq.bFG=NEJ.C();Nh=bq.bFG.bt(bq.bsT);Nh.bE=function(Y){this.bG(Y);this.ckX=!!Y.classed};Nh.bJ=function(){this.bN();delete this.Tl;delete this.Eh};Nh.cZt=function(bj){if(!this.Eh)return!0;var gJ=this.Eh.fK().module;if(bq.Ub(gJ))gJ.bn("onbeforehide",bj);return!bj.stopped};Nh.TQ=function(){if(!this.Eh)return;window.setTimeout(this.bFB.Z(this,this.Eh.AV()),0)};Nh.bFB=function(cF){if(!this.TU(cF))return this;var eh=bq.Su(this.vX,cF),W=eh.fK();if(!W.module)return this;var sI=this.Eh,bj=W.event,bGh=de;this.Eh=eh;this.bDA(eh);if(!!sI){bGh=sI.fK().event;bj.referer=bGh.href||""}if(sI==eh){this.cle(this.Eh);return this}this.Tl=bq.cZM(this.vX,sI,eh);if(sI!=null){if(sI!=this.Tl){if(this.ckX)bm.bZ(document.body,bGh.clazz);this.clf(sI,this.Tl)}this.cle(this.Tl)}else{this.bDV(this.Tl)}if(eh!=this.Tl){if(this.ckX)bm.bK(document.body,bj.clazz);this.bDV(eh,this.Tl)}return this};Nh.cla=function(cF){if(this.TU(cF))this.bhH(this.Eh);return this};Nh.ckZ=dm})();
(function(){var bp=NEJ.P,cd=bp("nej.v"),bD=bp("nej.u"),yQ=bp("nej.p"),cl=bp("nej.h"),eF=bp("nej.ut"),uV=/^[#?]+/,Iw=/#(.*?)$/,GI=window,bGr=!history.pushState||yQ.Ng.android||!history.auto;var but=function(cG,bGU){GI.history[!bGU?"pushState":"replaceState"](null,document.title,cG)};var bun=function(){return location.parse(GI.location.href)};but=but.ft(function(bj){if(!bGr)return;var cr=bj.args;bj.stopped=!0;cG=cr[0].replace(uV,"");!cr[1]?GI.location.hash=cG:GI.location.replace("#"+cG)});bun=bun.ft(function(bj){if(!bGr)return;bj.stopped=!0;var jp=Iw.test(GI.location.href)?RegExp.$1:"";bj.value=location.parse(jp.replace(uV,""))});location.redirect=function(cG,bGU){but(cG,bGU);return this};location.active=function(){var RD,cG,my,bHq,ckW;var bHu=function(sl){if(!!bHq){bHq=!1;return}var bj={oldValue:my,newValue:bun()};if(!!location.ignored){location.ignored=!1}else{cd.bn(location,"beforeurlchange",bj);if(bj.stopped){if(!!my){bHq=!0;but(my.href,!0)}return}}cG=GI.location.href;my=bj.newValue;cd.bn(location,"urlchange",my);cl.bAp(my.href)};var ckV=function(){if(cG!=GI.location.href)bHu();RD=requestAnimationFrame(ckV)};return function(Nz){if(!!ckW)return this;ckW=!0;GI=Nz||window;if(bGr&&"onhashchange"in window&&yQ.Fq.trident2){cd.bd(GI,"hashchange",bHu);bHu()}else if(!RD){RD=requestAnimationFrame(ckV)}return this}}();location.parse=function(){var mS=/^https?:\/\/.*?\//i,uV=/[?#]/;return function(cG){var cN={href:cG};cG=(cG||"").replace(mS,"/").split(uV);var dQ=1;if(cG[0]=="/"&&(cG[1]||"").indexOf("/")==0)dQ=2;cN.path=cG.splice(0,dQ).join("?");cN.query=bD.ceL(cG.join("&"));return cN}}();location.same=function(cG){return bun().href==cG};eF.baN.bh({element:location,event:["beforeurlchange","urlchange"]})})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,bm=bp("nej.e"),cd=bp("nej.v"),bD=bp("nej.u"),bq=bp("nej.ut"),cO=bp("nej.ut.p"),bM;if(!!bq.gu)return;bq.gu=NEJ.C();bM=bq.gu.bt(bq.hW);bM.hk=function(){this.hu();var jI=+(new Date);this.TP="pb-"+jI;this.bHG="pv-"+jI};bM.bE=function(Y){this.bHJ={};this.bHL=!!Y.rest;this.vX=cO.RX.bh();this.mX={m:{},mg:{},r:[],rr:{},al:{},am:{}};this.Ap={};this.ckU(this.TP);this.Ap[this.bHG]=cO.bsT.bh({root:this.vX,dispatcher:this});this.gN([[location,"urlchange",this.bHU.Z(this)]]);this.bG(Y);this.gc(Y.rules);this.cY(Y.modules)};bM.bJ=function(){var xj=function(zk,bR,dD){delete dD[bR];zk.bg()};return function(){delete this.mX;this.vX=this.vX.bg();bD.hH(this.Ap,xj);this.bN()}}();bM.bIc=function(cF,bR,bH){var Tz=this.mX.m[cF];if(!Tz){Tz={};this.mX.m[cF]=Tz}Tz[bR]=bH};bM.ckS=function(cF,bR){var Tz=this.mX.m[cF];return!Tz?"":Tz[bR]};bM.ckU=function(fA){if(!fA)return;var zk=this.Ap[fA];if(!zk){zk=cO.bFG.bh({root:this.vX,dispatcher:this,classed:fA==this.TP});this.Ap[fA]=zk}return zk};bM.cZn=function(cF,fA){var zk=this.ckU(fA);if(!zk){fA=cO.bCP(cF)?this.bHG:this.TP;zk=this.Ap[fA]}zk.cZA(cF);this.mX.mg[cF]=fA};bM.ckR=function(){var ea=/\$\d/;return function(cF,sl){var cN;bD.hH(this.mX.r,function(ez){bD.hH(ez,function(bH,bR){if(!!bH.test&&(bH.test(cF)||bH.test(sl))){cN=ea.test(bR)?cF.replace(bH,bR):bR;return!0}if(bH===cF||bH===sl){cN=bR;return!0}});return!!cN});return cN||cF}}();bM.bHU=function(){var WE=/(?:^\/+)|(?:\/+$)/gi,mS=/#(\$.*?)$/;var cZl=function(cF,bB){var Zo=bB.AV(),cF=cF.replace(Zo,"").replace(WE,"");return cF.split("/")};var ckP=function(cF,dD){var bH,db=cF.split("/");while(db.length>0){if(!db[db.length-1]){db.pop()}else{db[db.length-1]=""}bH=dD[db.join("/")];if(!!bH)return bH}return""};return function(my){if(my.path.indexOf("$")==0)return;var mr=this.bHJ[my.path];delete this.bHJ[my.path];this.bn("onbeforechange",my);var cF=this.ckR(my.path,my.href),fA=this.mX.mg[cF];if(!fA&&this.bHL)fA=ckP(cF,this.mX.mg);if(!fA&&!cO.bCP(cF)){cF=this.mX.rr["404"];fA=this.mX.mg[cF]}if(!fA&&this.bHL)fA=ckP(cF,this.mX.mg);if(!fA)return;var bB=cO.Su(this.vX,cF),ckO=null;if(this.bHL)ckO=cZl(cF,bB);var sI=cF;cF=bB.AV();bB.fK().event={target:cF,source:sI,href:my.href,param:my.query,input:mr,prest:ckO,clazz:this.ckS(cF,"clazz"),pos:mS.test(my.href)?RegExp.$1:""};var rU=this.ckS(sI,"title");if(!!rU)document.title=rU;this.Ap[fA].bFB(cF)}}();bM.cZh=function(){var ckN=function(cG,sl){if(!cG)return;var fY=location.parse(cG);this.bn("onbeforechange",fY);var cF=this.ckR(fY.path,sl||fY.href);return this.Ap[this.TP].TU(cF)};var bdy=function(bB){var cF=bm.dj(bB,"href");if(!!cF)return cF;var sl=bm.ho(bB,"href");if(!!sl&&!bm.dj(bB,"notUmi")){var db=sl.split("#");db.shift();var cF=db.join("#");if(ckN.call(this,cF,sl)){return cF}if(ckN.call(this,sl)){var fY=location.parse(sl);return fY.path+"?"+bD.Pa(fY.query)}}};var cZd=function(bB){return!!bdy.call(this,bB)};return function(bj){var bA=cd.fh(bj,cZd.Z(this));if(!!bA){cd.RW(bj);this.cI(bdy.call(this,bA))}}}();bM.cZc=function(bj){var bci=this.mX.am,lG=bci[bj.type];if(!lG)return;var bA=cd.fh(bj,"d:resAction");if(!bA)return;var eL=bm.dj(bA,"resAction"),ec=lG[eL];if(!ec)return;var Y={action:eL,target:bA,id:bm.dj(bA,"resId"),type:bm.dj(bA,"resType"),extra:bm.dj(bA,"resExtra")};this.bn("onbeforeaction",{event:bj,target:bA,result:Y});ec.call(this,Y)};bM.gc=function(){var cYZ=["404"];var cYU=function(ez,bR){this.gc(bR,ez)};var cYT=function(rU,cF){this.bIc(cF,"title",rU)};var cYR=function(cF,cYQ){this.mX.al[cYQ]=cF};var ckH=function(ez){if(!ez)return;this.mX.r.push(ez);bD.bw(cYZ,function(bR){if(!ez[bR])return;this.mX.rr[bR]=ez[bR];delete ez[bR]},this)};var cYN=function(eL,ch){var bci=this.mX.am;var bj="click",ec=eL,ch=(ch||"").toLowerCase();if(bD.Zc(eL)){bj=eL.event||bj;ec=eL.value}if(bD.oe(ec)){ec=function(cF,Y){this.cI(cF,{force:!0,input:Y})}.Z(this,ec)}else if(bD.lX(ec)){ec=ec.ft(null,function(bj){var cN=bj.value;if(bD.oe(cN)){this.cI(cN,{force:!0,input:bj.args[0]})}}.Z(this))}if(bD.lX(ec)){if(!bci[bj]){this.gN([[document,bj,this.cZc.Z(this)]]);bci[bj]={}}bci[bj][ch]=ec}};var HE={title:function(ez){bD.hH(ez,cYT,this)},rewrite:function(ez){if(!bD.jO(ez)){ckH.call(this,ez)}else{bD.bw(ez,ckH,this)}},alias:function(ez){bD.hH(ez,cYR,this)},action:function(ez){bD.hH(ez,cYN,this)}};return function(bR,ez){if(bD.jO(bR)){ez=bR;bR="rewrite"}else if(!bD.oe(bR)){bD.hH(bR,cYU,this);return this}(HE[bR]||dm).call(this,ez);return this}}();bM.cY=function(){var cYM=function(ez,cF){this.cY(cF,ez)};var ckD=function(gJ){return!!gJ&&!!gJ.bt};return function(cF,ez){if(!bD.oe(cF)){bD.hH(cF,cYM,this);return this}var W=cO.cZP(this.vX,cF).fK(),gJ=W.module;if(cO.Ub(gJ)||ckD(gJ))return this;var fA=this.mX.mg[cF],gJ;if(bD.oe(ez)||ckD(ez)){gJ=ez}else{ez=ez||de;fA=ez.gid;gJ=ez.module;if(!!ez.title)this.bIc(cF,"title",ez.title);if(!!ez.clazz)this.bIc(cF,"clazz",ez.clazz);if(!!ez.composite)W.composite=ez.composite}this.cZn(cF,fA);W.module=gJ;return this}}();bM.DV=function(){var bKQ=function(bB,fe){var gJ=bB.fK().module;if(cO.Ub(gJ))gJ.bn("onmessage",fe)};var HE=[bKQ,function(eh,fe){var gz=fe.from;while(!!eh){if(eh.AV()!=gz)bKQ(eh,fe);eh=eh.Mq()}},function(eh,fe){var gz=fe.from;cO.cZK(eh,function(bB){if(bB.AV()!=gz)bKQ(bB,fe)})}];return function(fe){var bj=NEJ.X({},fe),eh=cO.Su(this.vX,bj.to);bj.path=eh.AV();(HE[bj.mode]||HE[0]).call(this,eh,bj)}}();bM.dfB=function(bz,fe){var fe=NEJ.X({},fe);fe.type=bz||"";this.bn((fe.from||"")+":"+fe.type,fe)};bM.dfz=function(cF,bz,ki){cF=this.mX.al[cF]||cF;this.dfO((cF||"")+":"+(bz||""),ki)};bM.dix=function(cF,bz,ki){cF=this.mX.al[cF]||cF;this.vd((cF||"")+":"+(bz||""),ki)};bM.diy=function(cG){return this.cI(cG)};bM.eB=function(cF){var fA=this.mX.mg[cF];if(fA==this.bHG){this.Ap[fA].ckZ(cF)}return this};bM.cI=function(cG,Y){Y=Y||de;var cF=cO.cZJ(cG),my=location.parse(cG);this.bHJ[my.path]=Y.input;if(cO.bCP(cF)){this.bHU(my)}else{var zk=this.Ap[this.TP],bj={target:my,umi:cF};if(!!zk.cZt(bj)){if(location.same(cG)&&!!Y.force){this.bHU(my)}else{location.ignored=!!Y.ignored;location.redirect(cG,!!Y.replace)}}}return this};bM.TQ=function(cG){if(!!cG){this.cI(cG,{replace:!0,force:!0})}else{this.Ap[this.TP].TQ()}};bM.diz=function(){this.gN([[document,"click",this.cZh.Z(this)]]);return this};bM.gr=function(){location.active();return this};bM.dp=function(cF,gJ){cF=this.mX.al[cF]||cF;if(!bD.jO(cF)){this.cY(cF,gJ);this.Ap[this.mX.mg[cF]].cla(cF)}else{bD.bw(cF,function(bR){this.dp(bR,gJ)},this)}return this};bm.diA=function(Y){window.dispatcher=bq.gu.fC(Y);bm.dfx();bm.bfN((Y||de).tid||"template-box",location.config);cd.bd(document,"templateready",function(){window.setTimeout(dispatcher.gr.Z(dispatcher),0)});return window.dispatcher}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),bY=bp("edu.u"),uF;if(!!bY.cq)return;bY.cq=NEJ.C();uF=bY.cq.bt(eF.hW);uF.hk=function(Y){this.hu();bm.bxd();this.bU(Y);this.bL(Y)};uF.bE=function(Y){this.bG(Y);this.bMB(Y.clazz);this.bqx(Y.parent)};uF.bJ=function(){this.bN();this.bbY();delete this.fV;bm.dq(this.bb);bm.bZ(this.bb,this.Tk);delete this.Tk};uF.bU=dm;uF.bL=function(){if(!this.bW)this.bcs();this.bb=bm.buu(this.bW);if(!this.bb)this.bb=bm.qw("div",this.ds);bm.bK(this.bb,this.ds)};uF.bcs=dm;uF.bMB=function(eE){this.Tk=eE||"";bm.bK(this.bb,this.Tk)};uF.bNb=function(){if(!this.ds)return;bm.bK(this.fV,this.ds+"-parent")};uF.bbY=function(){if(!this.ds)return;bm.bZ(this.fV,this.ds+"-parent")};uF.jW=function(){return this.bb};uF.bqx=function(dO){if(!this.bb)return this;this.bbY();if(bD.lX(dO)){this.fV=dO(this.bb)}else{this.fV=bm.bQ(dO);if(!!this.fV)this.fV.appendChild(this.bb)}this.bNb();return this};uF.fI=function(){if(!this.fV||!this.bb||this.bb.parentNode==this.fV)return this;this.fV.appendChild(this.bb);return this};uF.eB=function(){bm.dq(this.bb);return this}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),ut=NEJ.P("nej.ut"),eu=NEJ.P("edu.u"),Ne;p.hZ=NEJ.C();Ne=p.hZ.bt(ut.hW,true);Ne.hk=function(Y){this.hu(Y)};eu.hG=Ne.hG=function(pV){pV=pV||"";pV=pV.replace(/^\n+|\n+$/g,"");var cYx=pV.length,ckw=0;var bNA=pV.match(/[^\x00-\x80]/g);if(!!bNA&&bNA.length>0)ckw=bNA.length||0;return cYx+ckw};eu.EU=Ne.EU=function(pV,bmA){pV=pV||"";var gG="",eU=pV.length,pV=pV.split(""),bNX=0;for(var i=0;i<eU;i++){var ckv=pV[i];var db=ckv.match(/[^\x00-\x80]/g);if(!!db&&db.length>0){bNX+=2}else{bNX+=1}if(bNX>bmA){break}gG+=ckv}return gG};eu.bom=Ne.bom=function(pV,bmA){var cT=pV;if(this.hG(cT)>bmA){cT=this.EU(cT,bmA)+"..."}return cT};Ne.cYn=function(ea,cT){var cYm=new RegExp(ea);return cYm.test(cT)};Ne.cku=function(cT){var ea=new RegExp("(;|；|,|，|\\s{1,})");var db=cT.split(ea),ckt=[];for(var i=0;i<db.length;i++){if(!!db[i]&&db[i].trim()!=""&&db[i].trim()!=";"&&db[i].trim()!="；"&&db[i].trim()!=","&&db[i].trim()!="，"){ckt.push(db[i])}}return ckt};Ne.bE=function(Y){this.bG(Y)}})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),lc;var ev=e.bX('<div class="u-baseinputui"><textarea name="inputtxt" class="j-textarea inputtxt"></textarea><label class="j-hint inputhint" for="inputtxt"></label></div>'),cYg=e.bX('<div class="u-baseinputui"><input type="text" name="inputtxt" class="j-textarea inputtxt"></input><label class="j-hint inputhint" for="inputtxt"></label></div>');eu.cD=NEJ.C();lc=eu.cD.bt(eu.cq,true);lc.bU=function(){this.bW=ev};lc.bL=function(){this.bO();this.fu=new p.hZ};lc.bE=function(Y){this.bb=e.buu(ev);if(Y.type=="input"){this.bb=e.buu(cYg)}this.uE=e.bc(this.bb,"j-hint")[0];this.hm=e.bc(this.bb,"j-textarea")[0];this.bG(Y);this.uE=e.bc(this.bb,"j-hint")[0];this.hm=e.bc(this.bb,"j-textarea")[0];if(!!Y.inputArea){this.ckr=e.bQ(Y.inputArea);this.hm=e.bc(this.ckr,"j-input")[0];this.uE=e.bc(this.ckr,"j-label")[0];if(!!Y.width){this.bb.style.width=Y.width+"px";this.hm.style.width=Y.width+"px"}if(!!Y.height){this.bb.style.height=Y.height+"px";this.hm.style.height=Y.height+"px"}}this.gN([[this.uE,"click",this.baF.Z(this)],[this.hm,"click",this.cYd.Z(this)],[this.hm,"focus",this.bQb.Z(this)],[this.hm,"blur",this.Uf.Z(this)],[this.hm,"keydown",this.bQo.Z(this)],[this.hm,"keyup",this.Ss.Z(this)]]);if(!!Y.labelText){this.uE.innerHTML=Y.labelText||""}this.cZ(Y.content||"");if(!!Y.width){this.bb.style.width=Y.width+"px";this.hm.style.width=Y.width-10+"px"}if(!!Y.height){this.bb.style.height=Y.height+"px";this.hm.style.height=Y.height-10+"px"}this.oI();this.diC=Y.notBubble||false;this.cYb=Y.filterEnter||false;this.ckq=Y.reg||""};lc.bQo=function(bj){if(!!bj){eu.bs(this.uE);this.bn("onInputKeyDown",bj)}};lc.bQb=function(bj){if(!!bj){this.bn("onInputFocus")}};lc.cYd=function(bj){if(!!bj){this.bn("onInputClick")}};lc.Uf=function(bj){var hx=this.hm.value;if(!hx){eu.bv(this.uE)}else{eu.bs(this.uE)}if(!!bj){this.bn("onInputBlur",hx)}};lc.Ss=function(bj){if(!!bj){if(this.cYb&&bj.keyCode==13){var eT=this.hm.value.replace(/[\r\n]/g,"");this.cZ(eT)}if(this.ckq&&bj.keyCode!=32){var eT=this.hm.value.replace(this.ckq,"");this.cZ(eT)}this.bn("onInputChange",bj)}};lc.baF=function(){this.hm.focus()};lc.cko=function(){this.hm.blur()};lc.cZ=function(bH){bH+="";bH=eu.vx(bH||"");this.Uo=bH;this.hm.value=bH;this.Uf(null)};lc.ckn=function(){var Mf=this.ca();return this.Uo!=Mf&&Mf!=""};lc.ca=function(){return eu.vx(this.hm.value||"")};lc.hK=function(bH){bH+="";bH=eu.vx(bH||"");this.hm.value=bH;this.Uf(null)};lc.hM=function(){return this.fu.hG(this.ca())};lc.blS=function(cXU){return this.fu.cYn(cXU,this.ca())};lc.ud=function(){this.hm.value="";this.hm.setAttribute("disabled","disabled");e.bK(this.bb,"u-baseinputui-disable")};lc.kr=function(){this.hm.setAttribute("disabled","disabled");e.bK(this.bb,"u-baseinputui-disable")};lc.oI=function(){this.hm.removeAttribute("disabled");e.bZ(this.bb,"u-baseinputui-disable")};lc.Ma=function(){e.bK(this.bb,"u-baseinputui-error")};lc.RJ=function(){e.bZ(this.bb,"u-baseinputui-error")};lc.diD=function(hj){this.bb.style.width=hj-10+"px";this.hm.style.width=hj-10+"px"};lc.bnW=function(iQ){this.bb.style.height=iQ+"px";this.hm.style.height=iQ-10+"px"};lc.cXR=function(){return this.hm};lc.Uw=function(cX){this.uE.innerText=cX}})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),BG;var cv=e.dA(".#<uispace> {padding:5px 0 5px 15px;font-size:12px;line-height:16px;}.#<uispace> .warningbox{color:#cc3333;}.#<uispace> .warningbox .warning{float:left;line-height:22px;}.#<uispace> .warningbox .wrong{float:left;background: url("+g.imageUrlMap.ui_sprite+") no-repeat -40px -156px;height:20px;width:20px;}.#<uispace> .warningbox .warn{float:left;background: url("+g.imageUrlMap.ui_sprite+") no-repeat 0 -156px;height:20px;width:20px;}.#<uispace> .warningbox .right{float:left;background: url("+g.imageUrlMap.ui_sprite+") no-repeat -20px -156px;height:20px;width:20px;}.#<uispace> .warningbox .normal{float:left;background: url("+g.imageUrlMap.ui_sprite+") no-repeat -62px -156px;height:20px;width:20px;}.#<uispace> .warningbox .righttxt{color:#666;}.#<uispace> .loadingbox{color:#999;}.#<uispace> .loadingbox .loading{float:left;line-height:22px;}.#<uispace> .loadingbox .icon{float:left;background: url("+g.imageUrlMap.loading_circle_gif+") no-repeat 0 0;height:16px;width:20px;}");var ev=e.bX('<div class="m-feedbackinfo"><div class="warningbox j-warningbox f-cb"><span class="right j-warningicon"></span><span class="warning j-warning"></span></div><div class="loadingbox j-loadingbox f-cb"><span class="icon"></span><span class="loading j-loading"></span></div></div>');eu.cz=NEJ.C();BG=eu.cz.bt(eu.cq,true);BG.bU=function(){this.bW=ev;this.ds=cv};BG.bL=function(){this.bO();this.bRH=e.bc(this.bb,"j-warning")[0];this.ckl=e.bc(this.bb,"j-warningicon")[0];this.ckk=e.bc(this.bb,"j-warningbox")[0];this.cXN=e.bc(this.bb,"j-loading")[0];this.ckj=e.bc(this.bb,"j-loadingbox")[0]};BG.cg=function(){eu.bs(this.bb)};BG.ET=function(fB,type){eu.bv(this.bb);eu.bv(this.ckk);eu.bs(this.ckj);e.bZ(this.ckl,"right wrong warn normal");e.bK(this.ckl,type);e.bZ(this.bRH,"righttxt wrongtxt warntxt normaltxt");e.bK(this.bRH,type+"txt");this.bRH.innerHTML=fB||""};BG.bE=function(Y){this.bG(Y);this.cki=Y.offsetHeight||200};BG.Lw=function(Ie){this.ET(Ie,"right")};BG.eX=function(Ie,bSq){this.ET(Ie,"wrong");if(!bSq){g.scrollTo(0,e.oR(this.bb).y-this.cki)}};BG.cs=function(Ie,bSq){this.ET(Ie,"warn");if(!bSq){g.scrollTo(0,e.oR(this.bb).y-this.cki)}};BG.diE=function(Ie){this.ET(Ie,"normal")};BG.yD=function(Ie){eu.bv(this.bb);eu.bv(this.ckj);eu.bs(this.ckk);this.cXN.innerText=Ie||""}})();
(function(){var bp=NEJ.P,lm=NEJ.R,dm=NEJ.F,bD=bp("nej.u"),fF=bp("nej.j"),bq=bp("nej.ut"),Lr="dat-"+ +(new Date),ra;if(!!bq.bkO)return;bq.bkO=NEJ.C();ra=bq.bkO.bt(bq.hW);ra.hk=function(){this.hu();this.cc=this.constructor[Lr];if(!this.cc){this.cc={};this.cc[Lr+"-l"]={};this.constructor[Lr]=this.cc}};ra.ckh=function(bR){return this.cc[bR]};ra.bSO=function(bR,bH){this.cc[bR]=bH};ra.diF=function(bR,bbW){var W=this.ckh(bR);if(W==null){W=bbW;this.bSO(bR,W)}return W};ra.cXA=function(bR){if(bR!=null){delete this.cc[bR];return}bD.hH(this.cc,function(bo,bR){if(bR==Lr+"-l")return;this.cXA(bR)},this)};ra.diG=function(bR){if(!!fF.bTd)return fF.bTd(bR)};ra.cXv=function(bR){if(!!fF.cXr)return fF.cXr(bR)};ra.cXq=function(bR,bH){if(!!fF.cXp)fF.cXp(bR,bH)};ra.diH=function(bR,bbW){var W=this.cXl(bR);if(W==null){W=bbW;this.cXj(bR,W)}return W};ra.cXl=function(bR){var W=this.ckh(bR);if(W!=null)return W;W=this.cXv(bR);if(W!=null)this.bSO(bR,W);return W};ra.cXj=function(bR,bH){this.cXq(bR,bH);this.bSO(bR,bH)};ra.ckc=function(bR){if(bR!=null){delete this.cc[bR];if(!!fF.bTd)fF.bTd(bR);return}bD.hH(this.cc,function(bo,bR){if(bR==Lr+"-l")return;this.ckc(bR)},this)};ra.diI=function(){this.ckc();return this};ra.bvP=function(bR){var W=this.cc[Lr+"-l"],cr=lm.slice.call(arguments,1);bD.bw(W[bR],function(ki){try{ki.apply(null,cr)}catch(ex){console.error(ex.message);console.error(ex.stack)}});delete W[bR]};ra.bvS=function(bR,ki){ki=ki||dm;var bF=this.cc[Lr+"-l"][bR];if(!bF){bF=[ki];this.cc[Lr+"-l"][bR]=bF;return!1}bF.push(ki);return!0};ra.cXf=function(bF,gd,AT){if(!bF)return!1;gd=parseInt(gd)||0;AT=parseInt(AT)||0;if(!AT){if(!bF.loaded)return!1;AT=bF.length}if(!!bF.loaded)AT=Math.min(AT,bF.length-gd);for(var i=0;i<AT;i++)if(!bF[gd+i])return!1;return!0}})();
(function(){var g=window,o=NEJ.O,u=NEJ.P("nej.u"),p=NEJ.P("edu.u");p.bdq=function(cka){var yW=g.returnUrl;if(!yW){yW=location.href}if(!!yW&&yW.indexOf(g.urlPrefix.indexPrefix)>0){yW=yW.split("#")[0]}yW=g.encodeURI(g.decodeURI(yW||""));if(!!yW){if(!!cka){u.bw(cka,function(bo){if(!!bo.key){yW=p.daI(bo.key+(!!bo.value?"="+bo.value:""),yW,true)}},this)}}return yW};p.cXd=function(){return"http://reg.163.com/reg/reg.jsp?product=imooc&domains=icourse163.org&url="+g.encodeURIComponent(p.bdq([{key:"forcelogin",value:"true"}]))}})();
(function(){var p=NEJ.P("nej.u");var cjZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",beb={},PQ={};for(var i=0,l=cjZ.length,c;i<l;i++){c=cjZ.charAt(i);beb[i]=c;PQ[c]=i}var cWV=function(kZ){var bf=0,c,cN=[];while(bf<kZ.length){c=kZ[bf];if(c<128){cN.push(String.fromCharCode(c));bf++}else if(c>191&&c<224){cN.push(String.fromCharCode((c&31)<<6|kZ[bf+1]&63));bf+=2}else{cN.push(String.fromCharCode((c&15)<<12|(kZ[bf+1]&63)<<6|kZ[bf+2]&63));bf+=3}}return cN.join("")};var cWU=function(){var PP=/\r\n/g;return function(W){W=W.replace(PP,"\n");var cN=[],gA=String.fromCharCode(237);if(gA.charCodeAt(0)<0)for(var i=0,l=W.length,c;i<l;i++){c=W.charCodeAt(i);c>0?cN.push(c):cN.push(256+c>>6|192,256+c&63|128)}else for(var i=0,l=W.length,c;i<l;i++){c=W.charCodeAt(i);if(c<128)cN.push(c);else if(c>127&&c<2048)cN.push(c>>6|192,c&63|128);else cN.push(c>>12|224,c>>6&63|128,c&63|128)}return cN}}();var UR=function(kZ){var bf=0,cN=[],gS=kZ.length%3;if(gS==1)kZ.push(0,0);if(gS==2)kZ.push(0);while(bf<kZ.length){cN.push(beb[kZ[bf]>>2],beb[(kZ[bf]&3)<<4|kZ[bf+1]>>4],beb[(kZ[bf+1]&15)<<2|kZ[bf+2]>>6],beb[kZ[bf+2]&63]);bf+=3}if(gS==1)cN[cN.length-1]=cN[cN.length-2]="=";if(gS==2)cN[cN.length-1]="=";return cN.join("")};var cWT=function(){var bMF=/\n|\r|=/g;return function(W){var bf=0,cN=[];W=W.replace(bMF,"");for(var i=0,l=W.length;i<l;i+=4)cN.push(PQ[W.charAt(i)]<<2|PQ[W.charAt(i+1)]>>4,(PQ[W.charAt(i+1)]&15)<<4|PQ[W.charAt(i+2)]>>2,(PQ[W.charAt(i+2)]&3)<<6|PQ[W.charAt(i+3)]);var eU=cN.length,gS=W.length%4;if(gS==2)cN=cN.slice(0,eU-2);if(gS==3)cN=cN.slice(0,eU-1);return cN}}();p.diJ=function(W){return cWV(cWT(W))};p.PG=function(W){try{return window.btoa(W)}catch(ex){return UR(cWU(W))}}})();
(function(){var bp=NEJ.P,o=NEJ.O,f=NEJ.F,g=bp("nej.g"),j=bp("nej.j"),u=bp("nej.u"),w=bp("dwr.engine"),bwP,cjW=f,cjV={},cc={},UT="JSESSIONID",jT=null;j.diK=function(hp){cjW=u.lX(hp)?hp:f;return this};j.cWO=function(ch){UT=ch||UT};j.diL=function(bR,mE){cjV[bR]=mE;return this};j.diM=function(bV){bwP=bV||"";return this};j.cWJ=function(){if(!!jT)return this;jT={h:{},p:0,m:{callCount:0,scriptSessionId:"${scriptSessionId}190",httpSessionId:j.pd(UT)},r:{script:!1,sync:!1,method:"POST",timeout:null,proxy:!0,cookie:!1,onbeforerequest:null}};return this};j.cWI=function(cG,Y){var fY=(cG||"").split(".");if(!fY||fY.length!=2)return this;var cjT=!1;Y=Y||o;if(!jT){cjT=!0;j.cWJ();if(!!Y.session){jT.m.httpSessionId=j.pd(Y.session)}}jT.u=(Y.path||"/dwr/call/plaincall/")+(Y.query&&"?"+Y.query||"");NEJ.EX(jT.r,Y);var Fx=jT.r.headers||{};if(!!Y.headers)for(var x in Y.headers)Fx[x]=Y.headers[x];Fx[g.Tr]=g.cUB;jT.r.headers=Fx;var it="c"+jT.m.callCount;jT.m[it+"-scriptName"]=fY[0];jT.m[it+"-methodName"]=fY[1];jT.m[it+"-id"]=jT.m.callCount;jT.h[jT.m.callCount]={c:Y.onload||f,e:Y.onerror||f};var lQ=Y.param;if(!!lQ&&lQ.length>0)for(var i=0,l=lQ.length,bH;i<l;i++){bH=bxK(lQ[i],it);!!bH&&(jT.m[it+"-param"+i]=bH)}jT.m.callCount++;if(cjT)j.cWE();return this};j.cWE=function(){if(!jT||!jT.u){jT=null;return this}var lx=bwP||u.fb(6);bwP=0;jT.m.batchId=lx;cc[lx]=jT;jT=null;bao(lx);return this};var cjQ=function(lx){var jc=cc[lx];if(!jc)return;delete jc.h;delete jc.m;delete cc[lx]};var bxK=function(W,it){if(W==null)return"null:null";if(u.cXc(W))return"boolean:"+!!W;if(u.biM(W))return"number:"+W;if(u.oe(W))return"string:"+encodeURIComponent(W);if(u.biK(W))return"Date:"+W.getTime();if(u.jO(W))return cWB(W,it);if(u.Zc(W))return cWA(W,it);if(u.lX(W,"function"))return"";return"default:"+W};var cWB=function(bF,it){var db=[];for(var i=0,l=bF.length,IA,bH;i<l;i++){jT.p++;IA=it+"-e"+jT.p;bH=bxK(bF[i],it);if(!bH)continue;jT.m[IA]=bH;db.push("reference:"+IA)}return"Array:["+db.join(",")+"]"};var cWA=function(iV,it){var db=[],IA,bH;for(var p in iV){jT.p++;IA=it+"-e"+jT.p;bH=bxK(iV[p],it);if(!bH)continue;jT.m[IA]=bH;db.push(encodeURIComponent(p)+":reference:"+IA)}return"Object_Object:{"+db.join(",")+"}"};var byh=function(W,Vo){if(!W)return null;var db=[],cWz=Vo=="&";for(var p in W)db.push(!cWz?p+"="+W[p]:encodeURIComponent(p)+"="+encodeURIComponent(W[p]));return db.join(Vo||"\n")};var bao=function(lx){var jc=cc[lx];if(!jc)return;jc.u=jc.u.replace(/(\?|$)/,(jc.m.callCount>1?"Multiple."+jc.m.callCount:jc.m["c0-scriptName"]+"."+jc.m["c0-methodName"])+".dwr$1");var kh=jc.r,mE=cjV[kh.proxy];if(!!mE){mE.diN({url:jc.u,param:byh(jc.m,"&amp;")});delete jc.r;return}var QZ=!!kh.script,cjP=kh.method=="POST";delete jc.r;delete kh.script;kh.method=kh.method.toUpperCase();kh.onerror=cWw.Z(null,lx);if(QZ||!cjP){jc.u+=(jc.u.indexOf("?")>=0?"&":"?")+byh(jc.m,"&")}if(QZ){j.ddu(jc.u,kh)}else{kh.onload=cWt.Z(null,lx);kh.data=cjP?byh(jc.m):null;j.JQ(jc.u,kh)}};var SE=function(lx,mL,jR){var jc=cc[lx];if(!jc||cjW(jR))return;var ec=jc.h[mL];if(!ec)return;try{(ec.e||f)(jR)}catch(ex){console.error(ex.message);console.error(ex)}};var blc=function(lx,jR){var jc=cc[lx];if(!jc)return;var ec=jc.h;for(var x in ec)SE(lx,x,jR)};var cWs=function(lx,mL,W){var jc=cc[lx];if(!jc)return;try{(jc.h[mL].c||f)(W)}catch(ex){SE(lx,mL,{code:g.cSS,message:"DWR回调执行异常："+ex.message||ex})}};var cWt=function(lx,hx){try{!!hx&&hx.search("//#DWR")>=0?(new Function(hx))():blc(lx,{code:g.bto,message:"DWR请求返回数据不合法!"})}catch(ex){blc(lx,{code:g.bXy,message:"DWR返回脚本执行异常："+(ex.message||ex)})}finally{cjQ(lx)}};var cWw=function(lx,jR){blc(lx,jR);cjQ(lx)};w["_remoteHandleCallback"]=cWs;w["_remoteHandleException"]=SE;w["_remoteHandleBatchException"]=blc;bp("dwr")["_"]=[{handleCallback:w["_remoteHandleCallback"],handleException:w["_remoteHandleException"],handleBatchException:w["_remoteHandleBatchException"]}]})();
(function(){var r=[],g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),c=NEJ.P("mb.c"),p=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),ut=NEJ.P("nej.ut"),bfT,cWp;p.hF=NEJ.C();bfT=p.hF.bt(ut.bkO);cWp=p.hF.cH;bfT.cWm=function(Y){var cjK=c.diP||o,Y=Y||{};Y.method=Y.method||"POST";if(!!cjK.xauthKey){Y.headers={"Auth-Key":cjK.xauthKey}}return Y};bfT.bI=function(Y){if(!Y.notShowLoading&&!!eu.showLoading&&!Y.onlyHideLoading){eu.showLoading(Y.notShowMask)}var kh=this.cWm(Y);kh.sync=Y.sync||false;kh.param=Y.param;kh.path=Y.path;kh.script=Y.script||false;kh.onload=this.cWf.Z(this,Y.onload,Y.notShowLoading,Y.onlyHideLoading);kh.onerror=this.cWe.Z(this,Y.onpreError,Y.onerror,Y.notShowLoading,Y.onlyHideLoading);kh.session=kh.session||"NTESSTUDYSI";j.cWI(Y.url,kh)};j.cWO("NTESSTUDYSI");bfT.cWf=function(bzE,bmx,bzJ,W){if(!bmx&&!!eu.hideLoading||!!bzJ&&!!eu.hideLoading){eu.hideLoading()}bzE(W)};bfT.cWe=function(cjI,Vl,bmx,bzJ,jR){if(!bmx&&!!eu.hideLoading||!!bzJ&&!!eu.hideLoading){eu.hideLoading()}if(!!cjI){cjI(jR)}if(!!Vl){Vl(jR)}else{var cjH=(jR.message||"").split("_vG_Gv_");var JV=cjH[0];var cjG=cjH[1];var cjF=[];if(!!cjG){var bF=cjG.split("&");for(var i=bF.length;i;){var ji=bF[--i].split("=");cjF.push({key:ji[0],value:ji[1]})}}if(!bmx){switch(JV){case"not_auth":eu.wZ.JO({from:"otherauth",aftParams:cjF});break;case"not_access":eu.cp.bP({type:1,message:"没有权限查看！"});break;case"not_publish":eu.cp.bP({type:1,message:"课程未发布，不能操作此功能！"});break;case"course_edit":eu.cp.bP({type:1,message:"该课程制作者正在重新编辑内容，暂时不可学习，给你带来的不便深表歉意。"});break;case"course_delete":eu.cp.bP({type:1,message:"该课程已删除，给你带来不便深表歉意。你可以选择其他课程学习。"});break;case"keyword":eu.cp.bP({type:1,message:"输入的内容包含敏感词，不能发布！"});break;default:JV=!!JV&&JV!="Error"&&JV.indexOf("超时")<0?JV:"哎呀，您的网速不太给力，请刷新或稍后再试。";if(JV.indexOf("服务器返回异常状态")<0){eu.cp.bP({type:1,message:JV})}break}}}}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),p=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bC=u.fb(),pw,iv="ck-termSettingsCache";p.JJ=NEJ.C();pw=p.JJ.bt(p.hF);pw.cVY=function(bhq){this.bI({key:iv+bC,url:"MemberBean.getSchools",param:[bhq],onload:this.cVX.Z(this)})};pw.cVX=function(W){this.bn("onGetSchools",W)};pw.cVW=function(bhq,cVV){this.bI({key:iv+bC,url:"MemberBean.getDepartment",param:[bhq,cVV],onload:this.cVU.Z(this)})};pw.cVU=function(W){this.bn("onGetDepartment",W)};pw.cjE=function(bia){this.bI({key:iv+bC,url:"MemberBean.updateMocMember",param:[bia],onload:this.cVS.Z(this)})};pw.cVS=function(W){this.bn("onUpdateMocMember",W)};pw.bAP=function(bV){this.bI({key:iv+bC,url:"MemberBean.getMocMember",param:[bV],onload:this.cVQ.Z(this)})};pw.cVQ=function(W){this.bn("onGetMocMember",W)};pw.cjD=function(qo){this.bI({key:iv+bC,url:"MemberBean.isNickNameValid",param:[qo],notShowLoading:!0,onload:this.bAT.Z(this)})};pw.bAT=function(W){this.bn("onisNickNameValid",W)};pw.cjC=function(qo,lr){this.bI({key:iv+bC,url:"MemberBean.isOtherNickNameValid",notShowLoading:!0,param:[qo,lr],onload:this.bAY.Z(this)})};pw.bAY=function(W){this.bn("onisOtherNickNameValid",W)};pw.cjB=function(){this.bI({key:iv+bC,url:"MemberBean.checkEmailStatus",sync:true,param:[],onload:this.bBj.Z(this)})};pw.bBj=function(W){this.bn("onCheckEmailStatus",W)};pw.cVH=function(nd){this.bI({key:iv+bC,url:"MemberBean.saveEmail",param:[nd],onload:this.bBK.Z(this,nd)})};pw.bBK=function(nd,W){this.bn("onsaveEmail",nd,W)};pw.cVG=function(NQ){this.bI({key:iv+bC,url:"MemberBean.sendActiveEmail",param:[],onload:this.cVE.Z(this,NQ)})};pw.cVE=function(NQ,W){this.bn("onsendActiveEmail",W,NQ)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),ut=NEJ.P("nej.ut"),sZ;eu.dB=function(){return(new Date).getTime()-g.serverTimeDiff};eu.fH=function(Dr){if(Dr==eu.CONST.UNDETERMINDED_STARTTIME||Dr==eu.CONST.UNDETERMINDED_ENDTIME){return"待定"}var gG="未填写时间";if(Dr!=null&&Dr!=undefined){var cQ=new Date;cQ.setTime(Dr);gG=cQ.getFullYear()+"年"+(cQ.getMonth()+1)+"月"+cQ.getDate()+"日 "+cQ.getHours()+":"+(cQ.getMinutes()<10?"0":"")+cQ.getMinutes()}return gG};eu.vQ=function(Dr){var cQ=new Date;cQ.setTime(Dr||0);return cQ.getFullYear()+"年"+(cQ.getMonth()+1<10?"0"+(cQ.getMonth()+1):cQ.getMonth()+1)+"月"+(cQ.getDate()<10?"0"+cQ.getDate():cQ.getDate())+"日"};eu.bqp=function(Dr){var jJ=new Date;jJ.setTime(Dr||0);var iW=new Date;if(iW.getTime()<jJ.getTime()){return"1秒前"}else if(iW.getFullYear()!=jJ.getFullYear()){return jJ.getFullYear()+"-"+(jJ.getMonth()+1)+"-"+jJ.getDate()}else if(iW.getMonth()!=jJ.getMonth()||iW.getDate()!=jJ.getDate()){return jJ.getMonth()+1+"月"+jJ.getDate()+"日"}else if(iW.getHours()!=jJ.getHours()){var NG=jJ.getMinutes();NG=NG<10?"0"+NG:NG;return jJ.getHours()+":"+NG}else if(iW.getMinutes()!=jJ.getMinutes()){return iW.getMinutes()-jJ.getMinutes()+"分钟前"}else if(iW.getSeconds()!=jJ.getSeconds()){return iW.getSeconds()-jJ.getSeconds()+"秒前"}else{return"1秒前"}};eu.bCz=function(qz){qz=qz||0;var kf=parseInt(qz/60);var Dq=parseInt(qz%60);return(kf<10?"0"+kf:kf)+":"+(Dq<10?"0"+Dq:Dq)};eu.cVD=function(qz){qz=qz||0;var jL=Math.floor(qz/3600),kf=Math.floor(qz/60)-jL*60,Dq=Math.floor(qz%60);return(jL<10?"0"+jL:jL)+":"+(kf<10?"0"+kf:kf)+":"+(Dq<10?"0"+Dq:Dq)};eu.JS=function(qz){var kU=new Date;kU.setTime(qz);var jr=kU.getMonth()+1;var wU=kU.getDate();return kU.getFullYear()+"-"+(jr<10?"0"+jr:jr)+"-"+(wU<10?"0"+wU:wU)};eu.cVC=function(ny){var cVy=eu.dB(),TB=ny-cVy,cO,cl,bDt,mY;if(TB<0){return""}TB=~~(TB/1e3);cO=~~(TB/(3600*24));cl=~~((TB-3600*24*cO)/3600);bDt=~~((TB-3600*24*cO-3600*cl)/60);mY=TB-3600*24*cO-3600*cl-bDt*60;return cO+"天"+cl+"时"+bDt+"分"+mY+"秒"};p.cVt=NEJ.C();sZ=p.cVt.bt(ut.hW,true);sZ.hk=function(Y){this.VD=Y.totalTime;this.cjv=Y.intervalTime;this.VH(this.VD);this.hu(Y)};sZ.VH=function(cQ){this.cju=Math.floor(cQ/3600);this.cVp=Math.floor(cQ/60)-this.cju*60;this.cVl=Math.floor(cQ%60)};sZ.bDS=function(){return this.VD||0};sZ.cVk=function(){return this.cju||0};sZ.diQ=function(){var jL=this.cVk();return jL<10?"0"+jL:jL+""};sZ.cVd=function(){return this.cVp||0};sZ.diR=function(){var kR=this.cVd();return kR<10?"0"+kR:kR+""};sZ.cVb=function(){return this.cVl||0};sZ.diS=function(){var mf=this.cVb();return mf<10?"0"+mf:mf+""};sZ.bEz=function(){if(!this.btd){this.btd=g.setInterval(this.cUZ.Z(this),this.cjv*1e3)}};sZ.cUZ=function(){var cjp="timer";this.VD-=this.cjv;if(this.VD<=0){this.VD=0;this.cjn();cjp="timerComplete"}this.VH(this.VD);this.bn(cjp)};sZ.cjn=function(){if(this.btd){this.btd=g.clearInterval(this.btd)}};sZ.dG=function(){this.cjn()};sZ.bE=function(Y){this.bG(Y)}})();
(function(){var g=window,o=NEJ.O,u=NEJ.P("nej.u"),e=NEJ.P("nej.e"),eu=NEJ.P("edu.u"),ZK=e.dL('{if defined("xlist")&&!!xlist.length}{list xlist as x}{if x_index != 0}<span class="f-fc6">、<span>{/if}<a class="f-fc6" href="${prefix.memberPrefix}${x.subfixUrl|escape}" target="_blank">${x.realName|escape}</a>{/list}{/if}');var cjm=function(cUT,bz){var bFA=[];u.bw(cUT,function(cjl,bf){if(cjl.lectorType===bz){bFA[bFA.length]=cjl}});return bFA};var cUP=function(wN){wN.isOver=eu.dB()-wN.endTime>0;wN.offsetStartDay=Math.ceil((wN.startTime-eu.dB())/(1e3*3600*24));wN.isStart=eu.dB()-wN.startTime>0;var ZY=wN.endTime-wN.startTime,bag=eu.dB()-wN.startTime;wN.termLength=Math.ceil(ZY/(1e3*3600*24*7));wN.onProgress=Math.ceil(bag/(1e3*3600*24*7));wN.onProgressPercent=Math.ceil(100*bag/ZY);return wN};var cUN=function(cP){var Kk=cP.termPanel,cUM=cP.mode==eu.CONST.MODE_MOOC?g.urlPrefix.courseInfoPrefix:g.urlPrefix.spocCourseInfoPrefix,bGb=cP.mode==eu.CONST.MODE_MOOC?g.urlPrefix.courseLearnPrefix:g.urlPrefix.spocCourseLearnPrefix;cP.infoUrl=cUM+encodeURIComponent(cP.schoolPanel.shortName)+"-"+encodeURIComponent(cP.id);cP.learnUrl=bGb+encodeURIComponent(cP.schoolPanel.shortName)+"-"+encodeURIComponent(cP.id);cP.scoreUrl=bGb+encodeURIComponent(cP.schoolPanel.shortName)+"-"+encodeURIComponent(cP.id)+"#"+eu.umi("learnScore");if(!!Kk){cP.certUrl="cert/downCert.htm?termId="+Kk.id;cP.certChargeUrl="cert/downChargeCert.htm?termId="+Kk.id;cP.scoreUrl=bGb+encodeURIComponent(cP.schoolPanel.shortName)+"-"+encodeURIComponent(cP.id)+"?tid="+Kk.id+"#"+eu.umi("learnScore")}if(!!Kk&&cP.currentTermId!=Kk.id){cP.infoUrl=cP.infoUrl+"?tid="+Kk.id;cP.learnUrl=cP.learnUrl+"?tid="+Kk.id}return cP};var cUL=function(Wa){var cP={},cjg=[],bGx=[];u.hH(Wa,function(bH,bxg){cP[bxg]=bH});if(!!cP.termPanel){if(!cP.termPanel.bigPhotoUrl){cP.imgUrl=g.imageUrlMap.img_default_course}else{cP.imgUrl=eu.QU(cP.termPanel.bigPhotoUrl,223,125)}cP.termPanel=cUP(cP.termPanel);cP.recmendContent=u.YF(cP.termPanel.jsonContent||"").spContent;if(!!Wa.termPanel.lectorPanels){cjg=cjm(Wa.termPanel.lectorPanels,eu.CONST.REL_TYPE_TERM_CHIEF_LECTOR);bGx=cjm(Wa.termPanel.lectorPanels,eu.CONST.REL_TYPE_TERM_LECTOR)}cP.mainTeacher=e.bS(ZK,{xlist:cjg,prefix:g.urlPrefix})||"";cP.teacherList=e.bS(ZK,{xlist:bGx,prefix:g.urlPrefix});if(!!cP.teacherList){cP.teacherList='<span class="f-fc6">、<span>'+cP.teacherList}cP.teacherList=cP.mainTeacher+cP.teacherList;if(bGx.length>0){cP.mainTeacher+='<span class="f-fc6">等</span>'}}if(!!cP.schoolPanel){cP=cUN(cP)}return cP};eu.bGA=function(W){var cje=[];if(!!W&&u.jO(W)){u.bw(W,function(Wa,bf){cje[bf]=cUL(Wa)})}return cje};eu.cUv=function(bGN){var bGR=null;if(!!bGN&&!!bGN.length){bGR=[];u.bw(bGN,function(Qz,bf){Qz.time=parseInt(Qz.anchor);bGR.push(Qz)})}return bGR};eu.Ir=function(cUu,lr){var gG=null;u.bw(cUu,function(kn,bf){if(!!kn&&kn.memberId==lr){gG=kn}});return gG};eu.bHb=function(bV){return eu.dE().id==bV};eu.dK=function(nI){if(!nI&&!!g.termDto&&!!g.termDto.endTime){nI=g.termDto.endTime}if(!g.termDto)return true;var cUt=eu.dB()-nI;if(cUt>=g.termDto.timeToFreeze){eu.cp.bP({type:1,message:"课程与学期管理的所有内容已被冻结！冻结后管理后台只能查看不能进行修改、保存、发布等操作"});return false}return true};eu.Il=function(){if(g.forumType==eu.CONST.FORUM_TYPE_ELITE){return eu.CONST.FORUM_FORBID_ELITE}if(g.mergedClosedStatus==eu.CONST.MERGED_CLOSED_STATUS_CLOSED){return eu.CONST.FORUM_FORBID_CLOSED}if(!!g.bannedState&&(g.bannedState.site>0||g.bannedState.term>0)){return eu.CONST.FORUM_FORBID_USERFORBID}return eu.CONST.FORUM_FORBID_NORMAL};eu.CS=function(){return!!g.moocTermDto};eu.yH=function(){return!!g.termDto&&g.termDto.mode>0};eu.kJ=function(){var sg=location.search,jp=location.hash.split("?");var cUr=!!sg?sg:jp[1]?"?"+jp[1]:"";var lQ=eu.bcR(cUr);if(lQ.optname==eu.CONST.SUPER_OPT_USER_NAME&&eu.ed(eu.CONST.ROLE_PLATFORM_ADMIN)){return true}return false};eu.cUq=function(bV,bz,mL){var iy="";switch(bz){case eu.CONST.COURSE_TYPE_901COURSE:iy=g.yktHref+g.urlPrefix.yktCourseLink.replace("{id}",bV);break;case eu.CONST.PRODUCT_TYPE_YOOC:iy=g.urlPrefix.courseInfoPrefix+encodeURIComponent(mL)+".htm?tid="+bV;break;case eu.CONST.PRODUCT_TYPE_MOOC:iy=g.urlPrefix.courseInfoPrefix+encodeURIComponent(mL)+".htm?tid="+bV;break}return iy}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),p=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bC=u.fb(),gR,jE="ck-adminSchoolCache";p.nj=NEJ.C();gR=p.nj.bt(p.hF);gR.cUo=function(ic){this.bI({key:jE+bC,url:"MocSchoolBean.getSchool",param:[ic],onload:this.cUn.Z(this)})};gR.cUn=function(W){this.bn("onGetSchool",W)};gR.ciZ=function(baW){this.bI({key:jE+bC,url:"MocSchoolBean.editSchool",param:[baW],onload:this.cUg.Z(this)})};gR.cUg=function(W){this.bn("onEditSchool",W)};gR.cUd=function(bIq){this.bI({key:jE+bC,url:"MocSchoolBean.publishSchool",param:[bIq],onload:this.cTY.Z(this)})};gR.cTY=function(W){this.bn("onPublishSchool",W)};gR.cTX=function(){this.bI({key:jE+bC,url:"CourseBean.getCategorys",param:[],onload:this.cTW.Z(this)})};gR.cTW=function(W){this.bn("onGetCourseCategorys",W)};gR.QL=function(cG,fA){this.bI({key:jE+bC,url:"AdminCommonBean.photoDelete",param:[cG,fA],onload:this.cTV.Z(this)})};gR.cTV=function(W){this.bn("onSaveGid",W)};gR.Wo=function(bIY,qm){this.bI({key:jE+bC,url:"AdminCommonBean.photosDelete",param:[bIY,qm],onload:this.cTT.Z(this)})};gR.cTT=function(W){this.bn("onSaveGidsAndPhotoUrls",W)};gR.ciT=function(ic,ry,rz,gS,bJu){this.bI({key:jE+bC,url:"PublishCourseBean.createCourse",param:[ic,ry,rz,gS,bJu],onload:this.cTP.Z(this)})};gR.cTP=function(W){this.bn("AdminCreateCourse",W)};gR.ciR=function(fs,ic,ry,rz,gS,bJu){this.bI({key:jE+bC,url:"PublishCourseBean.editCourse",param:[fs,ic,ry,rz,gS,bJu],onload:this.cTM.Z(this)})};gR.cTM=function(W){this.bn("AdminUpdateCourse",W)};gR.cTI=function(ic,cTG){this.bI({key:jE+bC,url:"PublishCourseBean.getCoursesBySchool",param:[ic,cTG],onload:this.cTE.Z(this)})};gR.cTE=function(W){this.bn("AdminGetCourseList",W)};gR.ciO=function(courseId,chiefTeacherId,startTime,nI,bJR,bJT,bJU){this.bI({key:jE+bC,url:"PublishCourseBean.createTerm",param:[courseId,chiefTeacherId,startTime,nI,bJR,bJT,bJU],onload:this.cTB.Z(this)})};gR.cTB=function(W){this.bn("AdminCreateTerm",W)};gR.ciN=function(courseId,termId,chiefTeacherId,startTime,nI,bJR,bJT,bJU){this.bI({key:jE+bC,url:"PublishCourseBean.editTerm",param:[courseId,termId,chiefTeacherId,startTime,nI,bJR,bJT,bJU],onload:this.cTz.Z(this)})};gR.cTz=function(W){this.bn("AdminUpdateTerm",W)};gR.cTy=function(termDto,categoryIds,bKx){if(!eu.dK())return;this.bI({key:jE+bC,url:"PublishCourseBean.updateCourseDraft",param:[termDto,categoryIds,bKx],onload:this.cTx.Z(this)})};gR.cTx=function(W){this.bn("onUpdateCourseDraft",W)};gR.ciM=function(termId,categoryIds,bKx){this.bI({key:jE+bC,url:"PublishCourseBean.publishTermDetail",param:[termId,categoryIds,bKx],onload:this.cTv.Z(this)})};gR.cTv=function(W){this.bn("onPublishTermDetail",W)};gR.cTu=function(bT){if(!eu.dK())return;this.bI({key:jE+bC,url:"PublishCourseBean.validateTermDetailStaff",param:[bT],onload:this.cTt.Z(this)})};gR.cTt=function(W){this.bn("onValidateTermDetailStaff",W)};gR.cTq=function(cTp){this.bI({key:jE+bC,url:"PublishCourseBean.getTermsByTeacher",param:[cTp],onload:this.cTo.Z(this)})};gR.cTo=function(W){this.bn("onGetTermsByTeacher",W)};gR.bql=function(fs,bT,mT){this.bI({key:jE+bC,url:"PublishCourseBean.getCourseDto",param:[fs,bT,mT],onload:this.cTm.Z(this)})};gR.cTm=function(W){this.bn("onGetCourseDto",W)};gR.cTl=function(bT){this.bI({key:jE+bC,url:"PublishCourseBean.deleteTermById",param:[bT],onload:this.cTk.Z(this)})};gR.cTk=function(W){this.bn("onDeleteTermById",W)};gR.cTj=function(fs){this.bI({key:jE+bC,url:"PublishCourseBean.deleteCourseById",param:[fs],onload:this.cTi.Z(this)})};gR.cTi=function(W){this.bn("onDeleteCourseById",W)};gR.cTh=function(gS,fs){this.bI({key:jE+bC,url:"PublishCourseBean.validateSpocFromCourse",param:[gS,fs],onload:this.cTg.Z(this)})};gR.cTg=function(W){this.bn("onValidateSpocFromCourse",W)};gR.ciK=function(zU){this.bI({key:jE+bC,url:"PublishCourseBean.getProtocol",param:[zU],onload:this.cTe.Z(this,zU)})};gR.cTe=function(zU,W){this.bn("onGetProtocol",zU,W)};gR.ciJ=function(zU){this.bI({key:jE+bC,url:"PublishCourseBean.signProtocol",param:[zU],onload:this.cTc.Z(this,zU)})};gR.cTc=function(zU,W){this.bn("onSignProtocol",zU,W)}})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),pK,cTa;var cv=e.dA(".#<uispace>.u-tipinput-error{border-color:red;}.#<uispace> {position:relative;z-index:102;}.#<uispace> .u-cmtedtip{position:absolute;}.#<uispace> .u-cmtedtip.right{top:-23px;right:0;}.#<uispace> .u-cmtedtip.left{bottom:-25px;left:0;}.#<uispace> .s-fc9{color:red;}.#<uispace> .tip{position:absolute;left:100%;top:0;padding-left:14px;width:200px;}.#<uispace> .tip .ct{background:#ffffcc;font-size:12px;line-height:16px;color:#333;padding:5px 6px;border:1px solid #c2b06b;}");var ev=e.bX('<div class="u-tipinput"><div class="u-cmtedtip"><div class="f-fs0 f-fc9 j-ic f-fl">还可以输入<b class="f-fs0 f-fc0">100</b>字</div></div><div class="f-cb j-editArea" style="z-index:102;"></div><div class="tip j-tip" style="display:none"><div class="trian"></div><div class="ct j-ct f-f1"></div></div></div>');eu.ef=NEJ.C();pK=eu.ef.bt(eu.cq,true);cTa=eu.ef.cH;pK.bU=function(){this.bW=ev;this.ds=cv};pK.bL=function(){this.bO();this.kQ=e.bc(this.bb,"j-ic")[0];this.cSZ=e.bc(this.bb,"u-cmtedtip")[0];this.ciI=e.bc(this.bb,"j-tip")[0];this.cSX=e.bc(this.bb,"j-ct")[0];this.Ct=e.bc(this.bb,"j-editArea")[0];this.fu=new p.hZ};pK.bE=function(Y){this.bG(Y);this.wz=eu.cD.bh({parent:this.Ct,width:Y.width,height:Y.height,filterEnter:Y.filterEnter,labelText:Y.labelText,type:Y.type,onInputFocus:this.cSW.Z(this),onInputBlur:this.cSV.Z(this),onInputChange:this.ciH.Z(this)});this.eP=this.wz.cXR();this.ciG=Y.autoShowCount==undefined?true:Y.autoShowCount;this.ciF='<div>还可以输入<b class="s-fc1"></b>字</div>';this.cSR='<div class="s-fc9">已超过<b></b>字</div>';this.WP=Y.critical||100;this.cSQ=!!Y.filterLine;this.cSL=Y.tipPos||"right";e.Fz(this.cSZ,"left right",this.cSL);this.kQ.innerHTML='<div>还可以输入<b class="s-fc1">'+Y.critical+"</b>字</div>";eu.bs(this.kQ);if(!!Y.cnt){this.cSX.innerHTML=Y.cnt;this.ciE=Y.cnt}if(!!Y.width){this.Ct.style.width=Y.width+"px"}if(!!Y.height){this.Ct.style.height=Y.height+"px"}};pK.ca=function(){return this.wz.ca()};pK.cZ=function(bH){this.wz.cZ(bH);this.ciH()};pK.kr=function(){this.wz.kr()};pK.diV=function(){this.wz.cZ("");var bcZ=this.bOh(this.ciF,100);this.kQ.innerHTML="";this.kQ.appendChild(bcZ)};pK.hM=function(){return this.fu.hG(this.wz.ca())};pK.Ma=function(){this.wz.Ma()};pK.RJ=function(){this.wz.RJ()};pK.ud=function(){this.wz.ud()};pK.oI=function(){this.wz.oI()};pK.cSW=function(){if(this.kQ&&this.ciG)eu.bv(this.kQ);if(!!this.ciE){eu.bv(this.ciI)}this.bn("onInputFocus")};pK.cSV=function(bj){if(this.kQ&&this.ciG)eu.bs(this.kQ);if(!!this.ciE){eu.bs(this.ciI)}this.bn("onInputBlur")};pK.ciH=function(bj){if(!this.kQ)return false;var bH=this.eP.value;if(this.cSQ){var bOl=bH.replace(/[\r\n]+/g,"");if(bOl!=bH){this.eP.value=bOl;bH=bOl}}bH=eu.vx(bH);var ciA=this.fu.hG(bH);var cSD=Math.ceil(ciA/2);var bcZ;var kP=this.WP-cSD;if(kP>=0)bcZ=this.bOh(this.ciF,kP);else{var dQ=Math.abs(kP);if(dQ>=1e3){this.ciz=dQ=1e3;if(!!this.ciz){var ciy=(this.ciz+this.WP)*2;if(ciA>ciy){this.eP.value=this.fu.EU(bH,ciy)}}}bcZ=this.bOh(this.cSR,dQ)}this.kQ.innerHTML="";this.kQ.appendChild(bcZ);this.bn("onInputChange",bj)};pK.bOh=function(dr,eU){if(u.oe(dr))dr=e.hU(dr);var cSA=e.cJ(dr)[0];cSA.innerText=eU||0;return dr};pK.bJ=function(){if(this.wz){this.wz=eu.cD.bg(this.wz)}this.bN()}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),bM;if(!!bq.sn)return;bq.sn=NEJ.C();bM=bq.sn.bt(eF.hW);bM.hk=function(){this.hu();bm.bxd();this.bU();this.bL()};bM.bE=function(Y){this.bG(Y);this.bMB(Y.clazz);this.bqx(Y.parent)};bM.bJ=function(){this.bN();this.bbY();delete this.fV;bm.dq(this.bb);bm.bZ(this.bb,this.Tk);delete this.Tk};bM.bU=dm;bM.bL=function(){if(!this.bW)this.bcs();this.bb=bm.buu(this.bW);if(!this.bb)this.bb=bm.qw("div",this.ds);bm.bK(this.bb,this.ds)};bM.bcs=dm;bM.bMB=function(eE){this.Tk=eE||"";bm.bK(this.bb,this.Tk)};bM.bNb=function(){if(!this.ds)return;bm.bK(this.fV,this.ds+"-parent")};bM.bbY=function(){if(!this.ds)return;bm.bZ(this.fV,this.ds+"-parent")};bM.jW=function(){return this.bb};bM.bqx=function(dO){if(!this.bb)return this;this.bbY();if(bD.lX(dO)){this.fV=dO(this.bb)}else{this.fV=bm.bQ(dO);if(!!this.fV)this.fV.appendChild(this.bb)}this.bNb();return this};bM.fI=function(){if(!this.fV||!this.bb||this.bb.parentNode==this.fV)return this;this.fV.appendChild(this.bb);return this};bM.eB=function(){bm.dq(this.bb);return this}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,bm=bp("nej.e"),bD=bp("nej.u"),cl=bp("nej.h"),bq=bp("nej.ui"),DL,ciw;if(!!bq.bdg)return;bq.bdg=NEJ.C();DL=bq.bdg.bt(bq.sn);ciw=bq.bdg.cH;DL.bE=function(Y){this.bG(Y);this.WU("oncontentready",Y.oncontentready||this.cSw.Z(this));this.cSv=!!Y.nohack;this.cSu=!!Y.destroyable;this.hK(Y.content)};DL.bJ=function(){this.bn("onbeforerecycle");this.bN();this.bsG();this.hK("");bm.buE(this.bb,{top:"",left:""})};DL.cSw=dm;DL.bPn=dm;DL.bsG=function(){bm.dq(this.bb);if(!!this.Ba){this.Ba=cl.bAb(this.bb);delete this.Ba}};DL.hK=function(cX){if(!this.bb||!this.bdh||cX==null)return this;cX=cX||"";bD.oe(cX)?this.bdh.innerHTML=cX:this.bdh.appendChild(cX);this.bn("oncontentready",this.bdh);return this};DL.vt=function(gd){var bH=gd.top;if(bH!=null){bH+="px";bm.fm(this.bb,"top",bH);bm.fm(this.Ba,"top",bH)}var bH=gd.left;if(bH!=null){bH+="px";bm.fm(this.bb,"left",bH);bm.fm(this.Ba,"left",bH)}return this};DL.fI=function(){bm.fm(this.bb,"visibility","hidden");ciw.fI.apply(this,arguments);this.bPn();bm.fm(this.bb,"visibility","");if(!this.cSv){this.Ba=cl.Ba(this.bb)}return this};DL.eB=function(){this.cSu?this.bg():this.bsG();return this}})();
(function(){var bp=NEJ.P,dm=NEJ.F,bD=bp("nej.u"),bm=bp("nej.e"),bq=bp("nej.ui"),KW;if(!!bq.bsM)return;bq.bsM=NEJ.C();KW=bq.bsM.bt(bq.sn);KW.bE=function(Y){this.bdm();this.bG(this.cSt(Y));this.vw.onbeforerecycle=this.bg.Z(this);this.FS=this.bQf()};KW.bJ=function(){this.bn("onbeforerecycle");this.bN();delete this.vw;bm.dq(this.bb);var civ=this.FS;if(!!civ){delete this.FS;civ.bg()}};KW.bQf=dm;KW.cSt=function(Y){var cN={};bD.hH(Y,function(bo,bR){this.vw.hasOwnProperty(bR)?this.vw[bR]=bo:cN[bR]=bo},this);return cN};KW.bdm=function(){this.vw={clazz:"",parent:null,content:this.bb,destroyable:!1,oncontentready:null,nohack:!1}};KW.fI=function(){if(!!this.FS)this.FS.fI();this.bn("onaftershow");return this};KW.eB=function(){if(!!this.FS)this.FS.eB();return this}})();
(function(){var bp=NEJ.P,dC=bp("nej.g"),cl=bp("nej.h"),bm=bp("nej.e"),bD=bp("nej.u"),cd=bp("nej.v"),bq=bp("nej.ui"),bdx,ciu;if(!!bq.Sk)return;var cv=bm.dA(".#<uispace>{position:fixed;_position:absolute;z-index:100;top:0;bottom:0;left:0;right:0;width:100%;height:100%;background-image:url("+dC.bXS+");}");bq.Sk=NEJ.C();bdx=bq.Sk.bt(bq.sn);ciu=bq.Sk.cH;bdx.bE=function(Y){this.bG(Y);var cX=Y.content||"&nbsp;";bD.oe(cX)?this.bb.innerHTML=cX:this.bb.appendChild(cX)};bdx.bJ=function(){this.bN();this.bb.innerHTML="&nbsp;"};bdx.bU=function(){this.ds=cv};bdx.fI=function(){cl.bzB(this.bb);ciu.fI.apply(this,arguments);return this}})();
(function(){var bp=NEJ.P,de=NEJ.O,bm=bp("nej.e"),cd=bp("nej.v"),bq=bp("nej.ut"),bM;if(!!bq.Dx)return;bq.Dx=NEJ.C();bM=bq.Dx.bt(bq.hW);bM.bE=function(Y){this.bG(Y);this.cSp=!!Y.overflow;this.bb=bm.bQ(Y.body);this.bdF=bm.bQ(Y.view)||bm.cnd(this.bb);this.cit=bm.bQ(Y.mbar)||this.bb;this.btG=parseInt(Y.direction)||0;this.gN([[document,"mouseup",this.cSm.Z(this)],[document,"mousemove",this.bQI.Z(this)],[this.cit,"mousedown",this.RA.Z(this)]])};bM.bJ=function(){this.bN();delete this.bb;delete this.cit;delete this.bdF};bM.cis=function(){return{x:Math.max(this.bdF.clientWidth,this.bdF.scrollWidth)-this.bb.offsetWidth,y:Math.max(this.bdF.clientHeight,this.bdF.scrollHeight)-this.bb.offsetHeight}};bM.RA=function(bj){cd.dG(bj);if(!!this.Cc)return;this.Cc={x:cd.OA(bj),y:cd.OE(bj)};this.cir=this.cis()};bM.bQI=function(bj){if(!this.Cc)return;var gd={x:cd.OA(bj),y:cd.OE(bj)};var cSe=gd.x-this.Cc.x,cSa=gd.y-this.Cc.y,ma=parseInt(bm.tJ(this.bb,"top"))||0,zD=parseInt(bm.tJ(this.bb,"left"))||0,bH={top:ma+cSa,left:zD+cSe};this.Cc=gd;this.vt(bH)};bM.cSm=function(bj){if(!this.Cc)return;delete this.cir;delete this.Cc;this.bn("ondragend",this.bec())};bM.vt=function(bj){if(!this.cSp){var cip=this.cir||this.cis();bj.top=Math.min(cip.y,Math.max(0,bj.top));bj.left=Math.min(cip.x,Math.max(0,bj.left))}this.bn("onbeforechange",bj);var kg=this.bb.style;if(this.btG==0||this.btG==2)kg.top=bj.top+"px";if(this.btG==0||this.btG==1)kg.left=bj.left+"px";this.bn("onchange",bj);return this};bM.bec=function(){return{left:parseInt(bm.tJ(this.bb,"left"))||0,top:parseInt(bm.tJ(this.bb,"top"))||0}}})();
(function(){var bp=NEJ.P,de=NEJ.O,bm=NEJ.P("nej.e"),cd=NEJ.P("nej.v"),bD=NEJ.P("nej.u"),eF=NEJ.P("nej.ut"),bq=NEJ.P("nej.ui"),cv,dn,bM,sF;if(!!bq.gb)return;bq.gb=NEJ.C();bM=bq.gb.bt(bq.bdg);sF=bq.gb.cH;bM.hk=function(){this.bRg={};this.ke={onchange:this.bQI.Z(this)};this.hu()};bM.bE=function(Y){this.bG(Y);this.cRU(Y.mask);this.cRT(Y.align);this.cim(Y.title);if(!Y.draggable)return;this.iB=eF.Dx.bh(this.ke)};bM.bJ=function(){this.bN();delete this.vP;delete this.bep;if(!!this.Lt){this.Lt.bg();delete this.Lt}if(!!this.iB){this.iB.bg();delete this.iB}};bM.bU=function(){this.ds=cv;this.bW=dn};bM.bL=function(){this.bO();var bF=bm.cJ(this.bb);this.bdh=bF[1];this.ke.mbar=bF[0];this.ke.body=this.bb;cd.bd(bF[2],"mousedown",this.cRP.Z(this));cd.bd(this.ke.mbar,"mousedown",this.RA.Z(this));this.cil=bm.cJ(this.ke.mbar)[0]};bM.cRP=function(bj){cd.dG(bj);this.bn("onclose");this.eB()};bM.RA=function(bj){cd.bn(document,"click")};bM.bQI=function(bj){if(!this.Ba)return;bm.buE(this.Ba,{top:bj.top+"px",left:bj.left+"px"})};bM.bPn=function(){var LZ=[function(){return 0},function(bex,gg,bR){return Math.max(0,bex[bR]+gg[bR]/2)},function(bex,gg,bR){return bex[bR]+gg[bR]}],bmM=["left","top"];return function(){var bH={},kg=this.bb.style,bld=bm.uU(),bex={left:bld.scrollLeft,top:bld.scrollTop},gg={left:bld.clientWidth-this.bb.offsetWidth,top:bld.clientHeight-this.bb.offsetHeight};bD.bw(bmM,function(bR,bf){var ec=LZ[this.vP[bf]];if(!ec)return;bH[bR]=ec(bex,gg,bR)},this);this.vt(bH)}}();bM.cRL=function(){if(!this.Lt){if(!this.bep)return;this.bRg.parent=this.fV;this.Lt=this.bep.bh(this.bRg)}this.Lt.fI()};bM.bsG=function(){if(!!this.Lt)this.Lt.eB();sF.bsG.apply(this,arguments)};bM.cRU=function(np){if(!!np){if(np instanceof bq.Sk){this.Lt=np;return}if(bD.lX(np)){this.bep=np;return}this.bep=bq.Sk;if(bD.oe(np))this.bRg.clazz=np;return}this.bep=null};bM.cim=function(rU,dN){if(!!this.cil){var buO=!dN?"innerText":"innerHTML";this.cil[buO]=rU||"标题"}return this};bM.cRT=function(){var ea=/\s+/,cRK={left:0,center:1,right:2,auto:3},cRG={top:0,middle:1,bottom:2,auto:3};return function(rn){this.vP=(rn||"").split(ea);var dr=cRK[this.vP[0]];if(dr==null)dr=1;this.vP[0]=dr;var dr=cRG[this.vP[1]];if(dr==null)dr=1;this.vP[1]=dr;return this}}();bM.fI=function(){sF.fI.apply(this,arguments);this.cRL();return this};cv=bm.dA(".#<uispace>{position:absolute;z-index:1000;border:1px solid #aaa;background:#fff;}.#<uispace> .zbar{line-height:30px;background:#8098E7;border-bottom:1px solid #aaa;}.#<uispace> .zcnt{padding:10px 5px;}.#<uispace> .zttl{margin-right:20px;text-align:left;}.#<uispace> .zcls{position:absolute;top:5px;right:0;width:20px;height:20px;line-height:20px;cursor:pointer;}");dn=bm.bX('<div class="'+cv+'"><div class="zbar"><div class="zttl">标题</div></div><div class="zcnt"></div><span class="zcls" title="关闭窗体">×</span></div>')})();
(function(){var bp=NEJ.P,bD=bp("nej.u"),bq=bp("nej.ui"),bRK;if(!!bq.HS)return;bq.HS=NEJ.C();bRK=bq.HS.bt(bq.bsM);bRK.bQf=function(){return bq.gb.bh(this.vw)};bRK.bdm=function(){bq.HS.cH.bdm.apply(this,arguments);this.vw.mask=null;this.vw.title="标题";this.vw.align="";this.vw.draggable=!1;this.vw.onclose=null}})();
(function(){var bp=NEJ.P,bm=bp("nej.e"),dC=window,cd=bp("nej.v"),cA=bp("nej.ui"),bq=bp("edu.u"),bRQ,cRF;bq.gb=NEJ.C();bRQ=bq.gb.bt(cA.HS);cRF=bq.gb.cH;bq.gb.beJ=function(Y){var fc=bq.gb.bh(Y);fc.fI()};bRQ.bE=function(Y){Y=Y||{};Y.parent=Y.parent||document.body;Y.mask=!!Y.mask||Y.mask==undefined?this.blG=cA.Sk.bh({parent:Y.parent,clazz:"m-com-mask"}):false;Y.draggable=Y.draggable==undefined?true:!!Y.draggable;Y.destroyable=true;Y.title=Y.title||"标题";if(!!Y.mask){Y.clazz="m-basewin m-winmark "+(Y.clazz||"");if(!Y.maskClickNotHidden){this.gN([[this.blG.jW(),"click",this.eB.Z(this)]])}}else{Y.clazz="m-basewin "+(Y.clazz||"")}this.bG(Y);if(!!this.bb.parentNode&&!!this.bb.parentNode.parentNode){var bSd=bm.bc(this.bb.parentNode.parentNode,"zcls")[0];bSd.title="关闭";if(!!Y.closeBtnHidden){bq.bs(bSd)}else{bq.bv(bSd)}}this.cRE=+(new Date);dC.modelList=dC.modelList||{};dC.modelList[this.cRE]=this};bRQ.bJ=function(){if(!!this.blG){this.blG=cA.Sk.bg(this.blG)}this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),HB,dh;eu.cp=NEJ.C();HB=eu.cp.bt(eu.gb,true);var dy=e.dL('<div class=\'m-dialog\'><div class=\'content j-content f-cb\'><div class="icon"></div><div class="cnt"></div></div><div class=\'btn f-cb\'><a hidefocus="true" class="u-btn u-btn-primary j-left"><span class="j-ok-txt">确定</span></a><a hidefocus="true" class="u-btn j-right"><span class="j-cancel-txt">取消</span></a></div></div>');eu.cp.bP=function(Y){if(!!dh){dh=eu.cp.bg(dh)}dh=eu.cp.bh(Y);dh.fI();return dh};HB.bJ=function(){dh=null;this.bn("destroy");this.bN()};HB.bU=function(){this.bW=e.bX(e.bS(dy))};HB.bL=function(){this.bO();this.fJ=e.cJ(e.bc(this.bb,"j-content")[0]);this.cii=this.fJ[0];this.beR=this.fJ[1];this.ne=e.bc(this.bb,"j-right")[0];this.wi=e.bc(this.bb,"j-left")[0];this.cRC=e.bc(this.bb,"j-cancel-txt")[0];this.cRA=e.bc(this.bb,"j-ok-txt")[0];v.bd(this.ne,"click",this.Hb.Z(this));v.bd(this.wi,"click",this.GY.Z(this));this.fu=new p.hZ};HB.Hb=function(bj){v.dG(bj);if(!!this.BD){this.BD()}this.eB()};HB.GY=function(bj){v.dG(bj);if(!!this.bmu){this.bmu()}this.eB()};HB.bE=function(Y){Y=Y||o;Y.mask=Y.modal==undefined?true:!!Y.modal;Y.title=Y.title||"提示";Y.clazz="u-window-pd"+(Y.type?" u-hidetitle":"")+" "+(Y.customStyle||"");Y.maskClickNotHidden=Y.maskClickNotHidden==undefined?true:Y.maskClickNotHidden;Y.closeBtnHidden=Y.closeBtnHidden||false;this.bG(Y);this.cRy=Y.focusNum||0;this.bmu=Y.okFunc;this.BD=Y.cancelFunc;this.cRx=Y.okTip||"确定";this.cRv=Y.cancelTip||"取消";this.beR.innerHTML=Y.message||"请输入对话框内容";this.cRA.innerText=this.cRx;this.cRC.innerText=this.cRv;this.cRt();e.bZ(this.cii,"ic1 ic2 ic3");e.bK(this.cii,"ic"+(Y.type||3));if(!Y.type){e.bK(this.beR,"cntnom")}else{e.bZ(this.beR,"cntnom")}};HB.cRt=function(){if(!!this.BD){eu.bv(this.ne)}else{eu.bs(this.ne)}e.bZ(this.ne,"u-btn u-btn-default");e.bZ(this.wi,"u-btn u-btn-default");if(!!this.cRy){e.bK(this.wi,"u-btn");e.bK(this.ne,"u-btn u-btn-default");this.ne.focus()}else{e.bK(this.wi,"u-btn u-btn-default");e.bK(this.ne,"u-btn");this.wi.focus()}};HB.diW=function(){eu.bs(this.ne);eu.bs(this.wi)}})();
(function(){var g=window,o=NEJ.O,bp=NEJ.P;eu=bp("edu.u"),cO=bp("edu.d"),bm=bp("nej.e"),bq=bp("nej.p"),dC=bp("nej.g"),bD=bp("nej.u"),cd=bp("nej.v"),fF=bp("nej.j"),bq=bp("edu.m"),cR={},diX=null,bmN={};eu.cRn=function(){var cRl=1024*1024*5,bC=bD.fb(),diY="ck-uploadCache";var uploadCache=new cO.hF;function blobSlice(DO,gd,eH){var ny=Math.min(gd+eH,DO.size);return DO.slice(gd,ny)}function uploadBlob(bR){var cP=cR[bR];if(!cP)return;var Bx=cP.options,bvl=Bx.token,bvo=Bx.bucket;cP.blob=blobSlice(Bx.file,cP.dto.offset,cP.dto.partSize);var chY=cP.dto.offset+cP.blob.size>=Bx.file.size;Bx.form.action=g.uploadHost+"/file/multipartUpload.htm?_upload_mth_=sync_parse&partSize="+(chY?cP.blob.size:cP.dto.partSize)+"&uploadId="+cP.dto.uploadId+"&nextPartNum="+cP.dto.nextPartNum+"&isLastPart="+(chY?"true":"false")+"&key="+cP.dto.key+"&token="+encodeURIComponent(bvl)+"&bucket="+encodeURIComponent(bvo);var cRa=function(cP,bM){var cQX={timeStamp:bM.timeStamp,loaded:cP.dto.offset+bM.loaded,total:Bx.file.size,initOffset:cP.dto.initOffset};Bx.onuploading(cQX)};var bzE=function(cP,W){if(cP.dto.offset+cP.blob.size>=Bx.file.size||!W.retSuc){bmV(bR);delete cR[bR];Bx.onload(W)}else{cP.dto.offset=cP.dto.offset+cP.blob.size;cP.dto.nextPartNum=W.nextPartNum;uploadBlob(bR)}};var Vl=function(W){bmV(bR);Bx.onerror(W)};var Y={type:"json",mode:0,method:"POST",timeout:30*60*1e3,cookie:true,headers:{"Content-Type":"multipart/form-data"},data:cP.blob,onuploading:cRa.Z(this,cP),onload:bzE.Z(this,cP),onerror:Vl.Z(this)};bmV(bR);cR[bR].reqId=fF.JQ(Bx.form.action,Y);cQV(cP,bR)}return function(Y,cP){var DO=Y.file;if(!DO)return;var bR=bD.fb();cR[bR]={options:Y};var W="token="+encodeURIComponent(cR[bR].options.token)+"&fileName="+encodeURIComponent(DO.name)+"&fileSize="+DO.size+"&bucket="+encodeURIComponent(cR[bR].options.bucket);fF.JQ(g.uploadHost+"/file/initMultipartUpload.htm",{type:"json",method:"POST",data:W,mode:0,cookie:true,onload:function(hg){if(cR[bR]===undefined)return;if(hg.offset>=DO.size-1||!hg.retSuc){delete cR[bR];var cQU={retSuc:hg.retSuc,nosKey:hg.key,name:DO.name,errorCode:hg.errorCode,retMsg:hg.retMsg};!!Y.onload&&Y.onload(cQU);return}hg.partSize=hg.partSize||cRl;hg.initOffset=hg.offset;cR[bR].dto=hg;uploadBlob(bR)}.Z(this)});return bR}}();var bmV=function(bR){if(!!bmN[bR]){bmN[bR]=g.clearInterval(bmN[bR])}};var cQV=function(cP,bR){bmN[bR]=g.setInterval(function(){fF.JQ(g.uploadHost+"/checkUploaderStatus.htm?uniqueId="+cP.dto.uploadId+"-"+cP.dto.nextPartNum,{type:"json",method:"GET",mode:0,cookie:true,onload:function(nl){if(!!nl&&nl==-1){eu.chU(bR)}}.Z(this)})}.Z(this),5e3)};eu.chU=function(bR){bmV(bR);if(!!cR[bR]){fF.rL(cR[bR].reqId)}};eu.chT=function(){var cQN=!!g.XMLHttpRequest&&!!g.Blob&&!!Blob.prototype.hasOwnProperty("slice");return function(){return cQN}}();eu.DE=function(ch){var chQ=new bq.hZ;var chP=ch.slice(0,ch.lastIndexOf(".")),QV=ch.slice(ch.lastIndexOf(".")),bvV="";if(chQ.hG(chP)>44){bvV=chQ.EU(chP,44)+"···"+QV}return!!bvV?bvV:ch};eu.yo=function(cQK,chM){switch(cQK){case eu.CONST.UPLOAD_ERROR_LIMITED:eu.showToastTips({content:"文件过大，上传失败",type:2});if(!!chM){chM()}break;case eu.CONST.UPLOAD_ERROR_AUTHFAILED:eu.cp.bP({message:"您没有登录或者没有权限"});break;default:eu.cp.bP({message:"文件上传失败，请重试"});break}};eu.cQF=function(){var bwh={};bwh[eu.CONST.UPLOAD_TOKEN_TYPE_VIDEO]={support:["mp4"],max:"800M"};bwh[eu.CONST.UPLOAD_TOKEN_TYPE_PDF]={support:["pdf"],max:"5M"};return function(bz){return bwh[bz]}}();eu.Ru=function(bz,ip,XZ){if(!ip){return false}bz=bz||eu.CONST.UPLOAD_TOKEN_TYPE_DEFAULT;if(!XZ&&!bz){return true}if(!XZ&&!!bz){XZ=eu.cQF(bz)||{}}var Bn=XZ.support,bga=XZ.suggest,ig=XZ.max;if(!Bn&&!bga){return true}if(!!Bn){var cQE=new RegExp("("+Bn.join("|")+")$","i")}if(!!bga){var cQC=new RegExp("("+bga.join("|")+")$","i")}Ya={regSupport:cQE,regSuggest:cQC,message:(!!bga?"建议"+bga.join("、")+"格式，":"")+(!!Bn?"支持"+Bn.join("、")+"格式"+(!!ig?"，":""):"")+(!!ig?"文件最大为"+ig:"")};var bwA=ip.slice(ip.lastIndexOf(".")+1);if(!!bwA&&!!Ya){if((!Ya.regSuggest||!Ya.regSuggest.test(bwA))&&(!Ya.regSupport||!Ya.regSupport.test(bwA))){eu.cp.bP({message:"不支持所选择的文件格式，请重新选择。"+(Ya.message||""),customStyle:"m-fileNameDialog"});return false}}return true};eu.chL=function(Bl){var gG={};if(!!Bl){gG.gids=[];gG.urls=[];var chK=Bl.photoGarbageIds.split(",");var chJ,chI,dQ=0;for(var i in chK){var cT=chK[i];if(!!cT&&cT.indexOf("userdef1url")>=0&&cT.split(":")[1]!=-1){gG.gids.push(cT.split(":")[1]);gG.urls.push(Bl.userDef1Url);dQ++}else if(!!cT&&cT.indexOf("userdef2url")>=0&&cT.split(":")[1]!=-1){gG.gids.push(cT.split(":")[1]);gG.urls.push(Bl.userDef2Url);dQ++}else if(!!cT&&cT.indexOf("userdef3url")>=0&&cT.split(":")[1]!=-1){gG.gids.push(cT.split(":")[1]);gG.urls.push(Bl.userDef3Url);dQ++}else if(!!cT&&cT.indexOf("ourl")>=0&&cT.split(":")[1]!=-1){chJ=cT.split(":")[1];chI=Bl.ourl}}if(!!Bl.ourl&&Bl.ourl.indexOf(".gif")>0){gG.gids=[];gG.urls=[];for(var j=0;j<dQ;j++){gG.gids.push(chJ);gG.urls.push(chI)}}}return gG};eu.bwO=function(bos){var chH=[];if(!!bos){for(var i=0;i<bos.length;i++){var cP={};cP.gid=bos[i].split("@")[0];cP.url=bos[i].split("@")[1];chH.push(cP)}}return chH}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),u=NEJ.P("nej.u"),eu=NEJ.P("edu.u"),Yd,cQw;eu.boC=NEJ.C();Yd=eu.boC.bt(eu.cq,true);cQw=eu.boC.cH;Yd.bL=function(){this.Bh=u.fb(2);this.mQ=NEJ.P("edu.u.imgUploadSelect"+this.Bh);this.bO();this.NY()};Yd.bJ=function(){if(!!this.fV){var bF=e.cJ(this.fV);if(!!bF){for(var i=0;i<bF.length;i++){this.fV.removeChild(bF[i])}}}delete this.lO;this.bN()};Yd.NY=function(){this.mQ.saveHandle=this.NU.Z(this)};Yd.NU=function(cP){if(!!cP){var cN=eu.chL(cP);this.bn("onSave",{picUrl:cN.urls[0],picGid:cN.gids[0],newPhoto:true})}};Yd.bE=function(Y){var Fd=Y.uploadConfig;var cQt="namespace=edu.u.imgUploadSelect"+this.Bh+"&url="+encodeURIComponent("http://upload.icourse163.org/api/photoUpload2.do?_upload_mth_=sync_parse&sitefrom=study&responsetype=xml&userdefinesize=")+"&uW="+(Fd.uW||180)+"&uH="+(Fd.uH||180)+"&LW="+(Fd.LW||316)+"&LH="+(Fd.LH||270)+"&pW="+(Fd.pW||120)+"&pH="+(Fd.pH||120)+"&dW="+(Fd.dW||153)+"&dH="+(Fd.dH||153);e.Jm({src:g.imageUrlMap.img_upd_select_swf,width:"100%",height:"100%",parent:Y.parent,params:{flashvars:cQt,wmode:"transparent",allowscriptaccess:"always"},onready:function(lM){this.lO=lM}.Z(this)});this.bG(Y)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),ui=NEJ.P("nej.ui"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),Ib;var cv=e.dA(".#<uispace> {padding:0; width:578px; height:366px;}");var dv=e.dL('<div class="u-draUploadDialog"></div>');eu.qK=NEJ.C();Ib=eu.qK.bt(eu.gb,true);eu.qK.bP=function(Y){var fc=eu.qK.bh(Y);fc.fI()};Ib.bU=function(){this.bW=e.bX(e.bS(dv));this.ds=cv};Ib.bL=function(){this.bO()};Ib.jv=function(){this.fv();this.eB()};Ib.bE=function(Y){Y.title=Y.title||"上传图片";this.bG(Y);this.kA(Y.uploadConfig||{})};Ib.kA=function(Fd){this.bxZ=eu.boC.bh({parent:this.bb,onSave:this.ts.Z(this),uploadConfig:Fd})};Ib.ts=function(W){this.bn("onComplete",W);this.jv()};Ib.fv=function(){if(!!this.bxZ){this.bxZ=eu.boC.bg(this.bxZ)}};Ib.bJ=function(){this.fv();this.bN()}})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),eu=NEJ.P("edu.u"),yT;var ev=e.bX('<div><a  class="u-btn u-btn-default j-upload" title="支持jpg、gif、png或bmp格式的图片，建议文件小于10M">上传图片</a><div class="flashbox j-flashbox"></div></div>');eu.chE=NEJ.C();yT=eu.chE.bt(eu.cq,true);yT.bU=function(){this.bW=ev};yT.bL=function(){this.bO();this.Bh=u.fb(2);this.mQ=NEJ.P("edu.u.imgUpload"+this.Bh);this.NY();this.rH=e.bc(this.bb,"j-upload")[0];this.bpa=e.bc(this.bb,"j-flashbox")[0]};yT.NY=function(){this.mQ.mouseOver=this.cQp.Z(this);this.mQ.mouseOut=this.cQo.Z(this);this.mQ.uploadStart=this.byF.Z(this);this.mQ.uploadComplete=this.bpl.Z(this);this.mQ.uploadError=this.byJ.Z(this)};yT.cQp=function(){e.bK(this.rH,"hvr")};yT.cQo=function(){e.bZ(this.rH,"hvr")};yT.byF=function(bV,dja){this.bn("uploadStart")};yT.bpl=function(bV,nl,Bl){if(nl==999){this.chC=eu.chL(Bl);this.bn("uploadComplete",Bl)}};yT.byJ=function(cQj,bhh,cQi){var sB="";if(bhh==12){sB="图片格式不正确，上传失败"}else if(bhh==0){sB="图片过大，上传失败，请重新选择"}else{sB="上传失败，请重试"}this.bn("uploadError",sB)};yT.djb=function(){return this.chC};yT.bE=function(Y){Y.clazz=Y.clazz||"u-upd-img-btn";this.rH.innerText=Y.btnText||"上传图片";this.bG(Y);var cQe=Y.customSize||["28x28x1","120x120x1"];var bzi=Y.baseUrl||"http://upload.icourse163.org/api/photoUpload2.do?_upload_mth_=sync_parse&";bzi=bzi+"userdefinesize="+cQe+"&saveorigin="+(Y.saveorigin||"false")+"&responsetype="+(Y.responsetype||"xml")+"&rotatedegree="+(Y.rotatedegree||"0")+"&stamptype="+(Y.stamptype||"")+"&stampstring="+encodeURIComponent(Y.stampstring||"")+"&sitefrom=study";this.chC=null;e.Jm({src:g.imageUrlMap.image_upload_swf,width:"100%",height:"100%",hidden:false,parent:this.bpa,params:{allowScriptAccess:"always",wmode:"transparent",flashvars:"cbNameSpace=edu.u.imgUpload"+this.Bh+"&uploadExif=true&uploadUrl="+encodeURIComponent(bzi)},onready:function(lM){this.lO=lM}.Z(this)})};yT.bJ=function(){if(!!this.bpa){var bF=e.cJ(this.bpa);if(!!bF){for(var i=0;i<bF.length;i++){this.bpa.removeChild(bF[i])}}}delete this.lO;this.bN()}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),p=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bC=u.fb(),ur,jE="ck-adminTeacherCache";p.bzl=NEJ.C();ur=p.bzl.bt(p.hF);ur.djc=function(bIq,jz,bf){this.bI({key:jE+bC,url:"MocSchoolBean.getSchoolStaffListVo",param:[bIq,jz,bf],onload:this.cQc.Z(this)})};ur.cQc=function(W){this.bn("onGetSchoolTeacherList",W)};ur.chB=function(){this.bI({key:jE+bC,url:"MocSchoolBean.getMocStaffSelfDto",param:[],onload:this.cQa.Z(this)})};ur.cQa=function(W){this.bn("onGetMocStaffSelfDto",W)};ur.chA=function(ic,lr){this.bI({key:jE+bC,url:"MocSchoolBean.getMocStaffDto",param:[ic,lr],onload:this.cPY.Z(this)})};ur.cPY=function(W){this.bn("onGetMocStaffDto",W)};ur.cPX=function(Ph){this.bI({key:jE+bC,url:"MocSchoolBean.saveStaffHomepage",param:[Ph],onload:this.cPW.Z(this)})};ur.cPW=function(W){this.bn("onSaveStaffHomepage",W)};ur.cPV=function(Ph){this.bI({key:jE+bC,url:"MocSchoolBean.saveStaffSelfHomepage",param:[Ph],onload:this.cPU.Z(this)})};ur.cPU=function(W){this.bn("onSaveStaffSelfHomepage",W)};ur.cPT=function(Ph){this.bI({key:jE+bC,url:"MocSchoolBean.saveStaffPersonInfo",param:[Ph],onload:this.cPS.Z(this)})};ur.cPS=function(W){this.bn("onSaveStaffPersonInfo",W)};ur.cPR=function(Ph){this.bI({key:jE+bC,url:"MocSchoolBean.saveStaffSelfPersonInfo",param:[Ph],onload:this.cPQ.Z(this)})};ur.cPQ=function(W){this.bn("onSaveStaffSelfPersonInfo",W)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),zr;if(!!eu.YW)return;var cv=e.dA(".#<uispace> .date{margin-right: 5px;}");var fW=e.bX('<div class="u-dateselect f-cb"><div class="f-fl j-dateYear date"></div><div class="f-fl j-dateMonth date"></div><div class="f-fl j-dateDay date"></div></div>');var Oh=e.dL('<select class="${clazz}">{list min..max as x}<option value ="${x}" >${x}</option>{/list}</select>');eu.YW=NEJ.C();zr=eu.YW.bt(eu.cq,!0);zr.bU=function(){this.bW=fW;this.ds=cv};zr.bL=function(){this.bO();this.chz=e.bc(this.bb,"j-dateYear")[0];this.chy=e.bc(this.bb,"j-dateMonth")[0];this.chx=e.bc(this.bb,"j-dateDay")[0]};zr.bzY=function(cQ){this.Gt(cQ)};zr.bDS=function(){var fg=new Date,iO=this.bst.value,jr=this.bsD.value,wU=this.bAi.value;fg.setFullYear(iO);fg.setMonth(jr-1);fg.setDate(wU);return fg.getTime()};zr.Gt=function(cQ){var fg=new Date;fg.setTime(cQ);var iO=fg.getFullYear(),jr=fg.getMonth()+1,wU=fg.getDate();this.chw(iO,jr,wU)};zr.cPL=function(){var chv=(new Date).getFullYear();this.chz.innerHTML=e.bS(Oh,{min:chv-100,max:chv,clazz:"j-year"});this.chy.innerHTML=e.bS(Oh,{min:1,max:12,clazz:"j-month"});this.bst=e.bc(this.bb,"j-year")[0];this.bsD=e.bc(this.bb,"j-month")[0];this.Gt(this.zE)};zr.chw=function(iO,jr,wU){this.bst.value=iO;this.bsD.value=jr;var Ke=this.cPJ(iO,jr);if(Ke<wU){wU=1}this.chx.innerHTML=e.bS(Oh,{min:1,max:Ke,clazz:"j-day"});this.bAi=e.bc(this.bb,"j-day")[0];this.bAi.value=wU};zr.cPJ=function(){var Ke=[31,28,31,30,31,30,31,31,30,31,30,31];var bAy=function(iO){return!(iO%400)||!(iO%4)&&!!(iO%100)};var bsQ=function(iO,jr){return jr==2&&bAy(iO)?29:Ke[jr-1]};return function(iO,jr){return bsQ(iO,jr)}}();zr.chu=function(){var iO=this.bst.value,jr=this.bsD.value,wU=this.bAi.value;this.chw(iO,jr,wU)};zr.bE=function(Y){this.bG(Y);this.zE=Y.time||(new Date).getTime();this.cPL();v.bd(this.bst,"change",this.chu.Z(this));v.bd(this.bsD,"change",this.chu.Z(this))};zr.bJ=function(){this.chz.innerHTML="";this.chy.innerHTML="";this.chx.innerHTML="";this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),ut=NEJ.P("nej.ut"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),p=NEJ.P("nej.ui"),bjj;eu.ns=NEJ.C();bjj=eu.ns.bt(ut.hW,true);bjj.bE=function(Y){this.bG(Y);this.fV=Y.parent||e.hU("<div></div>");this.fW=Y.tpl||"";this.bAE=Y.clickActions||[];this.cht=Y.linkClazz||"j-href";this.chs=Y.linkout||false};bjj.hK=function(W,dy,Az){this.fW=dy||this.fW;this.bu=W;var dy=e.bS(this.fW,{xlist:eu.bGA(W),prefix:g.urlPrefix,constant:eu.CONST,role:Az||null});this.fV.appendChild(e.hU(dy));this.chs=e.bc(this.fV,this.cht).length>0;v.dY(this.fV,"click");v.bd(this.fV,"click",this.ll.Z(this))};bjj.ll=function(bj){var eh=v.fh(bj),mz=eh.parentNode;u.bw(this.bAE,function(cP){if(e.hv(eh,cP.clazz)){cP.cb(eh)}});if(eh.tagName.toLowerCase()=="a"){v.ow(bj);return}if(this.chs){while(!!mz){if(e.hv(mz,this.cht)){var cho=e.dj(mz,"href");eu.es("courseCard","click",cho);g.open(cho,"_blank");break}else{mz=mz.parentNode}}}};bjj.bJ=function(){this.fV.innerHTML="";this.bN()}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),bC=u.fb(),ha,ox="ck-CourseCache",lL=8;d.xW=NEJ.C();ha=d.xW.bt(d.hF);ha.bjp=function(bz){this.bI({key:ox+bC,url:"AdminCommonBean.getAggreement",param:[bz],onload:this.cPA.Z(this)})};ha.cPA=function(W){this.bn("onGetAggreement",W)};ha.chn=function(){this.bI({key:ox+bC,url:"CourseBean.getCategorys",param:[],onload:this.bjy.Z(this)})};ha.bjy=function(W){this.bn("onGetCategorys",W)};ha.cPx=function(bBl,bz,bq){this.bI({key:ox+bC,url:"CourseBean.getCoursePanelListByCategory",param:[bBl,bz,bq,lL],onload:this.bBp.Z(this)})};ha.bBp=function(W){this.bn("onGetCourseListByCategory",W)};ha.chm=function(rd){this.bI({key:ox+bC,url:"CourseBean.getRadomCoursePanelList",param:[rd],onload:this.bBw.Z(this)})};ha.bBw=function(W){this.bn("onGetRadomCourseList",W)};ha.chk=function(ic,bq,bz){this.bI({key:ox+bC,url:"CourseBean.getCoursePanelListBySchoolId",param:[ic,bq,lL,bz],onload:this.bBA.Z(this,bz)})};ha.bBA=function(bz,W){this.bn("onGetCourseListBySchoolId",bz,W)};ha.cPs=function(cPr){this.bI({key:ox+bC,url:"CourseBean.getAllCoursePanelListByStaffId",param:[cPr],onload:this.bBH.Z(this)})};ha.bBH=function(W){this.bn("onGetAllCourseListByStaffId",W)};ha.cPp=function(bz,bq){this.bI({key:ox+bC,url:"CourseBean.getMyLearnedCoursePanelList",param:[bz,bq,lL],onload:this.cPo.Z(this)})};ha.cPo=function(W){this.bn("onGetMyLearnedCourseList",W)};ha.chi=function(bT,password){this.bI({key:ox+bC,url:"CourseBean.startTermLearn",param:[bT,password],sync:true,onload:this.cPj.Z(this)})};ha.cPj=function(W){this.bn("onStartTermLearn",W)};ha.chg=function(bT){this.bI({key:ox+bC,url:"CourseBean.canLearnForMicroCourse",param:[bT],sync:true,onload:this.cPh.Z(this)})};ha.cPh=function(W){this.bn("onCanLearnForMicroCourse",W)};ha.cPb=function(bT){this.bI({key:ox+bC,url:"CourseBean.deleteTermLearn",param:[bT],onload:this.cOZ.Z(this)})};ha.cOZ=function(W){this.bn("onDeleteTermLearn",W)};ha.cOW=function(bT){this.bI({key:ox+bC,url:"CourseBean.checkTermLearn",param:[bT],onload:this.cOQ.Z(this)})};ha.cOQ=function(W){this.bn("onCheckTermLearn",W)};ha.cOP=function(ic,ih){this.bI({key:ox+bC,url:"MocSchoolBean.getMocSchoolLectorDtoList",param:[ic,ih,lL],onload:this.bCj.Z(this)})};ha.bCj=function(W){this.bn("onGetMocSchoolLectorDtoList",W)};ha.cgY=function(mL){this.bI({key:ox+bC,url:"MocCollectBean.doCollectSwitch",param:[mL],sync:true,onload:this.cON.Z(this)})};ha.cON=function(W){this.bn("onDoCollectSwitch",W)};ha.cOM=function(mL){this.bI({key:ox+bC,url:"MocCollectBean.doCollectDelete",param:[mL],onload:this.bCp.Z(this)})};ha.bCp=function(W){this.bn("onDoCollectDelete",W)};ha.cOL=function(bq){this.bI({key:ox+bC,url:"MocCollectBean.queryMarkedCourses",param:[bq,6],onload:this.cOJ.Z(this)})};ha.cOJ=function(W){this.bn("onQueryMarkedCourses",W)};ha.cOI=function(mL){this.bI({key:ox+bC,url:"MocCollectBean.isCourseMarked",param:[mL],onload:this.cOH.Z(this)})};ha.cOH=function(W){this.bn("onIsCourseMarked",W)};ha.cgX=function(Xe){Xe.pageSize=lL;this.bI({key:ox+bC,url:"MocSearchBean.searchMocCourse",param:[Xe],onload:this.bjY.Z(this)})};ha.bjY=function(W){this.bn("onSearchMocCourse",W)};ha.cOD=function(){this.bI({key:ox+bC,url:"MocCertQueryBean.getMyCertList",param:[],onload:this.bCC.Z(this)})};ha.bCC=function(W){this.bn("onGetMyCertList",W)};ha.cOu=function(bT){this.bI({key:ox+bC,url:"CourseBean.canDeleteTermLearnRecord4Spoc",param:[bT],onload:this.cOt.Z(this)})};ha.cOt=function(W){this.bn("onCanDeleteTermLearnRecord4Spoc",W)};ha.cOs=function(bT){this.bI({key:ox+bC,url:"MarketingCoursePackageBean.getRelatedMarketingPackagesByTerm",param:[bT],onload:this.bCJ.Z(this)})};ha.bCJ=function(W){this.bn("ongetRelatedMarketingPackagesByTerm",W)}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),p=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bC=u.fb(),fk,jY="ck-CertCache";p.oi=NEJ.C();fk=p.oi.bt(p.hF);fk.bCW=function(bT,bz){this.bI({key:jY+bC,url:"YocCertManagerBean.getCertBaseInfo",param:[bT,bz],onload:this.bkB.Z(this)})};fk.bkB=function(W){this.bn("onGetCertBaseInfo",W)};fk.cOr=function(bT,bz,cX){if(!eu.dK())return;this.bI({key:jY+bC,url:"YocCertManagerBean.saveCertBaseInfo",param:[bT,bz,cX],onload:this.bkz.Z(this)})};fk.bkz=function(W){this.bn("onSaveCertBaseInfo",W)};fk.cOo=function(bT,bz,Rp){if(!eu.dK())return;this.bI({key:jY+bC,url:"YocCertManagerBean.saveCertBaseInfoCertWishes",param:[bT,bz,Rp],onload:this.cOn.Z(this)})};fk.cOn=function(W){this.bn("onSaveCertBaseInfoCertWishes",W)};fk.cOl=function(bT){if(!eu.dK())return;this.bI({key:jY+bC,url:"MocScoreManagerBean.confirmTermScore",param:[bT],onload:this.cOj.Z(this)})};fk.cOj=function(W){this.bn("onDoConfirm",W)};fk.cOf=function(bT){if(!eu.dK())return;this.bI({key:jY+bC,url:"MocScoreManagerBean.tryConfirmAchievement",param:[bT],onload:this.cOd.Z(this)})};fk.cOd=function(W){this.bn("onTryConfirmAchievement",W)};fk.cgP=function(bT){this.bI({key:jY+bC,url:"YocCertManagerBean.getTermCertInfo",param:[bT],onload:this.cOa.Z(this)})};fk.cOa=function(W){this.bn("onGetTermCertInfo",W)};fk.buH=function(bT,bz,bq,lL,eN,bks){this.bI({key:jY+bC,url:"YocCertManagerBean.getCertOwnerListPagination",param:[bT,bz,bq,lL,eN,bks],onload:this.cNZ.Z(this)})};fk.cNZ=function(W){this.bn("onGetCertOwnerListPagination",W)};fk.bDM=function(bT,bz){if(!eu.dK())return;this.bI({key:jY+bC,url:"YocCertManagerBean.sendAllCert",param:[bT,bz],onload:this.cNY.Z(this)})};fk.cNY=function(W){this.bn("onSendAllCert",W)};fk.dje=function(bT){this.bI({key:jY+bC,url:"YocCertManagerBean.getCertInfoByTermId",param:[bT],onload:this.cNR.Z(this)})};fk.cNR=function(W){this.bn("onGetCertInfoByTermId",W)};fk.bDW=function(bT,bEd){if(!eu.dK())return;this.bI({key:jY+bC,url:"YocCertManagerBean.sendOneCert",param:[bT,bEd],onload:this.bEf.Z(this)})};fk.bEf=function(W){this.bn("onSendOneCert",W)};fk.djf=function(bT,OM,Ao){if(!eu.dK())return;this.bI({key:jY+bC,url:"YocCertManagerBean.saveChargeCertSetting",param:[bT,OM,Ao],onload:this.cNP.Z(this)})};fk.cNP=function(W){this.bn("onSaveChargeCertSetting",W)};fk.djg=function(bT){this.bI({key:jY+bC,url:"YocCertManagerBean.getChargeCertSetting",param:[bT],onload:this.cNN.Z(this)})};fk.cNN=function(W){this.bn("onGetChargeCertSetting",W)};fk.bkl=function(bq,lL,bT,bks,bz){this.bI({key:jY+bC,url:"MocCertSendBean.getPaginationCertApplyList",param:[bq,lL,bT,bks,bz],onload:this.bEy.Z(this)})};fk.bEy=function(W){this.bn("onGetPaginationCertApplyList",W)};fk.djh=function(cNK,bT,bz){if(!eu.dK())return;this.bI({key:jY+bC,url:"YocCertBean.saveYocCertMemberApplyDto",param:[cNK,bT,bz],onload:this.cNJ.Z(this)})};fk.cNJ=function(W){this.bn("onUpdateOrderMemberAuthDto",W)};fk.dji=function(bT){if(!eu.dK())return;this.bI({key:jY+bC,url:"MocOrderBean.confirmedCertOrder",param:[bT],onload:this.cNG.Z(this)})};fk.cNG=function(W){this.bn("onConfirmedCertOrder",W)};fk.bEN=function(bT,vM,eN){if(!eu.dK())return;this.bI({key:jY+bC,url:"MocCertSendBean.auditCertApply",param:[bT,vM,eN],onload:this.bEO.Z(this)})};fk.bEO=function(W){this.bn("onAuditCertApply",W)};fk.cNB=function(bT){if(!eu.dK())return;this.bI({key:jY+bC,url:"MocCertSendBean.batchAuditCertApply",param:[bT],onload:this.bER.Z(this)})};fk.bER=function(W){this.bn("onBatchAuditCertApply",W)};fk.bFa=function(bT,vM,bFb,bFd){if(!eu.dK())return;this.bI({key:jY+bC,url:"MocCertSendBean.saveEmsInfo",param:[bT,vM,bFb,bFd],onload:this.bFf.Z(this)})};fk.bFf=function(W){this.bn("onSaveEmsInfo",W)};fk.bFh=function(bT,bz){this.bI({key:jY+bC,url:"YocCertManagerBean.asyncZipCertPics",param:[bT,bz],onload:this.bFi.Z(this)})};fk.bFi=function(W){this.bn("onAsyncZipCertPics",W)};fk.Nj=function(bFs){this.bI({key:jY+bC,url:"CommonBean.getThreadStatusByThreadId",param:[bFs],onload:this.bkc.Z(this)})};fk.bkc=function(W){this.bn("onGetThreadStatusByThreadId",W)};fk.bFv=function(bT,bz){this.bI({key:jY+bC,url:"YocCertManagerBean.getOldCertUrl",param:[bT,bz],onload:this.bFw.Z(this)})};fk.bFw=function(W){this.bn("onGetOldCertUrl",W)};fk.cNz=function(bT,cNy){if(!eu.dK())return;this.bI({key:jY+bC,url:"YocCertManagerBean.saveCertSetting",param:[bT,cNy],onload:this.cNx.Z(this)})};fk.cNx=function(W){this.bn("onSaveCertEndDateSetting",W)};fk.buc=function(cNw,cNv,bT,cNu,bFP,Ta){if(!eu.dK())return;this.bI({key:jY+bC,url:"MocOrderBean.getPaginationCertFightOrderList",param:[cNw,cNv,bT,cNu,bFP,Ta],onload:this.cNt.Z(this)})};fk.cNt=function(W){this.bn("onGetPaginationCertFightOrderList",W)};fk.cgC=function(bGa){if(!eu.dK())return;this.bI({key:jY+bC,url:"MocOrderBean.refundToBuyer",param:[bGa],onload:this.bjW.Z(this)})};fk.bjW=function(W){this.bn("onRefundToBuyer",W)};fk.bGg=function(bq,lL,bT,Ta){if(!eu.dK())return;this.bI({key:jY+bC,url:"MocOrderBean.getAppliedRecordMapPagination",param:[bq,lL,bT,Ta],onload:this.cNq.Z(this)})};fk.cNq=function(W){this.bn("onGetAppliedRecordMapPagination",W)};fk.cgA=function(bGm){if(!eu.dK())return;this.bI({key:jY+bC,url:"YocCertBean.changeYocCertMemberApplyDto",param:[bGm],onload:this.bjQ.Z(this)})};fk.bjQ=function(W){this.bn("onChangeYocCertMemberApplyDto",W)};fk.cNh=function(ri){this.bI({key:jY+bC,url:"YocCertBean.generateCertPicUrl",param:[ri],notShowLoading:false,onload:this.cNg.Z(this)})};fk.cNg=function(W){this.bn("onGenerateCertPicUrl",W)};fk.cgw=function(bGB,bvo){this.bI({key:jY+bC,url:"YocCertManagerBean.importBatchEmsInfos",param:[bGB,bvo],onload:this.cMY.Z(this)})};fk.cMY=function(W){this.bn("onImportBatchEmsInfos",W)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),d=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),Nd,cMX={width:750,height:250};var cv=e.dA(".#<uispace> {width: 400px;height: 270px;padding:20px;}.#<uispace> .imgArea{width: 450px;height: 58px;}.#<uispace> .imgArea img{width: 135px;height: 45px;border:1px solid #ddd;margin:0 12px 0 0;}.#<uispace> .imgArea .replacePicBtn{margin:8px 0 0;}.#<uispace> .row{margin:25px 0 0;}.#<uispace> .row .lb{display:block;width:68px;height:30px;line-height:30px;margin:0 10px 0 0;float:left;}.#<uispace> .row .ipt{width:302px;height:35px;}.#<uispace> .btns{padding:0 11px 0 0;}.#<uispace> .cancelBtn{margin:6px 8px 0 0;}");var dv=e.bX('<div class="u-lectorEditDialog f-cb"><div class="imgArea f-cb"><img src="" alt="老师签名" class="j-signPic f-fl"><a class="u-btn u-btn-default replacePicBtn j-uploadTxBtn f-fl">点击替换</a></div><p class="info f-fc9">支持jpg、gif、png或bmp格式的图片，图片需大于<span class="j-size">750*250</span>像素，小于20M</p><div class="row f-cb"><label class="lb">学校信息：</label><div class="j-uni f-fl ipt"></div></div><div class="row f-cb"><label class="lb">老师信息：</label><div class="j-pro f-fl ipt"></div></div><div class="b-20"></div><div class="btns f-cb"><a class="u-btn u-btn-default j-saveBtn f-fr">保存</a><a class="j-cancelBtn cancelBtn f-fr">取消</a><div class="j-fb f-fl"></div></div></div>');eu.bjM=NEJ.C();Nd=eu.bjM.bt(eu.gb,true);eu.bjM.bP=function(Y){var fc=eu.bjM.bh(Y);fc.fI()};Nd.bU=function(){this.bW=dv;this.ds=cv};Nd.bL=function(){this.bO();this.cgu=e.bc(this.bb,"j-signPic")[0];this.cMN=e.bc(this.bb,"j-uni")[0];this.cMJ=e.bc(this.bb,"j-pro")[0];this.Av=e.bc(this.bb,"j-uploadTxBtn")[0];this.mN=e.bc(this.bb,"j-saveBtn")[0];this.ne=e.bc(this.bb,"j-cancelBtn")[0];this.yc=e.bc(this.bb,"j-fb")[0];this.cMI=e.bc(this.bb,"j-size")[0];v.bd(this.Av,"click",this.ya.Z(this));v.bd(this.mN,"click",this.bHo.Z(this));v.bd(this.ne,"click",function(){this.eB()}.Z(this))};Nd.bHo=function(bj){v.dG(bj);this.EA.schoolName=this.Zj.ca().trim();this.EA.lectorTitle=this.Zi.ca().trim();if(!this.EA.lectorSignPic){this.dz.eX("请上传老师签名",true);return}if(this.EA.schoolName==""||this.Zj.hM()>22){this.dz.eX("学校信息为必填项，并将字数控制在11字以内。",true);return}if(this.EA.lectorTitle==""||this.Zi.hM()>22){this.dz.eX("老师信息为必填项，并将字数控制在11字以内。",true);return}this.bn("onSaveLector",this.sD,this.EA);this.eB()};Nd.ya=function(){eu.qK.bP({uploadConfig:{uW:this.btk.width,uH:this.btk.height,pW:200,pH:69,dW:306,dH:106},onComplete:this.xX.Z(this)})};Nd.xX=function(W){this.EA.lectorSignPic=this.cgu.src=W.picUrl};Nd.bE=function(Y){Y.title=" ";Y.maskClickNotHidden=true;this.EA=eu.BL(Y.lectorDto||{});this.sD=Y.position;this.bG(Y);this.cgu.src=this.EA.lectorSignPic||g.imageUrlMap.img_default_signature;this.Zj=eu.ef.bh({parent:this.cMN,critical:11,labelText:"请输入大学名称",height:30,width:300});this.Zj.cZ(this.EA.schoolName||"");this.Zi=eu.ef.bh({parent:this.cMJ,critical:11,labelText:"请输入老师职称",height:30,width:300});this.Zi.cZ(this.EA.lectorTitle||"");this.dz=eu.cz.bh({parent:this.yc});this.dz.cg();this.btk=cMX;this.cMI.innerText=this.btk.width+"*"+this.btk.height};Nd.bJ=function(){if(!!this.Zi){this.Zi=eu.ef.bg(this.Zi)}if(!!this.Zj){this.Zj=eu.ef.bg(this.Zj)}if(!!this.dz){this.dz=eu.cz.bg(this.dz)}this.bN()}})();
(function(){var bp=NEJ.P,bm=bp("nej.e"),cd=NEJ.P("nej.v"),bD=NEJ.P("nej.u"),eu=NEJ.P("edu.u"),g=window,ky,bHI;var dn=bm.bX('<div class="u-select"><div class="up j-up f-thide"></div><div class="down f-bg j-list"></div></div>');eu.eW=NEJ.C();ky=eu.eW.bt(eu.cq,!0);bHI=eu.eW.prototype;ky.bU=function(){this.bW=dn};ky.bE=function(Y){this.bG(Y);if(!!Y.selectIndex&&!!Y.list){this.zJ(Y.list[Y.selectIndex-1])}else{this.Iv.innerText=Y.defaultName||"请选择下拉列表"}this.cMF=Y.selectId||"";this.AA=Y.list;eu.bs(this.nP);this.bHV(Y.list);this.gN([[this.Iv,"click",function(bj){if(!this.kY){this.bHX(bj)}}.Z(this)],[document,"click",function(bj){eu.bs(this.nP)}.Z(this)]]);this.jN(false)};ky.bHV=function(W){this.nP.innerHTML="";if(!W){return}var eH=W.length;for(var i=0;i<eH;i++){var OS=W[i];var bIm='<div class="f-thide list f-cb" title="'+bD.dV(OS.name)+'">'+bD.dV(OS.name)+"</div>";var dy=bm.hU(bIm);this.gN([[dy,"click",this.zJ.Z(this,OS)]]);this.nP.appendChild(dy);if(OS.id==this.cMF){this.Iv.innerText=OS.name;this.Jn=OS}}};ky.bL=function(){this.bO();this.Iv=bm.bc(this.bb,"j-up")[0];this.nP=bm.bc(this.bb,"j-list")[0]};ky.jN=function(bjc){if(!!bjc){bm.bK(this.bb,"disabled")}else{bm.bZ(this.bb,"disabled")}this.kY=!!bjc};ky.AC=function(){return this.Jn};ky.cgm=function(bV){bD.bw(this.AA,function(W,bf){if(W.id==bV){this.Iv.innerText=W.name;this.Jn=W}}.Z(this))};ky.bHX=function(bj){cd.dG(bj);if(!eu.xG(this.nP)){eu.bv(this.nP)}else{eu.bs(this.nP)}};ky.zJ=function(W,bj){if(!!bj){cd.dG(bj)}this.Jn=W;this.Iv.innerText=W.name;eu.bs(this.nP);this.bn("itemSelect",W)};ky.djl=function(eT){this.Iv.innerText=eT;this.jN(true)}})();
(function(){var bp=NEJ.P,de=NEJ.O,bm=bp("nej.e"),bD=bp("nej.u"),bq=bp("nej.ut"),bM;if(!!bq.bsE)return;bq.bsE=NEJ.C();bM=bq.bsE.bt(bq.hW);bM.bE=function(Y){this.bG(Y);var pm={province:bm.bQ(Y.province),city:bm.bQ(Y.city),area:bm.bQ(Y.area)};this.Gi=pm;this.Cc=pm.province.options.length||0;this.gN([[pm.area,"change",this.jM.Z(this,"area")],[pm.city,"change",this.jM.Z(this,"city")],[pm.province,"change",this.jM.Z(this,"province")]]);this.cc=Y.cache||bq.djm.bh();this.cc.WU("onlistload",this.cMu.Z(this));this.bsC(pm.province);this.bsx(Y.data,!0);this.cc.MR({key:"province"})};bM.bJ=function(){this.bN();if(!!this.cc){this.cc.bg();delete this.cc}delete this.cc;delete this.bu;delete this.Gi};bM.bsC=function(mM){if(!!mM){mM.options.length=this.Cc}};bM.cMt=function(mM,bF){if(!mM)return;bD.bw(bF,function(bH){mM.add(new Option(bH,bH))});bm.fm(mM,"display",!bF||!bF.length?"none":"")};bM.cgk=function(bz){var bH=this.bu[bz]||"";if(!!bH){this.Gi[bz].value=bH;delete this.bu[bz]}this.jM(bz)};bM.jM=function(bz){var pm=this.Gi,bH=pm.province.value;switch(bz){case"province":this.bsC(pm.city);this.bsC(pm.area);if(!this.cc.cMp(bH)){bm.fm(pm.area,"display","none");if(!pm.area){bm.fm(pm.city,"display","none");break}else{bm.fm(pm.city,"display","")}}else{bm.fm(pm.area,"display","");bm.fm(pm.city,"display","")}if(!!pm.city&&!!bH){this.cc.MR({key:"city-"+bH})}break;case"city":this.bsC(pm.area);var cgi=pm.city.value;if(!cgi)return;this.cc.MR({key:"area-"+bH+"-"+cgi});break}this.bn("onchange",bz)};bM.cMu=function(Y){var bR=Y.key,bz=bR.split("-")[0],bB=this.Gi[bz];this.cMt(bB,this.cc.zw(bR));this.cgk(bz)};bM.bsx=function(W,cMh){this.bu=W||de;if(!cMh)this.cgk("province");return this}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,bD=bp("nej.u"),bq=bp("nej.ut"),bM,sF;if(!!bq.bsk)return;bq.bsk=NEJ.C();bM=bq.bsk.bt(bq.bkO);sF=bq.bsk.cH;bM.bE=function(Y){this.bG(Y);this.vZ=Y.key||"id";this.bu=Y.data||de;this.cMd=!!Y.autogc;this.cMb(Y.id)};bM.bJ=function(){this.bN();if(!!this.gj){this.cgf()}};bM.cMb=function(bV){var cR;if(!!bV){cR=this.cc[bV];if(!cR){cR={};this.cc[bV]=cR}}cR=cR||this.cc;cR.hash=cR.hash||{};this.Za=cR};bM.cgf=function(){this.gj=window.clearTimeout(this.gj);var dD={};bD.hH(this.Za,function(bF,bR){if(bR=="hash")return;if(!bD.jO(bF))return;bD.bw(bF,function(bo){if(!bo)return;dD[bo[this.vZ]]=!0},this)},this);bD.hH(this.bsh(),function(bo,bV,jp){if(!dD[bV]){delete jp[bV]}})};bM.cLX=function(){if(!!this.gj){this.gj=window.clearTimeout(this.gj)}this.gj=window.setTimeout(this.cgf.Z(this),150)};bM.YZ=function(bo,YX){if(!bD.jO(bo)){bo=this.cLT(bo,YX)||bo;if(!bo)return null;var bR=bo[this.vZ];if(bR!=null){var fT=this.bsh()[bR];if(!!fT)bo=NEJ.X(fT,bo);this.bsh()[bR]=bo}delete bo.cge;return bo}var cN=[];bD.bw(bo,function(Oz){cN.push(this.YZ(Oz,YX))},this);return cN};bM.cgd=function(YX,bV){var cN=null,bJZ=this.vZ;if(!bD.jO(bV)){var cN=null,bJZ=this.vZ;bV=bV[bJZ]||bV;var bF=this.zw(YX),bf=bD.nZ(bF,function(fT){return!!fT&&fT[bJZ]==bV});if(bf>=0){cN=bF[bf];bF.splice(bf,1)}return cN}var cN=[];bD.bw(bV,function(bo){cN.push(this.cgd(YX,bo))},this);return cN};bM.cLT=dm;bM.cgc=function(bR,bo){if(!bo)return;if(!bD.jO(bo)){var bF=this.zw(bR),bo=this.YZ(bo,bR);if(!!bo)bF.unshift(bo);return}bD.nT(bo,this.cgc.Z(this,bR))};bM.bKj=function(bR,fR){var bF=this.zw(bR);bF.length=Math.max(bF.length,fR);this.brR(bR);return this};bM.brQ=function(bR){return this.zw(bR).length};bM.brR=function(bR,cLK){this.zw(bR).loaded=cLK!==!1;return this};bM.djs=function(bR){return!!this.zw(bR).loaded};bM.djt=function(bR,bF){this.cfZ(bR);this.cfX({key:bR,offset:0,limit:bF.length+1},{list:bF,total:bF.length})};bM.zw=function(){var PH=function(bR){return(bR||"")+(!bR?"":"-")+"list"};return function(bR){var bR=PH(bR),bF=this.Za[bR];if(!bF){bF=[];this.Za[bR]=bF}return bF}}();bM.bsh=function(){var jp=this.Za.hash;if(!jp){jp={};this.Za.hash=jp}return jp};bM.djv=function(){var PH=function(Y){return"r-"+Y.key};return function(Y){var mc=NEJ.X({},Y),MI=PH(mc);if(!this.bvS(MI,this.bn.Z(this))){mc.rkey=MI;mc.onload=this.cLu.Z(this,mc);this.bn("dopullrefresh",mc)}return this}}();bM.cLu=function(Y,cN){var bR=Y.key,fR=parseInt(cN.total),bF=cN.list||cN.result;this.cgc(bR,bF||cN);if(!isNaN(fR)&&!!bF){this.zw(bR).length=fR;this.brR(bR)}this.bvP(Y.rkey,"onpullrefresh",Y)};bM.MR=function(){var PH=function(Y){return"r-"+Y.key+"-"+Y.offset+"-"+Y.limit};return function(Y){Y=Y||de;var mc={key:""+Y.key||"",ext:Y.ext||null,data:Y.data||null,offset:parseInt(Y.offset)||0,limit:parseInt(Y.limit)||0},bF=this.zw(mc.key);if(this.cXf(bF,mc.offset,mc.limit)){this.bn("onlistload",mc);return this}var MI=PH(mc);if(!this.bvS(MI,this.bn.Z(this))){mc.rkey=MI;mc.onload=this.cfX.Z(this,mc);this.bn("doloadlist",mc)}return this}}();bM.cfX=function(){var RB=function(bo,bf,bF){if(!!bo){return!0}bF.splice(bf,1)};return function(Y,cN){Y=Y||de;var bR=Y.key,gd=Y.offset,cfU=this.zw(bR);var bF=cN||[];if(!bD.jO(bF)){bF=cN.result||cN.list||[];var fR=parseInt(cN.total);if(!isNaN(fR)||fR>bF.length){this.bKj(bR,fR)}}bD.bw(bF,function(bo,bf){cfU[gd+bf]=this.YZ(bo,bR)},this);if(bF.length<Y.limit){this.brR(bR);bD.nT(cfU,RB)}this.bvP(Y.rkey,"onlistload",Y)}}();bM.cfZ=function(){var RB=function(bo,bf,bF){bF.splice(bf,1)};return function(bR){if(!!bR){var bF=this.zw(bR);bD.nT(bF,RB);this.brR(bR,!1);if(this.cMd){this.cLX()}}else{bD.hH(this.Za,function(bF,bR){if(bR=="hash"||!bD.jO(bF))return;bR=bR.substr(0,bR.length-5);this.cfZ(bR)},this)}return this}}();bM.cLp=function(bo,YX){return!bo.cge};bM.bLt=function(bV){return this.bsh()[bV]};bM.djw=function(bV){var bo=this.bLt(bV);if(!!bo)bo.cge=!0};bM.cfR=function(){var PH=function(Y){return"r-"+Y.key+"-"+Y.id};return function(Y){Y=Y||de;var bV=Y[this.vZ],mc={id:bV,ext:Y.ext,data:Y.data||{},key:""+Y.key||""};bo=this.bLt(bV);mc.data[this.vZ]=bV;if(!!bo&&this.cLp(bo,mc.key)){this.bn("onitemload",mc);return this}var MI=PH(mc);if(!this.bvS(MI,this.bn.Z(this))){mc.rkey=MI;mc.onload=this.cLg.Z(this,mc);this.bn("doloaditem",mc)}return this}}();bM.cLg=function(Y,bo){Y=Y||de;this.YZ(bo,Y.key);this.bvP(Y.rkey,"onitemload",Y)};bM.djx=function(Y){Y=NEJ.X({},Y);Y.onload=this.cLd.Z(this,Y);this.bn("doadditem",Y)};bM.cLd=function(Y,bo){var bR=Y.key;bo=this.YZ(bo,bR);if(!!bo){var cC=0,bF=this.zw(bR);if(!Y.push){cC=-1;var gd=Y.offset||0;bF.splice(gd,0,bo)}else if(bF.loaded){cC=1;bF.push(bo)}else{bF.length++}}var bj={key:bR,flag:cC,data:bo,action:"add",ext:Y.ext};this.bn("onitemadd",bj);return bj};bM.djy=function(Y){Y=NEJ.X({},Y);Y.onload=this.brw.Z(this,Y);this.bn("dodeleteitem",Y)};bM.brw=function(Y,bGi){var bo,bR=Y.key;if(!!bGi){var bV=Y.id;bo=this.bLt(bV)||null;this.cgd(bR,bV)}var bj={key:bR,data:bo,action:"delete",ext:Y.ext};this.bn("onitemdelete",bj);return bj};bM.djz=function(Y){Y=NEJ.X({},Y);Y.onload=this.cKZ.Z(this,Y);this.bn("doupdateitem",Y)};bM.cKZ=function(Y,bo){var bR=Y.key;if(!!bo)bo=this.YZ(bo,bR);var bj={key:bR,data:bo,action:"update",ext:Y.ext};this.bn("onitemupdate",bj);return bj}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,bD=bp("nej.u"),bq=bp("nej.ut"),bM;if(!!bq.bLV)return;bq.bLV=NEJ.C();bM=bq.bLV.bt(bq.bsk);bM.bE=function(Y){this.bG(Y);this.bMO({doloadlist:this.cfO.Z(this),doloaditem:this.cKX.Z(this),doadditem:this.cKR.Z(this),dodeleteitem:this.cKQ.Z(this),doupdateitem:this.cKP.Z(this),dopullrefresh:this.cKO.Z(this)})};bM.cfO=dm;bM.cKO=dm;bM.cKX=dm;bM.cKR=dm;bM.cKQ=dm;bM.cKP=dm})();
(function(){var lm=NEJ.R,bq=NEJ.P("nej.ut"),bY=NEJ.P("edu.u"),bMm;if(!!bY.$$eduRegionCacheZH)return;bY.cfM=NEJ.C();bMm=bY.cfM.bt(bq.bLV);bMm.cfO=function(Y){var bF,db=Y.key.split("-");switch(db.shift()){case"province":bF=bMs.p;break;case"city":bF=bMs.c[db.join("-")]||lm;break;case"area":bF=[];break}this.bKj(Y.key,bF.length);Y.onload(bF)};bMm.cMp=function(bhq){return!bMs.s[bhq]};var bMs={s:{"北京市":1,"天津市":1,"上海市":1,"重庆市":1,"河北省":1,"山西省":1,"辽宁省":1,"吉林省":1,"黑龙江省":1,"江苏省":1,"浙江省":1,"安徽省":1,"福建省":1,"江西省":1,"山东省":1,"河南省":1,"湖北省":1,"湖南省":1,"广东省":1,"海南省":1,"四川省":1,"贵州省":1,"云南省":1,"陕西省":1,"甘肃省":1,"青海省":1,"西藏自治区":1,"内蒙古自治区":1,"广西壮族自治区":1,"宁夏回族自治区":1,"新疆维吾尔自治区":1,"香港特别行政区":1,"澳门特别行政区":1,"台湾":1,"其他":1},p:["北京市","天津市","上海市","重庆市","河北省","山西省","辽宁省","吉林省","黑龙江省","江苏省","浙江省","安徽省","福建省","江西省","山东省","河南省","湖北省","湖南省","广东省","海南省","四川省","贵州省","云南省","陕西省","甘肃省","青海省","西藏自治区","内蒙古自治区","广西壮族自治区","宁夏回族自治区","新疆维吾尔自治区","香港特别行政区","澳门特别行政区","台湾","其他"],c:{"北京市":["东城区","西城区","朝阳区","丰台区","石景山区","海淀区","门头沟区","房山区","通州区","顺义区","昌平区","大兴区","怀柔区","平谷区","密云县","延庆县"],"天津市":["和平区","河东区","河西区","南开区","河北区","红桥区","东丽区","西青区","津南区","北辰区","武清区","宝坻区","滨海新区","宁河县","静海县","蓟县"],"河北省":["石家庄市","唐山市","秦皇岛市","邯郸市","邢台市","保定市","张家口市","承德市","沧州市","廊坊市","衡水市"],"山西省":["太原市","大同市","阳泉市","长治市","晋城市","朔州市","晋中市","运城市","忻州市","临汾市","吕梁市"],"内蒙古自治区":["呼和浩特市","包头市","乌海市","赤峰市","通辽市","鄂尔多斯市","呼伦贝尔市","巴彦淖尔市","乌兰察布市","兴安盟","锡林郭勒盟","阿拉善盟"],"辽宁省":["沈阳市","大连市","鞍山市","抚顺市","本溪市","丹东市","锦州市","营口市","阜新市","辽阳市","盘锦市","铁岭市","朝阳市","葫芦岛市"],"吉林省":["长春市","吉林市","四平市","辽源市","通化市","白山市","松原市","白城市","延边朝鲜族自治州"],"黑龙江省":["哈尔滨市","齐齐哈尔市","鸡西市","鹤岗市","双鸭山市","大庆市","伊春市","佳木斯市","七台河市","牡丹江市","黑河市","绥化市","大兴安岭地区"],"上海市":["黄浦区","徐汇区","长宁区","静安区","普陀区","闸北区","虹口区","杨浦区","闵行区","宝山区","嘉定区","浦东新区","金山区","松江区","青浦区","奉贤区","崇明县"],"江苏省":["南京市","无锡市","徐州市","常州市","苏州市","南通市","连云港市","淮安市","盐城市","扬州市","镇江市","泰州市","宿迁市"],"浙江省":["杭州市","宁波市","温州市","嘉兴市","湖州市","绍兴市","金华市","衢州市","舟山市","台州市","丽水市"],"安徽省":["合肥市","芜湖市","蚌埠市","淮南市","马鞍山市","淮北市","铜陵市","安庆市","黄山市","滁州市","阜阳市","宿州市","六安市","亳州市","池州市","宣城市"],"福建省":["福州市","厦门市","莆田市","三明市","泉州市","漳州市","南平市","龙岩市","宁德市"],"江西省":["南昌市","景德镇市","萍乡市","九江市","新余市","鹰潭市","赣州市","吉安市","宜春市","抚州市","上饶市"],"山东省":["济南市","青岛市","淄博市","枣庄市","东营市","烟台市","潍坊市","济宁市","泰安市","威海市","日照市","莱芜市","临沂市","德州市","聊城市","滨州市","菏泽市"],"河南省":["郑州市","开封市","洛阳市","平顶山市","安阳市","鹤壁市","新乡市","焦作市","濮阳市","许昌市","漯河市","三门峡市","南阳市","商丘市","信阳市","周口市","驻马店市","省直辖县级行政区划"],"湖北省":["武汉市","黄石市","十堰市","宜昌市","襄阳市","鄂州市","荆门市","孝感市","荆州市","黄冈市","咸宁市","随州市","恩施土家族苗族自治州","省直辖县级行政区划"],"湖南省":["长沙市","株洲市","湘潭市","衡阳市","邵阳市","岳阳市","常德市","张家界市","益阳市","郴州市","永州市","怀化市","娄底市","湘西土家族苗族自治州"],"广东省":["广州市","韶关市","深圳市","珠海市","汕头市","佛山市","江门市","湛江市","茂名市","肇庆市","惠州市","梅州市","汕尾市","河源市","阳江市","清远市","东莞市","中山市","潮州市","揭阳市","云浮市"],"广西壮族自治区":["南宁市","柳州市","桂林市","梧州市","北海市","防城港市","钦州市","贵港市","玉林市","百色市","贺州市","河池市","来宾市","崇左市"],"海南省":["海口市","三亚市","三沙市","省直辖县级行政区划"],"重庆市":["万州区","涪陵区","渝中区","大渡口区","江北区","沙坪坝区","九龙坡区","南岸区","北碚区","綦江区","大足区","渝北区","巴南区","黔江区","长寿区","江津区","合川区","永川区","南川区","潼南县","铜梁县","荣昌县","璧山县","梁平县","城口县","丰都县","垫江县","武隆县","忠县","开县","云阳县","奉节县","巫山县","巫溪县","石柱土家族自治县","秀山土家族苗族自治县","酉阳土家族苗族自治县","彭水苗族土家族自治县"],"四川省":["成都市","自贡市","攀枝花市","泸州市","德阳市","绵阳市","广元市","遂宁市","内江市","乐山市","南充市","眉山市","宜宾市","广安市","达州市","雅安市","巴中市","资阳市","阿坝藏族羌族自治州","甘孜藏族自治州","凉山彝族自治州"],"贵州省":["贵阳市","六盘水市","遵义市","安顺市","毕节市","铜仁市","黔西南布依族苗族自治州","黔东南苗族侗族自治州","黔南布依族苗族自治州"],"云南省":["昆明市","曲靖市","玉溪市","保山市","昭通市","丽江市","普洱市","临沧市","楚雄彝族自治州","红河哈尼族彝族自治州","文山壮族苗族自治州","西双版纳傣族自治州","大理白族自治州","德宏傣族景颇族自治州","怒江傈僳族自治州","迪庆藏族自治州"],"西藏自治区":["拉萨市","昌都地区","山南地区","日喀则地区","那曲地区","阿里地区","林芝地区"],"陕西省":["西安市","铜川市","宝鸡市","咸阳市","渭南市","延安市","汉中市","榆林市","安康市","商洛市"],"甘肃省":["兰州市","嘉峪关市","金昌市","白银市","天水市","武威市","张掖市","平凉市","酒泉市","庆阳市","定西市","陇南市","临夏回族自治州","甘南藏族自治州"],"青海省":["西宁市","海东地区","海北藏族自治州","黄南藏族自治州","海南藏族自治州","果洛藏族自治州","玉树藏族自治州","海西蒙古族藏族自治州"],"宁夏回族自治区":["银川市","石嘴山市","吴忠市","固原市","中卫市"],"新疆维吾尔自治区":["乌鲁木齐市","克拉玛依市","吐鲁番地区","哈密地区","昌吉回族自治州","博尔塔拉蒙古自治州","巴音郭楞蒙古自治州","阿克苏地区","克孜勒苏柯尔克孜自治州","喀什地区","和田地区","伊犁哈萨克自治州","塔城地区","阿勒泰地区","自治区直辖县级行政区划"],"香港特别行政区":["中西区","东区","九龙城区","观塘区","南区","深水埗区","黄大仙区","湾仔区","油尖旺区","离岛区","葵青区","北区","西贡区","沙田区","屯门区","大埔区","荃湾区","元朗区","其他"],"澳门特别行政区":["花地玛堂区","圣安多尼堂区","大堂区","望德堂区","风顺堂区","氹仔","路环","其他"],"台湾":["台北市","高雄市","基隆市","台中市","台南市","新竹市","嘉义市","新北市","宜兰县","桃园县","新竹县","苗栗县","台中县","彰化县","南投县","云林县","嘉义县","台南县","高雄县","屏东县","澎湖县","台东县","花莲县","其他"],"其他":["其他"]},a:{}}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),fx=NEJ.P("nej.ut"),Sv,cKL,cKJ=e.dL('<div class="u-eduReagion"><select id="province" class="slt"></select> <select id="city" class="slt"></select> <select id="area" class="slt" style="display:none"></select></div>');var cv=e.dA(".u-eduReagion select{border: 1px solid #abadb3;}");eu.brr=NEJ.C();Sv=eu.brr.bt(eu.cq);cKL=eu.brr.cH;Sv.bU=function(){this.ds=cv;this.bW=e.bX(e.bS(cKJ))};Sv.bL=function(){this.bO();this.YO=e.cJ(this.bb)};Sv.cKI=function(){var W={province:this.YO[0].value,city:this.YO[1].value};return W};Sv.bsx=function(W){this.jf.bsx(W)};Sv.bE=function(Y){this.bG(Y);this.cKH=eu.cfM.bh();this.jf=fx.bsE.bh({parent:this.bb,province:this.YO[0],city:this.YO[1],area:this.YO[2],data:Y.data,cache:this.cKH})};Sv.bJ=function(){if(!!this.jf){this.jf=fx.bsE.bg(this.jf)}u.bw(this.YO,function(bo){bo.innerHTML=""});this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),AP;var cv=e.dA(".u-addressEdit .main{padding: 0;}.u-addressEdit .row{margin:0 0 25px;}.u-addressEdit .row .lb{display:block;width:90px;height:30px;line-height:30px;padding:0 20px 0 0;float:left;text-align:right;}.u-addressEdit .row .lb span{display:inline-block;font-size:14px;}.u-addressEdit .row .lb span.lbr{color:#444;}.u-addressEdit .address .region{margin-bottom:10px;}.u-addressEdit .row .ipt{width:400px;height:30px;}.u-addressEdit .row .m-baseinputui{float:left;}.u-addressEdit .row .m-feedbackinfo{float:left;}");var dv=e.dL('<div class="u-addressEdit f-cb"><div class="main"><div class="row f-cb"><label class="lb f-cb"><span class="f-f0 f-sign lbl">*</span><span class="f-f0 lbr">收件人</span></label><div class="j-ipt receiver f-cb f-fl"></div></div><div class="row f-cb"><label class="lb f-cb"><span class="f-f0 f-sign lbl">*</span><span class="f-f0 lbr">收件地址</span></label><div class="address f-fl"><div class="j-region region"></div><div class="j-ipt f-cb"></div></div></div><div class="row f-cb"><label class="lb f-cb"><span class="f-f0 lbr">邮政编码</span></label><div class="j-ipt tel f-cb f-fl"></div></div><div class="row f-cb"><label class="lb f-cb"><span class="f-f0 f-sign lbl">*</span><span class="f-f0 lbr">联系电话</span></label><div class="j-ipt tel f-cb f-fl"></div></div></div></div>');eu.Tf=NEJ.C();AP=eu.Tf.bt(eu.cq,true);AP.bU=function(){this.bW=e.bX(e.bS(dv))};AP.bL=function(){this.bO();this.brn=e.bc(this.bb,"j-ipt");this.cfJ=this.brn[0];this.cfI=this.brn[1];this.cfH=this.brn[2];this.cfF=this.brn[3];this.cKt=e.bc(this.bb,"j-region")[0]};AP.bE=function(Y){this.bG(Y);this.bNl=Y.data;this.bNm();this.brh(Y.data)};AP.bNm=function(){this.YL=eu.cD.bh({parent:this.cfJ,labelText:"最多可填写30字",height:35,width:300,onInputFocus:function(){this.Tu.cg()}.Z(this)});this.Tu=eu.cz.bh({parent:this.cfJ});this.Tu.cg();this.jf=eu.brr.bh({parent:this.cKt,data:{province:"",city:""}});this.YK=eu.cD.bh({parent:this.cfI,labelText:"具体到街道门牌号，否则邮寄的证书无法准确按时到达,最多可填写60字",height:56,width:500,onInputFocus:function(){this.TA.cg()}.Z(this)});this.TA=eu.cz.bh({parent:this.cfI});this.TA.cg();this.bhV=eu.cD.bh({parent:this.cfH,height:35,width:300});this.bhU=eu.cz.bh({parent:this.cfH});this.bhU.cg();this.YH=eu.cD.bh({parent:this.cfF,labelText:"手机或座机号码，若填写座机号码需包括区号",height:35,width:300,onInputFocus:function(){this.NK.cg()}.Z(this)});this.NK=eu.cz.bh({parent:this.cfF});this.NK.cg()};AP.djA=function(){var FW=this.cfE(FW);if(!!this.bNl){FW.id=this.bNl.id}return FW};AP.YC=function(){var FW=this.cfE(FW);if(!FW){return false}return FW};AP.brh=function(W){if(!W)return;this.bNl=W;this.YL.cZ(W.receiverName||"");this.jf.bsx({province:W.province,city:W.city});this.YK.cZ(W.location||"");this.bhV.cZ(W.postcode||"");this.YH.cZ(W.telephone||"")};AP.cfE=function(){var cfD=this.YL.ca(),cfC=this.jf.cKI(),Dy=this.YK.ca(),bOi=this.bhV.ca(),cfB=this.YH.ca(),cKn=this.YH.hM(),cKk=this.YL.hM(),cKj=this.YK.hM(),cC=true;if(!cfD){this.Tu.cs("请输入收件人姓名",true);cC=false}else if(cKk>60){this.Tu.cs("收件人姓名最多可填写30字",true);cC=false}if(!Dy){this.TA.cs("请输入具体街道地址",true);cC=false}else if(cKj>120){this.TA.cs("具体街道地址最多可填写60字",true);cC=false}if(!cfB){this.NK.cs("请输入联系电话",true);cC=false}else if(cKn>30){this.NK.cs("联系电话最多可填写30个字符",true);cC=false}if(!!bOi&&!/^\d{6}$/.test(bOi)){this.bhU.cs("邮编格式不正确",true);cC=false}var FW=!!cC?{receiverName:cfD,province:cfC.province,city:cfC.city,location:Dy,postcode:bOi,telephone:cfB}:null;return FW};AP.dx=function(){if(!!this.YL){this.YL=eu.cD.bg(this.YL)}if(!!this.jf){this.jf=eu.brr.bg(this.jf)}if(!!this.YK){this.YK=eu.cD.bg(this.YK)}if(!!this.bhV){this.bhV=eu.cD.bg(this.bhV)}if(this.YH){this.YH=eu.cD.bg(this.YH)}if(!!this.Tu){this.Tu=eu.cz.bg(this.Tu)}if(!!this.TA){this.TA=eu.cz.bg(this.TA)}if(!!this.bhU){this.bhU=eu.cz.bg(this.bhU)}if(!!this.NK){this.NK=eu.cz.bg(this.NK)}};AP.bJ=function(){this.dx();this.bN()}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,bq=bp("nej.ut"),bM;if(!!bq.bOx)return;bq.bOx=NEJ.C();bM=bq.bOx.bt(bq.hW);bM.bE=function(Y){this.bG(Y);this.bqr=Y.to||de;this.bhA=Y.from||{};this.cKi=Math.max(0,parseInt(Y.delay)||0)};bM.bJ=function(){this.bN();this.dG();if(!!this.bhz){window.clearTimeout(this.bhz);delete this.bhz}delete this.bqr;delete this.bhA};bM.cfA=function(cQ){if(!this.bhA)return;if((""+cQ).indexOf(".")>=0)cQ=+(new Date);if(this.cfz(cQ)){this.dG();return}this.gj=requestAnimationFrame(this.cfA.Z(this))};bM.cfz=dm;bM.Gw=function(){var cKd=function(){this.bhz=window.clearTimeout(this.bhz);this.bhA.time=+(new Date);this.gj=requestAnimationFrame(this.cfA.Z(this))};return function(){this.bhz=window.setTimeout(cKd.Z(this),this.cKi);return this}}();bM.dG=function(){this.gj=cancelRequestAnimationFrame(this.gj);this.bn("onstop",arguments);return this}})();
(function(){var bp=NEJ.P,de=NEJ.O,bD=bp("nej.u"),bq=bp("nej.ut"),bM,sF;if(!!bq.bhs)return;bq.bhs=NEJ.C();bM=bq.bhs.bt(bq.bOx);sF=bq.bhs.cH;bM.bE=function(Y){this.bG(Y);this.bOU=Y.duration||200;this.cKc=1/(200*this.bOU);this.cKb(Y.timing);this.cKa()};bM.bJ=function(){this.bN();delete this.Yz;delete this.bPi};bM.cKb=function(){var mS=/^cubic\-bezier\((.*?)\)$/i,uV=/\s*,\s*/i,cfy={linear:[0,0,1,1],ease:[.25,.1,.25,1],easein:[.42,0,1,1],easeout:[0,0,.58,1],easeinout:[0,0,.58,1]};var cJU=function(bH,bf,bF){bF[bf]=parseFloat(bH)};return function(bpZ){bpZ=(bpZ||"").toLowerCase();this.Yz=cfy[bpZ];if(mS.test(bpZ)){this.Yz=RegExp.$1.split(uV);bD.bw(this.Yz,cJU)}if(!!this.Yz)return;this.Yz=cfy.ease}}();bM.cKa=function(){var Yy=this.Yz,bPt=3*Yy[0],cfx=3*(Yy[2]-Yy[0])-bPt,cJS=1-bPt-cfx,bPH=3*Yy[1],cfw=3*(Yy[3]-Yy[1])-bPH,cJO=1-bPH-cfw;this.bPi={ax:cJS,ay:cJO,bx:cfx,by:cfw,cx:bPt,cy:bPH}};bM.cJN=function(){var cfv=function(cQ,ue){return((ue.ax*cQ+ue.bx)*cQ+ue.cx)*cQ};var cJL=function(cQ,ue){return((ue.ay*cQ+ue.by)*cQ+ue.cy)*cQ};var cJG=function(cQ,ue){return(3*ue.ax*cQ+2*ue.bx)*cQ+ue.cx};var cJF=function(cQ,cfs,ue){var t0,t1,t2,x2,d2,i;for(t2=cQ,i=0;i<8;i++){x2=cfv(t2,ue)-cQ;if(Math.abs(x2)<cfs)return t2;d2=cJG(t2,ue);if(Math.abs(d2)<1e-6)break;t2=t2-x2/d2}t0=0;t1=1;t2=cQ;if(t2<t0)return t0;if(t2>t1)return t1;while(t0<t1){x2=cfv(t2,ue);if(Math.abs(x2-cQ)<cfs)return t2;if(cQ>x2)t0=t2;else t1=t2;t2=(t1-t0)*.5+t0}return t2};return function(gg){return cJL(cJF(gg/this.bOU,this.cKc,this.bPi),this.bPi)}}();bM.cfz=function(cQ){var gg=cQ-this.bhA.time,cfr=this.cJN(gg),gd=bD.bvO(this.bhA.offset*(1-cfr)+this.bqr.offset*cfr,2),cfp=!1;if(gg>=this.bOU){gd=this.bqr.offset;cfp=!0}this.bn("onupdate",{offset:1*gd});return cfp};bM.dG=function(){this.bn("onupdate",{offset:this.bqr.offset});sF.dG.apply(this,arguments);return this}})();
(function(){UEDITOR_CONFIG=window.UEDITOR_CONFIG||{};var baidu=window.baidu||{};window.baidu=baidu;window.UE=baidu.editor=window.UE||{};UE.plugins={};UE.commands={};UE.instants={};UE.I18N={};UE.version="1.3.6";var dom=UE.dom={};var browser=UE.browser=function(){var agent=navigator.userAgent.toLowerCase(),opera=window.opera,browser={ie:/(msie\s|trident.*rv:)([\w.]+)/.test(agent),opera:!!opera&&opera.version,webkit:agent.indexOf(" applewebkit/")>-1,mac:agent.indexOf("macintosh")>-1,quirks:document.compatMode=="BackCompat"};browser.gecko=navigator.product=="Gecko"&&!browser.webkit&&!browser.opera&&!browser.ie;var version=0;if(browser.ie){version=(agent.match(/(msie\s|trident.*rv:)([\w.]+)/)[2]||0)*1;browser.ie11Compat=document.documentMode==11;browser.ie9Compat=document.documentMode==9;browser.ie8=!!document.documentMode;browser.ie8Compat=document.documentMode==8;browser.ie7Compat=version==7&&!document.documentMode||document.documentMode==7;browser.ie6Compat=version<7||browser.quirks;browser.ie9above=version>8;browser.ie9below=version<9}if(browser.gecko){var geckoRelease=agent.match(/rv:([\d\.]+)/);if(geckoRelease){geckoRelease=geckoRelease[1].split(".");version=geckoRelease[0]*1e4+(geckoRelease[1]||0)*100+(geckoRelease[2]||0)*1}}if(/chrome\/(\d+\.\d)/i.test(agent)){browser.chrome=+RegExp["$1"]}if(/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(agent)&&!/chrome/i.test(agent)){browser.safari=+(RegExp["$1"]||RegExp["$2"])}if(browser.opera)version=parseFloat(opera.version());if(browser.webkit)version=parseFloat(agent.match(/ applewebkit\/(\d+)/)[1]);browser.version=version;browser.isCompatible=!browser.mobile&&(browser.ie&&version>=6||browser.gecko&&version>=10801||browser.opera&&version>=9.5||browser.air&&version>=1||browser.webkit&&version>=522||false);return browser}();var ie=browser.ie,webkit=browser.webkit,gecko=browser.gecko,opera=browser.opera;var utils=UE.utils={each:function(obj,iterator,context){if(obj==null)return;if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++){if(iterator.call(context,obj[i],i,obj)===false)return false}}else{for(var key in obj){if(obj.hasOwnProperty(key)){if(iterator.call(context,obj[key],key,obj)===false)return false}}}},makeInstance:function(obj){var noop=new Function;noop.prototype=obj;obj=new noop;noop.prototype=null;return obj},extend:function(t,s,b){if(s){for(var k in s){if(!b||!t.hasOwnProperty(k)){t[k]=s[k]}}}return t},extend2:function(t){var a=arguments;for(var i=1;i<a.length;i++){var x=a[i];for(var k in x){if(!t.hasOwnProperty(k)){t[k]=x[k]}}}return t},inherits:function(subClass,superClass){var oldP=subClass.prototype,newP=utils.makeInstance(superClass.prototype);utils.extend(newP,oldP,true);subClass.prototype=newP;return newP.constructor=subClass},bind:function(fn,context){return function(){return fn.apply(context,arguments)}},defer:function(fn,delay,exclusion){var timerID;return function(){if(exclusion){clearTimeout(timerID)}timerID=setTimeout(fn,delay)}},indexOf:function(array,item,start){var index=-1;start=this.isNumber(start)?start:0;this.each(array,function(v,i){if(i>=start&&v===item){index=i;return false}});return index},removeItem:function(array,item){for(var i=0,l=array.length;i<l;i++){if(array[i]===item){array.splice(i,1);i--}}},trim:function(str){return str.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},listToMap:function(list){if(!list)return{};list=utils.isArray(list)?list:list.split(",");for(var i=0,ci,obj={};ci=list[i++];){obj[ci.toUpperCase()]=obj[ci]=1}return obj},unhtml:function(str,reg){return str?str.replace(reg||/[&<">'](?:(amp|lt|quot|gt|#39|nbsp);)?/g,function(a,b){if(b){return a}else{return{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[a]}}):""},html:function(str){return str?str.replace(/&((g|l|quo)t|amp|#39|nbsp);/g,function(m){return{"&lt;":"<","&amp;":"&","&quot;":'"',"&gt;":">","&#39;":"'","&nbsp;":" "}[m]}):""},cssStyleToDomStyle:function(){var test=document.createElement("div").style,cache={"float":test.cssFloat!=undefined?"cssFloat":test.styleFloat!=undefined?"styleFloat":"float"};return function(cssName){return cache[cssName]||(cache[cssName]=cssName.toLowerCase().replace(/-./g,function(match){return match.charAt(1).toUpperCase()}))}}(),loadFile:function(){var tmpList=[];function getItem(doc,obj){try{for(var i=0,ci;ci=tmpList[i++];){if(ci.doc===doc&&ci.url==(obj.src||obj.href)){return ci}}}catch(e){return null}}return function(doc,obj,fn){var item=getItem(doc,obj);if(item){if(item.ready){fn&&fn()}else{item.funs.push(fn)}return}tmpList.push({doc:doc,url:obj.src||obj.href,funs:[fn]});if(!doc.body){var html=[];for(var p in obj){if(p=="tag")continue;html.push(p+'="'+obj[p]+'"')}doc.write("<"+obj.tag+" "+html.join(" ")+" ></"+obj.tag+">");return}if(obj.id&&doc.getElementById(obj.id)){return}var element=doc.createElement(obj.tag);delete obj.tag;for(var p in obj){element.setAttribute(p,obj[p])}element.onload=element.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){item=getItem(doc,obj);if(item.funs.length>0){item.ready=1;for(var fi;fi=item.funs.pop();){fi()}}element.onload=element.onreadystatechange=null}};element.onerror=function(){throw Error("The load "+(obj.href||obj.src)+" fails,check the url settings of file ueditor.config.js ")};doc.getElementsByTagName("head")[0].appendChild(element)}}(),isEmptyObject:function(obj){if(obj==null)return true;if(this.isArray(obj)||this.isString(obj))return obj.length===0;for(var key in obj)if(obj.hasOwnProperty(key))return false;return true},fixColor:function(name,value){if(/color/i.test(name)&&/rgba?/.test(value)){var array=value.split(",");if(array.length>3)return"";value="#";for(var i=0,color;color=array[i++];){color=parseInt(color.replace(/[^\d]/gi,""),10).toString(16);value+=color.length==1?"0"+color:color}value=value.toUpperCase()}return value},optCss:function(val){var padding,margin,border;val=val.replace(/(padding|margin|border)\-([^:]+):([^;]+);?/gi,function(str,key,name,val){if(val.split(" ").length==1){switch(key){case"padding":!padding&&(padding={});padding[name]=val;return"";case"margin":!margin&&(margin={});margin[name]=val;return"";case"border":return val=="initial"?"":str}}return str});function opt(obj,name){if(!obj){return""}var t=obj.top,b=obj.bottom,l=obj.left,r=obj.right,val="";if(!t||!l||!b||!r){for(var p in obj){val+=";"+name+"-"+p+":"+obj[p]+";"}}else{val+=";"+name+":"+(t==b&&b==l&&l==r?t:t==b&&l==r?t+" "+l:l==r?t+" "+l+" "+b:t+" "+r+" "+b+" "+l)+";"}return val}val+=opt(padding,"padding")+opt(margin,"margin");return val.replace(/^[ \n\r\t;]*|[ \n\r\t]*$/,"").replace(/;([ \n\r\t]+)|\1;/g,";").replace(/(&((l|g)t|quot|#39))?;{2,}/g,function(a,b){return b?b+";;":";"})},clone:function(source,target){var tmp;target=target||{};for(var i in source){if(source.hasOwnProperty(i)){tmp=source[i];if(typeof tmp=="object"){target[i]=utils.isArray(tmp)?[]:{};utils.clone(source[i],target[i])}else{target[i]=tmp}}}return target},transUnitToPx:function(val){if(!/(pt|cm)/.test(val)){return val}var unit;val.replace(/([\d.]+)(\w+)/,function(str,v,u){val=v;unit=u});switch(unit){case"cm":val=parseFloat(val)*25;break;case"pt":val=Math.round(parseFloat(val)*96/72)}return val+(val?"px":"")},domReady:function(){var fnArr=[];function doReady(doc){doc.isReady=true;for(var ci;ci=fnArr.pop();ci()){}}return function(onready,win){win=win||window;var doc=win.document;onready&&fnArr.push(onready);if(doc.readyState==="complete"){doReady(doc)}else{doc.isReady&&doReady(doc);if(browser.ie&&browser.version!=11){(function(){if(doc.isReady)return;try{doc.documentElement.doScroll("left")}catch(error){setTimeout(arguments.callee,0);return}doReady(doc)})();win.attachEvent("onload",function(){doReady(doc)})}else{doc.addEventListener("DOMContentLoaded",function(){doc.removeEventListener("DOMContentLoaded",arguments.callee,false);doReady(doc)},false);win.addEventListener("load",function(){doReady(doc)},false);setTimeout(function(){doc.removeEventListener("load",arguments.callee,false);doReady(doc)},2e3)}}}}(),cssRule:browser.ie&&browser.version!=11?function(key,style,doc){var indexList,index;if(style===undefined||style&&style.nodeType&&style.nodeType==9){doc=style&&style.nodeType&&style.nodeType==9?style:doc||document;indexList=doc.indexList||(doc.indexList={});index=indexList[key];if(index!==undefined){return doc.styleSheets[index].cssText}return undefined}doc=doc||document;indexList=doc.indexList||(doc.indexList={});index=indexList[key];if(style===""){if(index!==undefined){doc.styleSheets[index].cssText="";delete indexList[key];return true}return false}if(index!==undefined){sheetStyle=doc.styleSheets[index]}else{sheetStyle=doc.createStyleSheet("",index=doc.styleSheets.length);indexList[key]=index}sheetStyle.cssText=style}:function(key,style,doc){var head,node;if(style===undefined||style&&style.nodeType&&style.nodeType==9){doc=style&&style.nodeType&&style.nodeType==9?style:doc||document;node=doc.getElementById(key);return node?node.innerHTML:undefined}doc=doc||document;node=doc.getElementById(key);if(style===""){if(node){node.parentNode.removeChild(node);return true}return false}if(node){node.innerHTML=style}else{node=doc.createElement("style");node.id=key;node.innerHTML=style;doc.getElementsByTagName("head")[0].appendChild(node)}},sort:function(array,compareFn){compareFn=compareFn||function(item1,item2){return item1.localeCompare(item2)};for(var i=0,len=array.length;i<len;i++){for(var j=i,length=array.length;j<length;j++){if(compareFn(array[i],array[j])>0){var t=array[i];array[i]=array[j];array[j]=t}}}return array},clearEmptyAttrs:function(obj){for(var p in obj){if(obj[p]===""){delete obj[p]}}return obj}};utils.each(["String","Function","Array","Number","RegExp","Object"],function(v){UE.utils["is"+v]=function(obj){return Object.prototype.toString.apply(obj)=="[object "+v+"]"}});var EventBase=UE.EventBase=function(){};EventBase.prototype={addListener:function(types,listener){types=utils.trim(types).split(/\s+/);for(var i=0,ti;ti=types[i++];){getListener(this,ti,true).push(listener)}},on:function(types,listener){return this.addListener(types,listener)},off:function(types,listener){return this.removeListener(types,listener)},trigger:function(){return this.fireEvent.apply(this,arguments)},removeListener:function(types,listener){types=utils.trim(types).split(/\s+/);for(var i=0,ti;ti=types[i++];){utils.removeItem(getListener(this,ti)||[],listener)}},fireEvent:function(){var types=arguments[0];types=utils.trim(types).split(" ");for(var i=0,ti;ti=types[i++];){var listeners=getListener(this,ti),r,t,k;if(listeners){k=listeners.length;while(k--){if(!listeners[k])continue;t=listeners[k].apply(this,arguments);if(t===true){return t}if(t!==undefined){r=t}}}if(t=this["on"+ti.toLowerCase()]){r=t.apply(this,arguments)}}return r}};function getListener(obj,type,force){var allListeners;type=type.toLowerCase();return(allListeners=obj.cJw||force&&(obj.cJw={}))&&(allListeners[type]||force&&(allListeners[type]=[]))}var dtd=dom.dtd=function(){function bp(s){for(var k in s){s[k.toUpperCase()]=s[k]}return s}var X=utils.extend2;var A=bp({isindex:1,fieldset:1}),B=bp({input:1,button:1,select:1,textarea:1,label:1}),C=X(bp({a:1}),B),D=X({iframe:1},C),E=bp({hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1}),F=bp({ins:1,del:1,script:1,style:1}),G=X(bp({b:1,acronym:1,bdo:1,"var":1,"#":1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1}),F),H=X(bp({sub:1,img:1,embed:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1}),G),I=X(bp({p:1}),H),J=X(bp({iframe:1}),H,B),K=bp({img:1,embed:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,"#":1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,"var":1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1}),L=X(bp({a:0}),J),M=bp({tr:1}),N=bp({"#":1}),O=X(bp({param:1}),K),P=X(bp({form:1}),A,D,E,I),Q=bp({li:1,ol:1,ul:1}),R=bp({style:1,script:1}),S=bp({base:1,link:1,meta:1,title:1}),T=X(S,R),U=bp({head:1,body:1}),V=bp({html:1});var block=bp({address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1}),empty=bp({area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1});return bp({$nonBodyContent:X(V,U,S),$block:block,$inline:L,$inlineWithA:X(bp({a:1}),L),$body:X(bp({script:1,style:1}),block),$cdata:bp({script:1,style:1}),$empty:empty,$nonChild:bp({iframe:1,textarea:1}),$listItem:bp({dd:1,dt:1,li:1}),$list:bp({ul:1,ol:1,dl:1}),$isNotEmpty:bp({table:1,ul:1,ol:1,dl:1,iframe:1,area:1,base:1,col:1,hr:1,img:1,embed:1,input:1,link:1,meta:1,param:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1}),$removeEmpty:bp({a:1,abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1}),$removeEmptyBlock:bp({p:1,div:1}),$tableContent:bp({caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1,table:1}),$notTransContent:bp({pre:1,script:1,style:1,textarea:1}),html:U,head:T,style:N,script:N,body:P,base:{},link:{},meta:{},title:N,col:{},tr:bp({td:1,th:1}),img:{},embed:{},colgroup:bp({thead:1,col:1,tbody:1,tr:1,tfoot:1}),noscript:P,td:P,br:{},th:P,center:P,kbd:L,button:X(I,E),basefont:{},h5:L,h4:L,samp:L,h6:L,ol:Q,h1:L,h3:L,option:N,h2:L,form:X(A,D,E,I),select:bp({optgroup:1,option:1}),font:L,ins:L,menu:Q,abbr:L,label:L,table:bp({thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1}),code:L,tfoot:M,cite:L,li:P,input:{},iframe:P,strong:L,textarea:N,noframes:P,big:L,small:L,span:bp({"#":1,br:1,b:1,strong:1,u:1,i:1,em:1,sub:1,sup:1,strike:1,span:1}),hr:L,dt:L,sub:L,optgroup:bp({option:1}),param:{},bdo:L,"var":L,div:P,object:O,sup:L,dd:P,strike:L,area:{},dir:Q,map:X(bp({area:1,form:1,p:1}),A,F,E),applet:O,dl:bp({dt:1,dd:1}),del:L,isindex:{},fieldset:X(bp({legend:1}),K),thead:M,ul:Q,acronym:L,b:L,a:X(bp({a:1}),J),blockquote:X(bp({td:1,tr:1,tbody:1,li:1}),P),caption:L,i:L,u:L,tbody:M,s:L,address:X(D,I),tt:L,legend:L,q:L,pre:X(G,C),p:X(bp({a:1}),L),em:L,dfn:L})}();function getDomNode(node,start,ltr,startFromChild,fn,guard){var tmpNode=startFromChild&&node[start],parent;!tmpNode&&(tmpNode=node[ltr]);while(!tmpNode&&(parent=(parent||node).parentNode)){if(parent.tagName=="BODY"||guard&&!guard(parent)){return null}tmpNode=parent[ltr]}if(tmpNode&&fn&&!fn(tmpNode)){return getDomNode(tmpNode,start,ltr,false,fn)}return tmpNode}var attrFix=ie&&browser.version<9?{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder"}:{tabindex:"tabIndex",readonly:"readOnly"},styleBlock=utils.listToMap(["-webkit-box","-moz-box","block","list-item","table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption"]);var domUtils=dom.domUtils={NODE_ELEMENT:1,NODE_DOCUMENT:9,NODE_TEXT:3,NODE_COMMENT:8,NODE_DOCUMENT_FRAGMENT:11,POSITION_IDENTICAL:0,POSITION_DISCONNECTED:1,POSITION_FOLLOWING:2,POSITION_PRECEDING:4,POSITION_IS_CONTAINED:8,POSITION_CONTAINS:16,fillChar:ie&&browser.version=="6"?"﻿":"​",keys:{8:1,46:1,16:1,17:1,18:1,37:1,38:1,39:1,40:1,13:1},getPosition:function(nodeA,nodeB){if(nodeA===nodeB){return 0}var node,parentsA=[nodeA],parentsB=[nodeB];node=nodeA;while(node=node.parentNode){if(node===nodeB){return 10}parentsA.push(node)}node=nodeB;while(node=node.parentNode){if(node===nodeA){return 20}parentsB.push(node)}parentsA.reverse();parentsB.reverse();if(parentsA[0]!==parentsB[0]){return 1}var i=-1;while(i++,parentsA[i]===parentsB[i]){}nodeA=parentsA[i];nodeB=parentsB[i];while(nodeA=nodeA.nextSibling){if(nodeA===nodeB){return 4}}return 2},getNodeIndex:function(node,ignoreTextNode){var preNode=node,i=0;while(preNode=preNode.previousSibling){if(ignoreTextNode&&preNode.nodeType==3){if(preNode.nodeType!=preNode.nextSibling.nodeType){i++}continue}i++}return i},inDoc:function(node,doc){return domUtils.getPosition(node,doc)==10},findParent:function(node,filterFn,includeSelf){if(node&&!domUtils.isBody(node)){node=includeSelf?node:node.parentNode;while(node){if(!filterFn||filterFn(node)||domUtils.isBody(node)){return filterFn&&!filterFn(node)&&domUtils.isBody(node)?null:node}node=node.parentNode}}return null},findParentByTagName:function(node,tagNames,includeSelf,excludeFn){tagNames=utils.listToMap(utils.isArray(tagNames)?tagNames:[tagNames]);return domUtils.findParent(node,function(node){return tagNames[node.tagName]&&!(excludeFn&&excludeFn(node))},includeSelf)},findParents:function(node,includeSelf,filterFn,closerFirst){var parents=includeSelf&&(filterFn&&filterFn(node)||!filterFn)?[node]:[];while(node=domUtils.findParent(node,filterFn)){parents.push(node)}return closerFirst?parents:parents.reverse()},insertAfter:function(node,newNode){return node.nextSibling?node.parentNode.insertBefore(newNode,node.nextSibling):node.parentNode.appendChild(newNode)},remove:function(node,keepChildren){var parent=node.parentNode,child;if(parent){if(keepChildren&&node.hasChildNodes()){while(child=node.firstChild){parent.insertBefore(child,node)}}parent.removeChild(node)}return node},getNextDomNode:function(node,startFromChild,filterFn,guard){return getDomNode(node,"firstChild","nextSibling",startFromChild,filterFn,guard)},getPreDomNode:function(node,startFromChild,filterFn,guard){return getDomNode(node,"lastChild","previousSibling",startFromChild,filterFn,guard)},isBookmarkNode:function(node){return node.nodeType==1&&node.id&&/^_baidu_bookmark_/i.test(node.id)},getWindow:function(node){var doc=node.ownerDocument||node;return doc.defaultView||doc.parentWindow},getCommonAncestor:function(nodeA,nodeB){if(nodeA===nodeB)return nodeA;var parentsA=[nodeA],parentsB=[nodeB],parent=nodeA,i=-1;while(parent=parent.parentNode){if(parent===nodeB){return parent}parentsA.push(parent)}parent=nodeB;while(parent=parent.parentNode){if(parent===nodeA)return parent;parentsB.push(parent)}parentsA.reverse();parentsB.reverse();while(i++,parentsA[i]===parentsB[i]){}return i==0?null:parentsA[i-1]},clearEmptySibling:function(node,ignoreNext,ignorePre){function clear(next,dir){var tmpNode;while(next&&!domUtils.isBookmarkNode(next)&&(domUtils.isEmptyInlineElement(next)||!(new RegExp("[^\t\n\r"+domUtils.fillChar+"]")).test(next.nodeValue))){tmpNode=next[dir];domUtils.remove(next);next=tmpNode}}!ignoreNext&&clear(node.nextSibling,"nextSibling");!ignorePre&&clear(node.previousSibling,"previousSibling")},split:function(node,offset){var doc=node.ownerDocument;if(browser.ie&&offset==node.nodeValue.length){var next=doc.createTextNode("");return domUtils.insertAfter(node,next)}var retval=node.splitText(offset);if(browser.ie8){var tmpNode=doc.createTextNode("");domUtils.insertAfter(retval,tmpNode);domUtils.remove(tmpNode)}return retval},isWhitespace:function(node){return!(new RegExp("[^ \t\n\r"+domUtils.fillChar+"]")).test(node.nodeValue)},getXY:function(element){var x=0,y=0;while(element.offsetParent){y+=element.offsetTop;x+=element.offsetLeft;element=element.offsetParent}return{x:x,y:y}},on:function(element,type,handler){var types=utils.isArray(type)?type:utils.trim(type).split(/\s+/),k=types.length;if(k)while(k--){type=types[k];if(element.addEventListener){element.addEventListener(type,handler,false)}else{if(!handler.cO){handler.cO={els:[]}}var key=type+handler.toString(),index=utils.indexOf(handler.cO.els,element);if(!handler.cO[key]||index==-1){if(index==-1){handler.cO.els.push(element)}if(!handler.cO[key]){handler.cO[key]=function(evt){return handler.call(evt.srcElement,evt||window.event)}}element.attachEvent("on"+type,handler.cO[key])}}}element=null},un:function(element,type,handler){var types=utils.isArray(type)?type:utils.trim(type).split(/\s+/),k=types.length;if(k)while(k--){type=types[k];if(element.removeEventListener){element.removeEventListener(type,handler,false)}else{var key=type+handler.toString();try{element.detachEvent("on"+type,handler.cO?handler.cO[key]:handler)}catch(e){}if(handler.cO&&handler.cO[key]){var index=utils.indexOf(handler.cO.els,element);if(index!=-1){handler.cO.els.splice(index,1)}handler.cO.els.length==0&&delete handler.cO[key]}}}},isSameElement:function(nodeA,nodeB){if(nodeA.tagName!=nodeB.tagName){return false}var thisAttrs=nodeA.attributes,otherAttrs=nodeB.attributes;if(!ie&&thisAttrs.length!=otherAttrs.length){return false}var attrA,attrB,al=0,bl=0;for(var i=0;attrA=thisAttrs[i++];){if(attrA.nodeName=="style"){if(attrA.specified){al++}if(domUtils.isSameStyle(nodeA,nodeB)){continue}else{return false}}if(ie){if(attrA.specified){al++;attrB=otherAttrs.getNamedItem(attrA.nodeName)}else{continue}}else{attrB=nodeB.attributes[attrA.nodeName]}if(!attrB.specified||attrA.nodeValue!=attrB.nodeValue){return false}}if(ie){for(i=0;attrB=otherAttrs[i++];){if(attrB.specified){bl++}}if(al!=bl){return false}}return true},isSameStyle:function(nodeA,nodeB){var styleA=nodeA.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":"),styleB=nodeB.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":");if(browser.opera){styleA=nodeA.style;styleB=nodeB.style;if(styleA.length!=styleB.length)return false;for(var p in styleA){if(/^(\d+|csstext)$/i.test(p)){continue}if(styleA[p]!=styleB[p]){return false}}return true}if(!styleA||!styleB){return styleA==styleB}styleA=styleA.split(";");styleB=styleB.split(";");if(styleA.length!=styleB.length){return false}for(var i=0,ci;ci=styleA[i++];){if(utils.indexOf(styleB,ci)==-1){return false}}return true},isBlockElm:function(node){return node.nodeType==1&&(dtd.$block[node.tagName]||styleBlock[domUtils.getComputedStyle(node,"display")])&&!dtd.$nonChild[node.tagName]},isBody:function(node){return node&&node.nodeType==1&&node.tagName.toLowerCase()=="body"},breakParent:function(node,parent){var tmpNode,parentClone=node,clone=node,leftNodes,rightNodes;do{parentClone=parentClone.parentNode;if(leftNodes){tmpNode=parentClone.cloneNode(false);tmpNode.appendChild(leftNodes);leftNodes=tmpNode;tmpNode=parentClone.cloneNode(false);tmpNode.appendChild(rightNodes);rightNodes=tmpNode}else{leftNodes=parentClone.cloneNode(false);rightNodes=leftNodes.cloneNode(false)}while(tmpNode=clone.previousSibling){leftNodes.insertBefore(tmpNode,leftNodes.firstChild)}while(tmpNode=clone.nextSibling){rightNodes.appendChild(tmpNode)}clone=parentClone}while(parent!==parentClone);tmpNode=parent.parentNode;tmpNode.insertBefore(leftNodes,parent);tmpNode.insertBefore(rightNodes,parent);tmpNode.insertBefore(node,rightNodes);domUtils.remove(parent);return node},isEmptyInlineElement:function(node){if(node.nodeType!=1||!dtd.$removeEmpty[node.tagName]){return 0}node=node.firstChild;while(node){if(domUtils.isBookmarkNode(node)){return 0}if(node.nodeType==1&&!domUtils.isEmptyInlineElement(node)||node.nodeType==3&&!domUtils.isWhitespace(node)){return 0}node=node.nextSibling}return 1},trimWhiteTextNode:function(node){function remove(dir){var child;while((child=node[dir])&&child.nodeType==3&&domUtils.isWhitespace(child)){node.removeChild(child)}}remove("firstChild");remove("lastChild")},mergeChild:function(node,tagName,attrs){var list=domUtils.getElementsByTagName(node,node.tagName.toLowerCase());for(var i=0,ci;ci=list[i++];){if(!ci.parentNode||domUtils.isBookmarkNode(ci)){continue}if(ci.tagName.toLowerCase()=="span"){if(node===ci.parentNode){domUtils.trimWhiteTextNode(node);if(node.childNodes.length==1){node.style.cssText=ci.style.cssText+";"+node.style.cssText;domUtils.remove(ci,true);continue}}ci.style.cssText=node.style.cssText+";"+ci.style.cssText;if(attrs){var style=attrs.style;if(style){style=style.split(";");for(var j=0,s;s=style[j++];){ci.style[utils.cssStyleToDomStyle(s.split(":")[0])]=s.split(":")[1]}}}if(domUtils.isSameStyle(ci,node)){domUtils.remove(ci,true)}continue}if(domUtils.isSameElement(node,ci)){domUtils.remove(ci,true)}}},getElementsByTagName:function(node,name,filter){if(filter&&utils.isString(filter)){var className=filter;filter=function(node){return domUtils.hasClass(node,className)}}name=utils.trim(name).replace(/[ ]{2,}/g," ").split(" ");var arr=[];for(var n=0,ni;ni=name[n++];){var list=node.getElementsByTagName(ni);for(var i=0,ci;ci=list[i++];){if(!filter||filter(ci))arr.push(ci)}}return arr},mergeToParent:function(node){var parent=node.parentNode;while(parent&&dtd.$removeEmpty[parent.tagName]){if(parent.tagName==node.tagName||parent.tagName=="A"){domUtils.trimWhiteTextNode(parent);if(parent.tagName=="SPAN"&&!domUtils.isSameStyle(parent,node)||parent.tagName=="A"&&node.tagName=="SPAN"){if(parent.childNodes.length>1||parent!==node.parentNode){node.style.cssText=parent.style.cssText+";"+node.style.cssText;parent=parent.parentNode;continue}else{parent.style.cssText+=";"+node.style.cssText;if(parent.tagName=="A"){parent.style.textDecoration="underline"}}}if(parent.tagName!="A"){parent===node.parentNode&&domUtils.remove(node,true);break}}parent=parent.parentNode}},mergeSibling:function(node,ignorePre,ignoreNext){function merge(rtl,start,node){var next;if((next=node[rtl])&&!domUtils.isBookmarkNode(next)&&next.nodeType==1&&domUtils.isSameElement(node,next)){while(next.firstChild){if(start=="firstChild"){node.insertBefore(next.lastChild,node.firstChild)}else{node.appendChild(next.firstChild)}}domUtils.remove(next)}}!ignorePre&&merge("previousSibling","firstChild",node);!ignoreNext&&merge("nextSibling","lastChild",node)},unSelectable:ie||browser.opera?function(node){node.onselectstart=function(){return false};node.onclick=node.onkeyup=node.onkeydown=function(){return false};node.unselectable="on";node.setAttribute("unselectable","on");for(var i=0,ci;ci=node.all[i++];){switch(ci.tagName.toLowerCase()){case"iframe":case"textarea":case"input":case"select":break;default:ci.unselectable="on";node.setAttribute("unselectable","on")}}}:function(node){node.style.MozUserSelect=node.style.webkitUserSelect=node.style.KhtmlUserSelect="none"},removeAttributes:function(node,attrNames){attrNames=utils.isArray(attrNames)?attrNames:utils.trim(attrNames).replace(/[ ]{2,}/g," ").split(" ");for(var i=0,ci;ci=attrNames[i++];){ci=attrFix[ci]||ci;switch(ci){case"className":node[ci]="";break;case"style":node.style.cssText="";var val=node.getAttributeNode("style");!browser.ie&&val&&node.removeAttributeNode(val)}node.removeAttribute(ci)}},createElement:function(doc,tag,attrs){return domUtils.setAttributes(doc.createElement(tag),attrs)},setAttributes:function(node,attrs){for(var attr in attrs){if(attrs.hasOwnProperty(attr)){var value=attrs[attr];switch(attr){case"class":node.className=value;break;case"style":node.style.cssText=node.style.cssText+";"+value;break;case"innerHTML":node[attr]=value;break;case"value":node.value=value;break;default:node.setAttribute(attrFix[attr]||attr,value)}}}return node},getComputedStyle:function(element,styleName){var pros="width height top left";if(pros.indexOf(styleName)>-1){return element["offset"+styleName.replace(/^\w/,function(s){return s.toUpperCase()})]+"px"}if(element.nodeType==3){element=element.parentNode}if(browser.ie&&browser.version<9&&styleName=="font-size"&&!element.style.fontSize&&!dtd.$empty[element.tagName]&&!dtd.$nonChild[element.tagName]){var span=element.ownerDocument.createElement("span");span.style.cssText="padding:0;border:0;font-family:simsun;";span.innerHTML=".";element.appendChild(span);var result=span.offsetHeight;element.removeChild(span);span=null;return result+"px"}try{var value=domUtils.getStyle(element,styleName)||(window.getComputedStyle?domUtils.getWindow(element).getComputedStyle(element,"").getPropertyValue(styleName):(element.currentStyle||element.style)[utils.cssStyleToDomStyle(styleName)])}catch(e){return""}return utils.transUnitToPx(utils.fixColor(styleName,value))},removeClasses:function(elm,classNames){classNames=utils.isArray(classNames)?classNames:utils.trim(classNames).replace(/[ ]{2,}/g," ").split(" ");for(var i=0,ci,cls=elm.className;ci=classNames[i++];){cls=cls.replace(new RegExp("\\b"+ci+"\\b"),"")}cls=utils.trim(cls).replace(/[ ]{2,}/g," ");if(cls){elm.className=cls}else{domUtils.removeAttributes(elm,["class"])}},addClass:function(elm,classNames){if(!elm)return;classNames=utils.trim(classNames).replace(/[ ]{2,}/g," ").split(" ");for(var i=0,ci,cls=elm.className;ci=classNames[i++];){if(!(new RegExp("\\b"+ci+"\\b")).test(cls)){cls+=" "+ci}}elm.className=utils.trim(cls)},hasClass:function(element,className){if(utils.isRegExp(className)){return className.test(element.className)}className=utils.trim(className).replace(/[ ]{2,}/g," ").split(" ");for(var i=0,ci,cls=element.className;ci=className[i++];){if(!(new RegExp("\\b"+ci+"\\b","i")).test(cls)){return false}}return i-1==className.length},preventDefault:function(evt){evt.preventDefault?evt.preventDefault():evt.returnValue=false},removeStyle:function(element,name){if(browser.ie){if(name=="color"){name="(^|;)"+name}element.style.cssText=element.style.cssText.replace(new RegExp(name+"[^:]*:[^;]+;?","ig"),"")}else{if(element.style.removeProperty){element.style.removeProperty(name)}else{element.style.removeAttribute(utils.cssStyleToDomStyle(name))}}if(!element.style.cssText){domUtils.removeAttributes(element,["style"])}},getStyle:function(element,name){var value=element.style[utils.cssStyleToDomStyle(name)];return utils.fixColor(name,value)},setStyle:function(element,name,value){element.style[utils.cssStyleToDomStyle(name)]=value;if(!utils.trim(element.style.cssText)){this.removeAttributes(element,"style")}},setStyles:function(element,styles){for(var name in styles){if(styles.hasOwnProperty(name)){domUtils.setStyle(element,name,styles[name])}}},removeDirtyAttr:function(node){for(var i=0,ci,nodes=node.getElementsByTagName("*");ci=nodes[i++];){ci.removeAttribute("_moz_dirty")}node.removeAttribute("_moz_dirty")},getChildCount:function(node,fn){var count=0,first=node.firstChild;fn=fn||function(){return 1};while(first){if(fn(first)){count++}first=first.nextSibling}return count},isEmptyNode:function(node){return!node.firstChild||domUtils.getChildCount(node,function(node){return!domUtils.isBr(node)&&!domUtils.isBookmarkNode(node)&&!domUtils.isWhitespace(node)})==0},clearSelectedArr:function(nodes){var node;while(node=nodes.pop()){domUtils.removeAttributes(node,["class"])}},scrollToView:function(node,win,offsetTop){var getViewPaneSize=function(){var doc=win.document,mode=doc.compatMode=="CSS1Compat";return{width:(mode?doc.documentElement.clientWidth:doc.body.clientWidth)||0,height:(mode?doc.documentElement.clientHeight:doc.body.clientHeight)||0}},getScrollPosition=function(win){if("pageXOffset"in win){return{x:win.pageXOffset||0,y:win.pageYOffset||0}}else{var doc=win.document;return{x:doc.documentElement.scrollLeft||doc.body.scrollLeft||0,y:doc.documentElement.scrollTop||doc.body.scrollTop||0}}};var winHeight=getViewPaneSize().height,offset=winHeight*-1+offsetTop;offset+=node.offsetHeight||0;var elementPosition=domUtils.getXY(node);offset+=elementPosition.y;var currentScroll=getScrollPosition(win).y;if(offset>currentScroll||offset<currentScroll-winHeight){win.scrollTo(0,offset+(offset<0?-20:20))}},isBr:function(node){return node.nodeType==1&&node.tagName=="BR"},isFillChar:function(node,isInStart){if(node.nodeType!=3)return false;var text=node.nodeValue;if(isInStart){return(new RegExp("^"+domUtils.fillChar)).test(text)}return!text.replace(new RegExp(domUtils.fillChar,"g"),"").length},isStartInblock:function(range){var tmpRange=range.cloneRange(),flag=0,start=tmpRange.startContainer,tmp;if(start.nodeType==1&&start.childNodes[tmpRange.startOffset]){start=start.childNodes[tmpRange.startOffset];var pre=start.previousSibling;while(pre&&domUtils.isFillChar(pre)){start=pre;pre=pre.previousSibling}}if(this.isFillChar(start,true)&&tmpRange.startOffset==1){tmpRange.setStartBefore(start);start=tmpRange.startContainer}while(start&&domUtils.isFillChar(start)){tmp=start;start=start.previousSibling}if(tmp){tmpRange.setStartBefore(tmp);start=tmpRange.startContainer}if(start.nodeType==1&&domUtils.isEmptyNode(start)&&tmpRange.startOffset==1){tmpRange.setStart(start,0).collapse(true)}while(!tmpRange.startOffset){start=tmpRange.startContainer;if(domUtils.isBlockElm(start)||domUtils.isBody(start)){flag=1;break}var pre=tmpRange.startContainer.previousSibling,tmpNode;if(!pre){tmpRange.setStartBefore(tmpRange.startContainer)}else{while(pre&&domUtils.isFillChar(pre)){tmpNode=pre;pre=pre.previousSibling}if(tmpNode){tmpRange.setStartBefore(tmpNode)}else{tmpRange.setStartBefore(tmpRange.startContainer)}}}return flag&&!domUtils.isBody(tmpRange.startContainer)?1:0},isEmptyBlock:function(node,reg){if(node.nodeType!=1)return 0;reg=reg||new RegExp("[ \t\r\n"+domUtils.fillChar+"]","g");if(node[browser.ie?"innerText":"textContent"].replace(reg,"").length>0){return 0}for(var n in dtd.$isNotEmpty){if(node.getElementsByTagName(n).length){return 0}}return 1},setViewportOffset:function(element,offset){var left=parseInt(element.style.left)|0;var top=parseInt(element.style.top)|0;var rect=element.getBoundingClientRect();var offsetLeft=offset.left-rect.left;var offsetTop=offset.top-rect.top;if(offsetLeft){element.style.left=left+offsetLeft+"px"}if(offsetTop){element.style.top=top+offsetTop+"px"}},fillNode:function(doc,node){var tmpNode=browser.ie?doc.createTextNode(domUtils.fillChar):doc.createElement("br");node.innerHTML="";node.appendChild(tmpNode)},moveChild:function(src,tag,dir){while(src.firstChild){if(dir&&tag.firstChild){tag.insertBefore(src.lastChild,tag.firstChild)}else{tag.appendChild(src.firstChild)}}},hasNoAttributes:function(node){return browser.ie?/^<\w+\s*?>/.test(node.outerHTML):node.attributes.length==0},isCustomeNode:function(node){return node.nodeType==1&&node.getAttribute("_ue_custom_node_")},isTagNode:function(node,tagNames){return node.nodeType==1&&(new RegExp("\\b"+node.tagName+"\\b","i")).test(tagNames)},filterNodeList:function(nodelist,filter,forAll){var results=[];if(!utils.isFunction(filter)){var str=filter;filter=function(n){return utils.indexOf(utils.isArray(str)?str:str.split(" "),n.tagName.toLowerCase())!=-1}}utils.each(nodelist,function(n){filter(n)&&results.push(n)});return results.length==0?null:results.length==1||!forAll?results[0]:results},isInNodeEndBoundary:function(rng,node){var start=rng.startContainer;if(start.nodeType==3&&rng.startOffset!=start.nodeValue.length){return 0}if(start.nodeType==1&&rng.startOffset!=start.childNodes.length){return 0}while(start!==node){if(start.nextSibling){return 0}start=start.parentNode}return 1},isBoundaryNode:function(node,dir){var tmp;while(!domUtils.isBody(node)){tmp=node;node=node.parentNode;if(tmp!==node[dir]){return false}}return true}};var fillCharReg=new RegExp(domUtils.fillChar,"g");(function(){var guid=0,fillChar=domUtils.fillChar,fillData;function updateCollapse(range){range.collapsed=range.startContainer&&range.endContainer&&range.startContainer===range.endContainer&&range.startOffset==range.endOffset}function selectOneNode(rng){return!rng.collapsed&&rng.startContainer.nodeType==1&&rng.startContainer===rng.endContainer&&rng.endOffset-rng.startOffset==1}function setEndPoint(toStart,node,offset,range){if(node.nodeType==1&&(dtd.$empty[node.tagName]||dtd.$nonChild[node.tagName])){offset=domUtils.getNodeIndex(node)+(toStart?0:1);node=node.parentNode}if(toStart){range.startContainer=node;range.startOffset=offset;if(!range.endContainer){range.collapse(true)}}else{range.endContainer=node;range.endOffset=offset;if(!range.startContainer){range.collapse(false)}}updateCollapse(range);return range}function execContentsAction(range,action){var start=range.startContainer,end=range.endContainer,startOffset=range.startOffset,endOffset=range.endOffset,doc=range.document,frag=doc.createDocumentFragment(),tmpStart,tmpEnd;if(start.nodeType==1){start=start.childNodes[startOffset]||(tmpStart=start.appendChild(doc.createTextNode("")))}if(end.nodeType==1){end=end.childNodes[endOffset]||(tmpEnd=end.appendChild(doc.createTextNode("")))}if(start===end&&start.nodeType==3){frag.appendChild(doc.createTextNode(start.substringData(startOffset,endOffset-startOffset)));if(action){start.deleteData(startOffset,endOffset-startOffset);range.collapse(true)}return frag}var current,currentLevel,clone=frag,startParents=domUtils.findParents(start,true),endParents=domUtils.findParents(end,true);for(var i=0;startParents[i]==endParents[i];){i++}for(var j=i,si;si=startParents[j];j++){current=si.nextSibling;if(si==start){if(!tmpStart){if(range.startContainer.nodeType==3){clone.appendChild(doc.createTextNode(start.nodeValue.slice(startOffset)));if(action){start.deleteData(startOffset,start.nodeValue.length-startOffset)}}else{clone.appendChild(!action?start.cloneNode(true):start)}}}else{currentLevel=si.cloneNode(false);clone.appendChild(currentLevel)}while(current){if(current===end||current===endParents[j]){break}si=current.nextSibling;clone.appendChild(!action?current.cloneNode(true):current);current=si}clone=currentLevel}clone=frag;if(!startParents[i]){clone.appendChild(startParents[i-1].cloneNode(false));clone=clone.firstChild}for(var j=i,ei;ei=endParents[j];j++){current=ei.previousSibling;if(ei==end){if(!tmpEnd&&range.endContainer.nodeType==3){clone.appendChild(doc.createTextNode(end.substringData(0,endOffset)));if(action){end.deleteData(0,endOffset)}}}else{currentLevel=ei.cloneNode(false);clone.appendChild(currentLevel)}if(j!=i||!startParents[i]){while(current){if(current===start){break}ei=current.previousSibling;clone.insertBefore(!action?current.cloneNode(true):current,clone.firstChild);current=ei}}clone=currentLevel}if(action){range.setStartBefore(!endParents[i]?endParents[i-1]:!startParents[i]?startParents[i-1]:endParents[i]).collapse(true)}tmpStart&&domUtils.remove(tmpStart);tmpEnd&&domUtils.remove(tmpEnd);return frag}var Range=dom.Range=function(document){var me=this;me.startContainer=me.startOffset=me.endContainer=me.endOffset=null;me.document=document;me.collapsed=true};function removeFillData(doc,excludeNode){try{if(fillData&&domUtils.inDoc(fillData,doc)){if(!fillData.nodeValue.replace(fillCharReg,"").length){var tmpNode=fillData.parentNode;domUtils.remove(fillData);while(tmpNode&&domUtils.isEmptyInlineElement(tmpNode)&&(browser.safari?!(domUtils.getPosition(tmpNode,excludeNode)&domUtils.POSITION_CONTAINS):!tmpNode.contains(excludeNode))){fillData=tmpNode.parentNode;domUtils.remove(tmpNode);tmpNode=fillData}}else{fillData.nodeValue=fillData.nodeValue.replace(fillCharReg,"")}}}catch(e){}}function mergeSibling(node,dir){var tmpNode;node=node[dir];while(node&&domUtils.isFillChar(node)){tmpNode=node[dir];domUtils.remove(node);node=tmpNode}}Range.prototype={cloneContents:function(){return this.collapsed?null:execContentsAction(this,0)},deleteContents:function(){var txt;if(!this.collapsed){execContentsAction(this,1)}if(browser.webkit){txt=this.startContainer;if(txt.nodeType==3&&!txt.nodeValue.length){this.setStartBefore(txt).collapse(true);domUtils.remove(txt)}}return this},extractContents:function(){return this.collapsed?null:execContentsAction(this,2)},setStart:function(node,offset){return setEndPoint(true,node,offset,this)},setEnd:function(node,offset){return setEndPoint(false,node,offset,this)},setStartAfter:function(node){return this.setStart(node.parentNode,domUtils.getNodeIndex(node)+1)},setStartBefore:function(node){return this.setStart(node.parentNode,domUtils.getNodeIndex(node))},setEndAfter:function(node){return this.setEnd(node.parentNode,domUtils.getNodeIndex(node)+1)},setEndBefore:function(node){return this.setEnd(node.parentNode,domUtils.getNodeIndex(node))},setStartAtFirst:function(node){return this.setStart(node,0)},setStartAtLast:function(node){return this.setStart(node,node.nodeType==3?node.nodeValue.length:node.childNodes.length)},setEndAtFirst:function(node){return this.setEnd(node,0)},setEndAtLast:function(node){return this.setEnd(node,node.nodeType==3?node.nodeValue.length:node.childNodes.length)},selectNode:function(node){return this.setStartBefore(node).setEndAfter(node)},selectNodeContents:function(node){return this.setStart(node,0).setEndAtLast(node)},cloneRange:function(){var me=this;return(new Range(me.document)).setStart(me.startContainer,me.startOffset).setEnd(me.endContainer,me.endOffset)},collapse:function(toStart){var me=this;if(toStart){me.endContainer=me.startContainer;me.endOffset=me.startOffset}else{me.startContainer=me.endContainer;me.startOffset=me.endOffset}me.collapsed=true;return me},shrinkBoundary:function(ignoreEnd){var me=this,child,collapsed=me.collapsed;function check(node){return node.nodeType==1&&!domUtils.isBookmarkNode(node)&&!dtd.$empty[node.tagName]&&!dtd.$nonChild[node.tagName]}while(me.startContainer.nodeType==1&&(child=me.startContainer.childNodes[me.startOffset])&&check(child)){me.setStart(child,0)}if(collapsed){return me.collapse(true)}if(!ignoreEnd){while(me.endContainer.nodeType==1&&me.endOffset>0&&(child=me.endContainer.childNodes[me.endOffset-1])&&check(child)){me.setEnd(child,child.childNodes.length)}}return me},getCommonAncestor:function(includeSelf,ignoreTextNode){var me=this,start=me.startContainer,end=me.endContainer;if(start===end){if(includeSelf&&selectOneNode(this)){start=start.childNodes[me.startOffset];if(start.nodeType==1)return start}return ignoreTextNode&&start.nodeType==3?start.parentNode:start}return domUtils.getCommonAncestor(start,end)},trimBoundary:function(ignoreEnd){this.txtToElmBoundary();var start=this.startContainer,offset=this.startOffset,collapsed=this.collapsed,end=this.endContainer;if(start.nodeType==3){if(offset==0){this.setStartBefore(start)}else{if(offset>=start.nodeValue.length){this.setStartAfter(start)}else{var textNode=domUtils.split(start,offset);if(start===end){this.setEnd(textNode,this.endOffset-offset)}else if(start.parentNode===end){this.endOffset+=1}this.setStartBefore(textNode)}}if(collapsed){return this.collapse(true)}}if(!ignoreEnd){offset=this.endOffset;end=this.endContainer;if(end.nodeType==3){if(offset==0){this.setEndBefore(end)}else{offset<end.nodeValue.length&&domUtils.split(end,offset);this.setEndAfter(end)}}}return this},txtToElmBoundary:function(ignoreCollapsed){function adjust(r,c){var container=r[c+"Container"],offset=r[c+"Offset"];if(container.nodeType==3){if(!offset){r["set"+c.replace(/(\w)/,function(a){return a.toUpperCase()})+"Before"](container)}else if(offset>=container.nodeValue.length){r["set"+c.replace(/(\w)/,function(a){return a.toUpperCase()})+"After"](container)}}}if(ignoreCollapsed||!this.collapsed){adjust(this,"start");adjust(this,"end")}return this},insertNode:function(node){var first=node,length=1;if(node.nodeType==11){first=node.firstChild;length=node.childNodes.length}this.trimBoundary(true);var start=this.startContainer,offset=this.startOffset;var nextNode=start.childNodes[offset];if(nextNode){start.insertBefore(node,nextNode)}else{start.appendChild(node)}if(first.parentNode===this.endContainer){this.endOffset=this.endOffset+length}return this.setStartBefore(first)},setCursor:function(toEnd,noFillData){return this.collapse(!toEnd).select(noFillData)},createBookmark:function(serialize,same){var endNode,startNode=this.document.createElement("span");startNode.style.cssText="display:none;line-height:0px;";startNode.appendChild(this.document.createTextNode("‍"));startNode.id="_baidu_bookmark_start_"+(same?"":guid++);if(!this.collapsed){endNode=startNode.cloneNode(true);endNode.id="_baidu_bookmark_end_"+(same?"":guid++)}this.insertNode(startNode);if(endNode){this.collapse().insertNode(endNode).setEndBefore(endNode)}this.setStartAfter(startNode);return{start:serialize?startNode.id:startNode,end:endNode?serialize?endNode.id:endNode:null,id:serialize}},moveToBookmark:function(bookmark){var start=bookmark.id?this.document.getElementById(bookmark.start):bookmark.start,end=bookmark.end&&bookmark.id?this.document.getElementById(bookmark.end):bookmark.end;this.setStartBefore(start);domUtils.remove(start);if(end){this.setEndBefore(end);domUtils.remove(end)}else{this.collapse(true)}return this},enlarge:function(toBlock,stopFn){var isBody=domUtils.isBody,pre,node,tmp=this.document.createTextNode("");if(toBlock){node=this.startContainer;if(node.nodeType==1){if(node.childNodes[this.startOffset]){pre=node=node.childNodes[this.startOffset]}else{node.appendChild(tmp);pre=node=tmp}}else{pre=node}while(1){if(domUtils.isBlockElm(node)){node=pre;while((pre=node.previousSibling)&&!domUtils.isBlockElm(pre)){node=pre}this.setStartBefore(node);break}pre=node;node=node.parentNode}node=this.endContainer;if(node.nodeType==1){if(pre=node.childNodes[this.endOffset]){node.insertBefore(tmp,pre)}else{node.appendChild(tmp)}pre=node=tmp}else{pre=node}while(1){if(domUtils.isBlockElm(node)){node=pre;while((pre=node.nextSibling)&&!domUtils.isBlockElm(pre)){node=pre}this.setEndAfter(node);break}pre=node;node=node.parentNode}if(tmp.parentNode===this.endContainer){this.endOffset--}domUtils.remove(tmp)}if(!this.collapsed){while(this.startOffset==0){if(stopFn&&stopFn(this.startContainer)){break}if(isBody(this.startContainer)){break}this.setStartBefore(this.startContainer)}while(this.endOffset==(this.endContainer.nodeType==1?this.endContainer.childNodes.length:this.endContainer.nodeValue.length)){if(stopFn&&stopFn(this.endContainer)){break}if(isBody(this.endContainer)){break}this.setEndAfter(this.endContainer)}}return this},enlargeToBlockElm:function(ignoreEnd){while(!domUtils.isBlockElm(this.startContainer)){this.setStartBefore(this.startContainer)}if(!ignoreEnd){while(!domUtils.isBlockElm(this.endContainer)){this.setEndAfter(this.endContainer)}}return this},adjustmentBoundary:function(){if(!this.collapsed){while(!domUtils.isBody(this.startContainer)&&this.startOffset==this.startContainer[this.startContainer.nodeType==3?"nodeValue":"childNodes"].length&&this.startContainer[this.startContainer.nodeType==3?"nodeValue":"childNodes"].length){this.setStartAfter(this.startContainer)}while(!domUtils.isBody(this.endContainer)&&!this.endOffset&&this.endContainer[this.endContainer.nodeType==3?"nodeValue":"childNodes"].length){this.setEndBefore(this.endContainer)}}return this},applyInlineStyle:function(tagName,attrs,list){if(this.collapsed)return this;this.trimBoundary().enlarge(false,function(node){return node.nodeType==1&&domUtils.isBlockElm(node)}).adjustmentBoundary();var bookmark=this.createBookmark(),end=bookmark.end,filterFn=function(node){return node.nodeType==1?node.tagName.toLowerCase()!="br":!domUtils.isWhitespace(node)},current=domUtils.getNextDomNode(bookmark.start,false,filterFn),node,pre,range=this.cloneRange();while(current&&domUtils.getPosition(current,end)&domUtils.POSITION_PRECEDING){if(current.nodeType==3||dtd[tagName][current.tagName]){range.setStartBefore(current);node=current;while(node&&(node.nodeType==3||dtd[tagName][node.tagName])&&node!==end){pre=node;node=domUtils.getNextDomNode(node,node.nodeType==1,null,function(parent){return dtd[tagName][parent.tagName]})}var frag=range.setEndAfter(pre).extractContents(),elm;if(list&&list.length>0){var level,top;top=level=list[0].cloneNode(false);for(var i=1,ci;ci=list[i++];){level.appendChild(ci.cloneNode(false));level=level.firstChild}elm=level}else{elm=range.document.createElement(tagName)}if(attrs){domUtils.setAttributes(elm,attrs)}elm.appendChild(frag);range.insertNode(list?top:elm);var aNode;if(tagName=="span"&&attrs.style&&/text\-decoration/.test(attrs.style)&&(aNode=domUtils.findParentByTagName(elm,"a",true))){domUtils.setAttributes(aNode,attrs);domUtils.remove(elm,true);elm=aNode}else{domUtils.mergeSibling(elm);domUtils.clearEmptySibling(elm)}domUtils.mergeChild(elm,attrs);current=domUtils.getNextDomNode(elm,false,filterFn);domUtils.mergeToParent(elm);if(node===end){break}}else{current=domUtils.getNextDomNode(current,true,filterFn)}}return this.moveToBookmark(bookmark)},removeInlineStyle:function(tagNames){if(this.collapsed)return this;tagNames=utils.isArray(tagNames)?tagNames:[tagNames];this.shrinkBoundary().adjustmentBoundary();var start=this.startContainer,end=this.endContainer;while(1){if(start.nodeType==1){if(utils.indexOf(tagNames,start.tagName.toLowerCase())>-1){break}if(start.tagName.toLowerCase()=="body"){start=null;break}}start=start.parentNode}while(1){if(end.nodeType==1){if(utils.indexOf(tagNames,end.tagName.toLowerCase())>-1){break}if(end.tagName.toLowerCase()=="body"){end=null;break}}end=end.parentNode}var bookmark=this.createBookmark(),frag,tmpRange;if(start){tmpRange=this.cloneRange().setEndBefore(bookmark.start).setStartBefore(start);frag=tmpRange.extractContents();tmpRange.insertNode(frag);domUtils.clearEmptySibling(start,true);start.parentNode.insertBefore(bookmark.start,start)}if(end){tmpRange=this.cloneRange().setStartAfter(bookmark.end).setEndAfter(end);frag=tmpRange.extractContents();tmpRange.insertNode(frag);domUtils.clearEmptySibling(end,false,true);end.parentNode.insertBefore(bookmark.end,end.nextSibling)}var current=domUtils.getNextDomNode(bookmark.start,false,function(node){return node.nodeType==1}),next;while(current&&current!==bookmark.end){next=domUtils.getNextDomNode(current,true,function(node){return node.nodeType==1});if(utils.indexOf(tagNames,current.tagName.toLowerCase())>-1){domUtils.remove(current,true)}current=next}return this.moveToBookmark(bookmark)},getClosedNode:function(){var node;if(!this.collapsed){var range=this.cloneRange().adjustmentBoundary().shrinkBoundary();if(selectOneNode(range)){var child=range.startContainer.childNodes[range.startOffset];if(child&&child.nodeType==1&&(dtd.$empty[child.tagName]||dtd.$nonChild[child.tagName])){node=child}}}return node},select:browser.ie?function(noFillData,textRange){var nativeRange;if(!this.collapsed)this.shrinkBoundary();var node=this.getClosedNode();if(node&&!textRange){try{nativeRange=this.document.body.createControlRange();nativeRange.addElement(node);nativeRange.select()}catch(e){}return this}var bookmark=this.createBookmark(),start=bookmark.start,end;nativeRange=this.document.body.createTextRange();nativeRange.moveToElementText(start);nativeRange.moveStart("character",1);if(!this.collapsed){var nativeRangeEnd=this.document.body.createTextRange();end=bookmark.end;nativeRangeEnd.moveToElementText(end);nativeRange.setEndPoint("EndToEnd",nativeRangeEnd)}else{if(!noFillData&&this.startContainer.nodeType!=3){var tmpText=this.document.createTextNode(fillChar),tmp=this.document.createElement("span");tmp.appendChild(this.document.createTextNode(fillChar));start.parentNode.insertBefore(tmp,start);start.parentNode.insertBefore(tmpText,start);removeFillData(this.document,tmpText);fillData=tmpText;mergeSibling(tmp,"previousSibling");mergeSibling(start,"nextSibling");nativeRange.moveStart("character",-1);nativeRange.collapse(true)}}this.moveToBookmark(bookmark);tmp&&domUtils.remove(tmp);try{nativeRange.select()}catch(e){}return this}:function(notInsertFillData){function checkOffset(rng){function check(node,offset,dir){if(node.nodeType==3&&node.nodeValue.length<offset){rng[dir+"Offset"]=node.nodeValue.length}}check(rng.startContainer,rng.startOffset,"start");check(rng.endContainer,rng.endOffset,"end")}var win=domUtils.getWindow(this.document),sel=win.getSelection(),txtNode;browser.gecko?this.document.body.focus():win.focus();if(sel){sel.removeAllRanges();if(this.collapsed&&!notInsertFillData){var start=this.startContainer,child=start;if(start.nodeType==1){child=start.childNodes[this.startOffset]}if(!(start.nodeType==3&&this.startOffset)&&(child?!child.previousSibling||child.previousSibling.nodeType!=3:!start.lastChild||start.lastChild.nodeType!=3)){txtNode=this.document.createTextNode(fillChar);this.insertNode(txtNode);removeFillData(this.document,txtNode);mergeSibling(txtNode,"previousSibling");mergeSibling(txtNode,"nextSibling");fillData=txtNode;this.setStart(txtNode,browser.webkit?1:0).collapse(true)}}var nativeRange=this.document.createRange();if(this.collapsed&&browser.opera&&this.startContainer.nodeType==1){var child=this.startContainer.childNodes[this.startOffset];if(!child){child=this.startContainer.lastChild;if(child&&domUtils.isBr(child)){this.setStartBefore(child).collapse(true)}}else{while(child&&domUtils.isBlockElm(child)){if(child.nodeType==1&&child.childNodes[0]){child=child.childNodes[0]}else{break}}child&&this.setStartBefore(child).collapse(true)}}checkOffset(this);nativeRange.setStart(this.startContainer,this.startOffset);nativeRange.setEnd(this.endContainer,this.endOffset);sel.addRange(nativeRange)}return this},scrollToView:function(win,offset){win=win?window:domUtils.getWindow(this.document);var me=this,span=me.document.createElement("span");span.innerHTML="&nbsp;";me.cloneRange().insertNode(span);domUtils.scrollToView(span,win,offset);domUtils.remove(span);return me},inFillChar:function(){var start=this.startContainer;if(this.collapsed&&start.nodeType==3&&start.nodeValue.replace(new RegExp("^"+domUtils.fillChar),"").length+1==start.nodeValue.length){return true}return false},createAddress:function(ignoreEnd,ignoreTxt){var addr={},me=this;function getAddress(isStart){var node=isStart?me.startContainer:me.endContainer;var parents=domUtils.findParents(node,true,function(node){return!domUtils.isBody(node)}),addrs=[];for(var i=0,ci;ci=parents[i++];){addrs.push(domUtils.getNodeIndex(ci,ignoreTxt))}var firstIndex=0;if(ignoreTxt){if(node.nodeType==3){var tmpNode=node.previousSibling;while(tmpNode&&tmpNode.nodeType==3){firstIndex+=tmpNode.nodeValue.replace(fillCharReg,"").length;tmpNode=tmpNode.previousSibling}firstIndex+=isStart?me.startOffset:me.endOffset}else{node=node.childNodes[isStart?me.startOffset:me.endOffset];if(node){firstIndex=domUtils.getNodeIndex(node,ignoreTxt)}else{node=isStart?me.startContainer:me.endContainer;var first=node.firstChild;while(first){if(domUtils.isFillChar(first)){first=first.nextSibling;continue}firstIndex++;if(first.nodeType==3){while(first&&first.nodeType==3){first=first.nextSibling}}else{first=first.nextSibling}}}}}else{firstIndex=isStart?domUtils.isFillChar(node)?0:me.startOffset:me.endOffset}if(firstIndex<0){firstIndex=0}addrs.push(firstIndex);return addrs}addr.startAddress=getAddress(true);if(!ignoreEnd){addr.endAddress=me.collapsed?[].concat(addr.startAddress):getAddress()}return addr},moveToAddress:function(addr,ignoreEnd){var me=this;function getNode(address,isStart){var tmpNode=me.document.body,parentNode,offset;for(var i=0,ci,l=address.length;i<l;i++){ci=address[i];parentNode=tmpNode;tmpNode=tmpNode.childNodes[ci];if(!tmpNode){offset=ci;break}}if(isStart){if(tmpNode){me.setStartBefore(tmpNode)}else{me.setStart(parentNode,offset)}}else{if(tmpNode){me.setEndBefore(tmpNode)}else{me.setEnd(parentNode,offset)}}}getNode(addr.startAddress,true);!ignoreEnd&&addr.endAddress&&getNode(addr.endAddress);return me},equals:function(rng){for(var p in this){if(this.hasOwnProperty(p)){if(this[p]!==rng[p])return false}}return true},traversal:function(doFn,filterFn){if(this.collapsed)return this;var bookmark=this.createBookmark(),end=bookmark.end,current=domUtils.getNextDomNode(bookmark.start,false,filterFn);while(current&&current!==end&&domUtils.getPosition(current,end)&domUtils.POSITION_PRECEDING){var tmpNode=domUtils.getNextDomNode(current,false,filterFn);doFn(current);current=tmpNode}return this.moveToBookmark(bookmark)}}})();(function(){function getBoundaryInformation(range,start){var getIndex=domUtils.getNodeIndex;range=range.duplicate();range.collapse(start);var parent=range.parentElement();if(!parent.hasChildNodes()){return{container:parent,offset:0}}var siblings=parent.children,child,testRange=range.duplicate(),startIndex=0,endIndex=siblings.length-1,index=-1,distance;while(startIndex<=endIndex){index=Math.floor((startIndex+endIndex)/2);child=siblings[index];testRange.moveToElementText(child);var position=testRange.compareEndPoints("StartToStart",range);if(position>0){endIndex=index-1}else if(position<0){startIndex=index+1}else{return{container:parent,offset:getIndex(child)}}}if(index==-1){testRange.moveToElementText(parent);testRange.setEndPoint("StartToStart",range);distance=testRange.text.replace(/(\r\n|\r)/g,"\n").length;siblings=parent.childNodes;if(!distance){child=siblings[siblings.length-1];return{container:child,offset:child.nodeValue.length}}var i=siblings.length;while(distance>0){distance-=siblings[--i].nodeValue.length}return{container:siblings[i],offset:-distance}}testRange.collapse(position>0);testRange.setEndPoint(position>0?"StartToStart":"EndToStart",range);distance=testRange.text.replace(/(\r\n|\r)/g,"\n").length;if(!distance){return dtd.$empty[child.tagName]||dtd.$nonChild[child.tagName]?{container:parent,offset:getIndex(child)+(position>0?0:1)}:{container:child,offset:position>0?0:child.childNodes.length}}while(distance>0){try{var pre=child;child=child[position>0?"previousSibling":"nextSibling"];distance-=child.nodeValue.length}catch(e){return{container:parent,offset:getIndex(pre)}}}return{container:child,offset:position>0?-distance:child.nodeValue.length+distance}}function transformIERangeToRange(ieRange,range){if(ieRange.item){range.selectNode(ieRange.item(0))}else{var bi=getBoundaryInformation(ieRange,true);range.setStart(bi.container,bi.offset);if(ieRange.compareEndPoints("StartToEnd",ieRange)!=0){bi=getBoundaryInformation(ieRange,false);range.setEnd(bi.container,bi.offset)}}return range}function bQn(sel){var ieRange;try{ieRange=sel.getNative().createRange()}catch(e){return null}var el=ieRange.item?ieRange.item(0):ieRange.parentElement();if((el.ownerDocument||el)===sel.document){return ieRange}return null}var Selection=dom.Selection=function(doc){var me=this,iframe;me.document=doc;if(browser.ie9below){iframe=domUtils.getWindow(doc).frameElement;domUtils.on(iframe,"beforedeactivate",function(){me.Ys=me.getIERange()});domUtils.on(iframe,"activate",function(){try{if(!bQn(me)&&me.Ys){me.Ys.select()}}catch(ex){}me.Ys=null})}iframe=doc=null};Selection.prototype={rangeInBody:function(rng,txtRange){var node=browser.ie9below||txtRange?rng.item?rng.item():rng.parentElement():rng.startContainer;return node===this.document.body||domUtils.inDoc(node,this.document)},getNative:function(){var doc=this.document;try{return!doc?null:browser.ie9below?doc.selection:domUtils.getWindow(doc).getSelection()}catch(e){return null}},getIERange:function(){var ieRange=bQn(this);if(!ieRange){if(this.Ys){return this.Ys}}return ieRange},cache:function(){this.clear();this.bpz=this.getRange();this.bpx=this.getStart();this.bQt=this.getStartElementPath()},getStartElementPath:function(){if(this.bQt){return this.bQt}var start=this.getStart();if(start){return domUtils.findParents(start,true,null,true)}return[]},clear:function(){this.bQt=this.bpz=this.bpx=null},isFocus:function(){try{if(browser.ie9below){var nativeRange=bQn(this);return!!(nativeRange&&this.rangeInBody(nativeRange))}else{return!!this.getNative().rangeCount}}catch(e){return false}},getRange:function(){var me=this;function optimze(range){var child=me.document.body.firstChild,collapsed=range.collapsed;while(child&&child.firstChild){range.setStart(child,0);child=child.firstChild}if(!range.startContainer){range.setStart(me.document.body,0)}if(collapsed){range.collapse(true)}}if(me.bpz!=null){return this.bpz}var range=new baidu.editor.dom.Range(me.document);if(browser.ie9below){var nativeRange=me.getIERange();if(nativeRange){try{transformIERangeToRange(nativeRange,range)}catch(e){optimze(range)}}else{optimze(range)}}else{var sel=me.getNative();if(sel&&sel.rangeCount){var firstRange=sel.getRangeAt(0);var lastRange=sel.getRangeAt(sel.rangeCount-1);range.setStart(firstRange.startContainer,firstRange.startOffset).setEnd(lastRange.endContainer,lastRange.endOffset);if(range.collapsed&&domUtils.isBody(range.startContainer)&&!range.startOffset){optimze(range)}}else{if(this.Sl&&domUtils.inDoc(this.Sl.startContainer,this.document)){return this.Sl}optimze(range)}}return this.Sl=range},getStart:function(){if(this.bpx){return this.bpx}var range=browser.ie9below?this.getIERange():this.getRange(),tmpRange,start,tmp,parent;if(browser.ie9below){if(!range){return this.document.body.firstChild}if(range.item){return range.item(0)}tmpRange=range.duplicate();tmpRange.text.length>0&&tmpRange.moveStart("character",1);tmpRange.collapse(1);start=tmpRange.parentElement();parent=tmp=range.parentElement();while(tmp=tmp.parentNode){if(tmp==start){start=parent;break}}}else{range.shrinkBoundary();start=range.startContainer;if(start.nodeType==1&&start.hasChildNodes()){start=start.childNodes[Math.min(start.childNodes.length-1,range.startOffset)]}if(start.nodeType==3){return start.parentNode}}return start},getText:function(){var nativeSel,nativeRange;if(this.isFocus()&&(nativeSel=this.getNative())){nativeRange=browser.ie9below?nativeSel.createRange():nativeSel.getRangeAt(0);return browser.ie9below?nativeRange.text:nativeRange.toString()}return""},clearRange:function(){this.getNative()[browser.ie9below?"empty":"removeAllRanges"]()}}})();(function(){var uid=0,cfo;function setValue(form,editor){var textarea;if(editor.textarea){if(utils.isString(editor.textarea)){for(var i=0,ti,tis=domUtils.getElementsByTagName(form,"textarea");ti=tis[i++];){if(ti.id=="ueditor_textarea_"+editor.options.textarea){textarea=ti;break}}}else{textarea=editor.textarea}}if(!textarea){form.appendChild(textarea=domUtils.createElement(document,"textarea",{name:editor.options.textarea,id:"ueditor_textarea_"+editor.options.textarea,style:"display:none"}));editor.textarea=textarea}textarea.value=editor.hasContents()?editor.options.allHtmlEnabled?editor.getAllHtml():editor.getContent(null,null,true):""}function loadPlugins(me){for(var pi in UE.plugins){UE.plugins[pi].call(me)}}function checkCurLang(I18N){for(var lang in I18N){return lang}}function langReadied(me){me.langIsReady=true;me.fireEvent("langReady")}var Editor=UE.Editor=function(options){var me=this;me.uid=uid++;EventBase.call(me);me.commands={};me.options=utils.extend(utils.clone(options||{}),UEDITOR_CONFIG,true);me.shortcutkeys={};me.inputRules=[];me.outputRules=[];me.setOpt({isShow:true,initialContent:"",initialStyle:"",autoClearinitialContent:false,iframeCssUrl:me.options.UEDITOR_HOME_URL+"themes/iframe.css",textarea:"editorValue",focus:false,focusInEnd:true,autoClearEmptyNode:true,fullscreen:false,readonly:false,zIndex:999,imagePopup:true,enterTag:"p",customDomain:false,lang:"zh-cn",langPath:me.options.UEDITOR_HOME_URL+"lang/",theme:"default",themePath:me.options.UEDITOR_HOME_URL+"themes/",allHtmlEnabled:false,scaleEnabled:false,tableNativeEditInFF:false,autoSyncData:true,fileNameFormat:"{time}{rand:6}"});if(!utils.isEmptyObject(UE.I18N)){me.options.lang=checkCurLang(UE.I18N);UE.plugin.load(me);langReadied(me)}else{utils.loadFile(document,{src:me.options.langPath+me.options.lang+"/"+me.options.lang+".js",tag:"script",type:"text/javascript",defer:"defer"},function(){UE.plugin.load(me);langReadied(me)})}UE.instants["ueditorInstant"+me.uid]=me};Editor.prototype={ready:function(fn){var me=this;if(fn){me.isReady?fn.apply(me):me.addListener("ready",fn)}},setOpt:function(key,val){var obj={};if(utils.isString(key)){obj[key]=val}else{obj=key}utils.extend(this.options,obj,true)},destroy:function(){var me=this;me.fireEvent("destroy");var container=me.container.parentNode;var textarea=me.textarea;if(!textarea){textarea=document.createElement("textarea");container.parentNode.insertBefore(textarea,container)}else{textarea.style.display=""}textarea.style.width=me.iframe.offsetWidth+"px";textarea.style.height=me.iframe.offsetHeight+"px";textarea.value=me.getContent();textarea.id=me.key;container.innerHTML="";domUtils.remove(container);for(var p in me){if(me.hasOwnProperty(p)){delete this[p]}}},render:function(container){var me=this,options=me.options,getStyleValue=function(attr){return parseInt(domUtils.getComputedStyle(container,attr))};if(utils.isString(container)){container=document.getElementById(container)}if(container){if(options.initialFrameWidth){options.minFrameWidth=options.initialFrameWidth}else{options.minFrameWidth=options.initialFrameWidth=container.offsetWidth}if(options.initialFrameHeight){options.minFrameHeight=options.initialFrameHeight}else{options.initialFrameHeight=options.minFrameHeight=container.offsetHeight}container.style.width=/%$/.test(options.initialFrameWidth)?"100%":options.initialFrameWidth-getStyleValue("padding-left")-getStyleValue("padding-right")+"px";container.style.height=/%$/.test(options.initialFrameHeight)?"100%":options.initialFrameHeight-getStyleValue("padding-top")-getStyleValue("padding-bottom")+"px";container.style.zIndex=options.zIndex;var html=(ie&&browser.version<9?"":"<!DOCTYPE html>")+"<html xmlns='http://www.w3.org/1999/xhtml' class='view' ><head>"+"<style type='text/css'>"+".view{padding:0;word-wrap:break-word;cursor:text;height:90%;}\n"+"body{margin:8px;font-family:sans-serif;font-size:16px;}"+"p{margin:5px 0;}</style>"+(options.iframeCssUrl?"<link rel='stylesheet' type='text/css' href='"+utils.unhtml(options.iframeCssUrl)+"'/>":"")+(options.initialStyle?"<style>"+options.initialStyle+"</style>":"")+"</head><body class='view' ></body>"+"<script type='text/javascript' "+(ie?"defer='defer'":"")+" id='_initialScript'>"+"setTimeout(function(){editor = window.parent.UE.instants['ueditorInstant"+me.uid+"'];editor.setup(document);},0);"+"var _tmpScript = document.getElementById('_initialScript');_tmpScript.parentNode.removeChild(_tmpScript);</script></html>";container.appendChild(domUtils.createElement(document,"iframe",{id:"ueditor_"+me.uid,width:"100%",height:"100%",frameborder:"0",src:"javascript:void(function(){document.open();"+(options.customDomain&&document.domain!=location.hostname?'document.domain="'+document.domain+'";':"")+'document.write("'+html+'");document.close();}())'}));container.style.overflow="hidden";setTimeout(function(){if(/%$/.test(options.initialFrameWidth)){options.minFrameWidth=options.initialFrameWidth=container.offsetWidth}if(/%$/.test(options.initialFrameHeight)){options.minFrameHeight=options.initialFrameHeight=container.offsetHeight;container.style.height=options.initialFrameHeight+"px"}})}},setup:function(doc){var me=this,options=me.options;if(ie){doc.body.disabled=true;doc.body.contentEditable=true;doc.body.disabled=false}else{doc.body.contentEditable=true}doc.body.spellcheck=false;me.document=doc;me.window=doc.defaultView||doc.parentWindow;me.iframe=me.window.frameElement;me.body=doc.body;me.selection=new dom.Selection(doc);var geckoSel;if(browser.gecko&&(geckoSel=this.selection.getNative())){geckoSel.removeAllRanges()}this.cJs();for(var form=this.iframe.parentNode;!domUtils.isBody(form);form=form.parentNode){if(form.tagName=="FORM"){me.form=form;if(me.options.autoSyncData){domUtils.on(me.window,"blur",function(){setValue(form,me)})}else{domUtils.on(form,"submit",function(){setValue(this,me)})}break}}if(options.initialContent){if(options.autoClearinitialContent){var oldExecCommand=me.execCommand;me.execCommand=function(){me.fireEvent("firstBeforeExecCommand");return oldExecCommand.apply(me,arguments)};this.cJn(options.initialContent)}else this.setContent(options.initialContent,false,true)}if(domUtils.isEmptyNode(me.body)){me.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>"}if(options.focus){setTimeout(function(){me.focus(me.options.focusInEnd);!me.options.autoClearinitialContent&&me.Yn()},0)}if(!me.container){me.container=this.iframe.parentNode}if(options.fullscreen&&me.ui){me.ui.setFullScreen(true)}try{me.document.execCommand("2D-position",false,false)}catch(e){}try{me.document.execCommand("enableInlineTableEditing",false,false)}catch(e){}try{me.document.execCommand("enableObjectResizing",false,false)}catch(e){}me.cJu();me.isReady=1;me.fireEvent("ready");options.onready&&options.onready.call(me);if(!browser.ie9below){domUtils.on(me.window,["blur","focus"],function(e){if(e.type=="blur"){me.Sl=me.selection.getRange();try{me.cfn=me.selection.getNative().getRangeAt(0);me.selection.getNative().removeAllRanges()}catch(e){me.cfn=null}}else{try{me.Sl&&me.Sl.select()}catch(e){}}})}if(browser.gecko&&browser.version<=10902){me.body.contentEditable=false;setTimeout(function(){me.body.contentEditable=true},100);setInterval(function(){me.body.style.height=me.iframe.offsetHeight-20+"px"},100)}!options.isShow&&me.setHide();options.readonly&&me.setDisabled()},sync:function(formId){var me=this,form=formId?document.getElementById(formId):domUtils.findParent(me.iframe.parentNode,function(node){return node.tagName=="FORM"},true);form&&setValue(form,me)},setHeight:function(height,notSetHeight){if(height!==parseInt(this.iframe.parentNode.style.height)){this.iframe.parentNode.style.height=height+"px"}!notSetHeight&&(this.options.minFrameHeight=this.options.initialFrameHeight=height);this.body.style.height=height+"px"},addshortcutkey:function(cmd,keys){var obj={};if(keys){obj[cmd]=keys}else{obj=cmd}utils.extend(this.shortcutkeys,obj)},cJu:function(){var me=this,shortcutkeys=this.shortcutkeys;me.addListener("keydown",function(type,e){var keyCode=e.keyCode||e.which;for(var i in shortcutkeys){var tmp=shortcutkeys[i].split(",");for(var t=0,ti;ti=tmp[t++];){ti=ti.split(":");var key=ti[0],param=ti[1];if(/^(ctrl)(\+shift)?\+(\d+)$/.test(key.toLowerCase())||/^(\d+)$/.test(key)){if((RegExp.$1=="ctrl"?e.ctrlKey||e.metaKey:0)&&(RegExp.$2!=""?e[RegExp.$2.slice(1)+"Key"]:1)&&keyCode==RegExp.$3||keyCode==RegExp.$1){if(me.queryCommandState(i,param)!=-1)me.execCommand(i,param);domUtils.preventDefault(e)}}}}})},getContent:function(cmd,fn,notSetCursor,ignoreBlank,formatter){var me=this;if(cmd&&utils.isFunction(cmd)){fn=cmd;cmd=""}if(fn?!fn():!this.hasContents()){return""}me.fireEvent("beforegetcontent");var root=UE.htmlparser(me.body.innerHTML,ignoreBlank);me.filterOutputRule(root);me.fireEvent("aftergetcontent",cmd,root);return root.toHtml(formatter)},getAllHtml:function(){var me=this,headHtml=[],html="";me.fireEvent("getAllHtml",headHtml);if(browser.ie&&browser.version>8){var headHtmlForIE9="";utils.each(me.document.styleSheets,function(si){headHtmlForIE9+=si.href?'<link rel="stylesheet" type="text/css" href="'+si.href+'" />':"<style>"+si.cssText+"</style>"});utils.each(me.document.getElementsByTagName("script"),function(si){headHtmlForIE9+=si.outerHTML})}return"<html><head>"+(me.options.charset?'<meta http-equiv="Content-Type" content="text/html; charset='+me.options.charset+'"/>':"")+(headHtmlForIE9||me.document.getElementsByTagName("head")[0].innerHTML)+headHtml.join("\n")+"</head>"+"<body "+(ie&&browser.version<9?'class="view"':"")+">"+me.getContent(null,null,true)+"</body></html>"},getPlainTxt:function(){var reg=new RegExp(domUtils.fillChar,"g"),html=this.body.innerHTML.replace(/[\n\r]/g,"");html=html.replace(/<(p|div)[^>]*>(<br\/?>|&nbsp;)<\/\1>/gi,"\n").replace(/<br\/?>/gi,"\n").replace(/<[^>/]+>/g,"").replace(/(\n)?<\/([^>]+)>/g,function(a,b,c){return dtd.$block[c]?"\n":b?b:""});return html.replace(reg,"").replace(/\u00a0/g," ").replace(/&nbsp;/g," ")},getContentTxt:function(){var reg=new RegExp(domUtils.fillChar,"g");return this.body[browser.ie?"innerText":"textContent"].replace(reg,"").replace(/\u00a0/g," ")},setContent:function(html,isAppendTo,notFireSelectionchange){var me=this;me.fireEvent("beforesetcontent",html);var root=UE.htmlparser(html);me.filterInputRule(root);html=root.toHtml();me.body.innerHTML=(isAppendTo?me.body.innerHTML:"")+html;function isCdataDiv(node){return node.tagName=="DIV"&&node.getAttribute("cdata_tag")}if(me.options.enterTag=="p"){var child=this.body.firstChild,tmpNode;if(!child||child.nodeType==1&&(dtd.$cdata[child.tagName]||isCdataDiv(child)||domUtils.isCustomeNode(child))&&child===this.body.lastChild){this.body.innerHTML="<p>"+(browser.ie?"&nbsp;":"<br/>")+"</p>"+this.body.innerHTML}else{var p=me.document.createElement("p");while(child){while(child&&(child.nodeType==3||child.nodeType==1&&dtd.p[child.tagName]&&!dtd.$cdata[child.tagName])){tmpNode=child.nextSibling;p.appendChild(child);child=tmpNode}if(p.firstChild){if(!child){me.body.appendChild(p);break}else{child.parentNode.insertBefore(p,child);p=me.document.createElement("p")}}child=child.nextSibling}}}me.fireEvent("aftersetcontent");me.fireEvent("contentchange");!notFireSelectionchange&&me.Yn();me.Sl=me.Ys=me.cfn=null;var geckoSel;if(browser.gecko&&(geckoSel=this.selection.getNative())){geckoSel.removeAllRanges()}if(me.options.autoSyncData){me.form&&setValue(me.form,me)}},focus:function(toEnd){try{var me=this,rng=me.selection.getRange();if(toEnd){var node=me.body.lastChild;if(node&&node.nodeType==1&&!dtd.$empty[node.tagName]){if(domUtils.isEmptyBlock(node)){rng.setStartAtFirst(node)}else{rng.setStartAtLast(node)}rng.collapse(true)}rng.setCursor(true)}else{if(!rng.collapsed&&domUtils.isBody(rng.startContainer)&&rng.startOffset==0){var node=me.body.firstChild;if(node&&node.nodeType==1&&!dtd.$empty[node.tagName]){rng.setStartAtFirst(node).collapse(true)}}rng.select(true)}this.fireEvent("focus selectionchange")}catch(e){}},isFocus:function(){return this.selection.isFocus()},blur:function(){var sel=this.selection.getNative();if(sel.empty&&browser.ie){var nativeRng=document.body.createTextRange();nativeRng.moveToElementText(document.body);nativeRng.collapse(true);nativeRng.select();sel.empty()}else{sel.removeAllRanges()}},cJs:function(){var me=this,doc=me.document,win=me.window;me.bpq=utils.bind(me.bpq,me);domUtils.on(doc,["click","contextmenu","mousedown","keydown","keyup","keypress","mouseup","mouseover","mouseout","selectstart"],me.bpq);domUtils.on(win,["focus","blur"],me.bpq);domUtils.on(me.body,"drop",function(e){if(browser.gecko&&e.stopPropagation){e.stopPropagation()}me.fireEvent("contentchange")});domUtils.on(doc,["mouseup","keydown"],function(evt){if(evt.type=="keydown"&&(evt.ctrlKey||evt.metaKey||evt.shiftKey||evt.altKey)){return}if(evt.button==2)return;me.Yn(250,evt)})},bpq:function(evt){if(this.fireEvent("before"+evt.type.replace(/^on/,"").toLowerCase())===false){return false}if(this.fireEvent(evt.type.replace(/^on/,""),evt)===false){return false}return this.fireEvent("after"+evt.type.replace(/^on/,"").toLowerCase())},Yn:function(delay,evt){var me=this;var hackForMouseUp=false;var mouseX,mouseY;if(browser.ie&&browser.version<9&&evt&&evt.type=="mouseup"){var range=this.selection.getRange();if(!range.collapsed){hackForMouseUp=true;mouseX=evt.clientX;mouseY=evt.clientY}}clearTimeout(cfo);cfo=setTimeout(function(){if(!me.selection||!me.selection.getNative()){return}var ieRange;if(hackForMouseUp&&me.selection.getNative().type=="None"){ieRange=me.document.body.createTextRange();try{ieRange.moveToPoint(mouseX,mouseY)}catch(ex){ieRange=null}}var bakGetIERange;if(ieRange){bakGetIERange=me.selection.getIERange;me.selection.getIERange=function(){return ieRange}}me.selection.cache();if(bakGetIERange){me.selection.getIERange=bakGetIERange}if(me.selection.bpz&&me.selection.bpx){me.fireEvent("beforeselectionchange");me.fireEvent("selectionchange",!!evt);me.fireEvent("afterselectionchange");me.selection.clear()}},delay||50)},bpn:function(fnName,args){var cmdName=args[0].toLowerCase(),cmd,cmdFn;cmd=this.commands[cmdName]||UE.commands[cmdName];cmdFn=cmd&&cmd[fnName];if((!cmd||!cmdFn)&&fnName=="queryCommandState"){return 0}else if(cmdFn){return cmdFn.apply(this,args)}},execCommand:function(cmdName){cmdName=cmdName.toLowerCase();var me=this,result,cmd=me.commands[cmdName]||UE.commands[cmdName];if(!cmd||!cmd.execCommand){return null}if(!cmd.notNeedUndo&&!me.yX){me.yX=true;if(me.queryCommandState.apply(me,arguments)!=-1){me.fireEvent("saveScene");me.fireEvent("beforeexeccommand",cmdName);result=this.bpn("execCommand",arguments);!cmd.ignoreContentChange&&!me.cfm&&me.fireEvent("contentchange");me.fireEvent("afterexeccommand",cmdName);me.fireEvent("saveScene")}me.yX=false}else{result=this.bpn("execCommand",arguments);!me.yX&&!cmd.ignoreContentChange&&!me.cfm&&me.fireEvent("contentchange")}!me.yX&&!cmd.ignoreContentChange&&!me.cfm&&me.Yn();return result},queryCommandState:function(cmdName){return this.bpn("queryCommandState",arguments)},queryCommandValue:function(cmdName){return this.bpn("queryCommandValue",arguments)},hasContents:function(tags){if(tags){for(var i=0,ci;ci=tags[i++];){if(this.document.getElementsByTagName(ci).length>0){return true}}}if(!domUtils.isEmptyBlock(this.body)){return true}tags=["div"];for(i=0;ci=tags[i++];){var nodes=domUtils.getElementsByTagName(this.document,ci);for(var n=0,cn;cn=nodes[n++];){if(domUtils.isCustomeNode(cn)){return true}}}return false},reset:function(){this.fireEvent("reset")},setEnabled:function(){var me=this,range;if(me.body.contentEditable=="false"){me.body.contentEditable=true;range=me.selection.getRange();try{range.moveToBookmark(me.lastBk);delete me.lastBk}catch(e){range.setStartAtFirst(me.body).collapse(true)}range.select(true);if(me.bkqueryCommandState){me.queryCommandState=me.bkqueryCommandState;delete me.bkqueryCommandState}me.fireEvent("selectionchange")}},enable:function(){return this.setEnabled()},setDisabled:function(except){var me=this;except=except?utils.isArray(except)?except:[except]:[];if(me.body.contentEditable=="true"){if(!me.lastBk){me.lastBk=me.selection.getRange().createBookmark(true)}me.body.contentEditable=false;me.bkqueryCommandState=me.queryCommandState;me.queryCommandState=function(type){if(utils.indexOf(except,type)!=-1){return me.bkqueryCommandState.apply(me,arguments)}return-1};me.fireEvent("selectionchange")}},disable:function(except){return this.setDisabled(except)},cJn:function(){function clear(){var me=this;if(me.document.getElementById("initContent")){me.body.innerHTML="<p>"+(ie?"":"<br/>")+"</p>";me.removeListener("firstBeforeExecCommand focus",clear);setTimeout(function(){me.focus();me.Yn()},0)}}return function(cont){var me=this;me.body.innerHTML='<p id="initContent">'+cont+"</p>";me.addListener("firstBeforeExecCommand focus",clear)}}(),setShow:function(){var me=this,range=me.selection.getRange();if(me.container.style.display=="none"){try{range.moveToBookmark(me.lastBk);delete me.lastBk}catch(e){range.setStartAtFirst(me.body).collapse(true)}setTimeout(function(){range.select(true)},100);me.container.style.display=""}},show:function(){return this.setShow()},setHide:function(){var me=this;if(!me.lastBk){me.lastBk=me.selection.getRange().createBookmark(true)}me.container.style.display="none"},hide:function(){return this.setHide()},getLang:function(path){var lang=UE.I18N[this.options.lang];if(!lang){throw Error("not import language file")}path=(path||"").split(".");for(var i=0,ci;ci=path[i++];){lang=lang[ci];if(!lang)break}return lang},getContentLength:function(ingoneHtml,tagNames){var count=this.getContent(false,false,true).length;if(ingoneHtml){tagNames=(tagNames||[]).concat(["hr","img","iframe"]);count=this.getContentTxt().replace(/[\t\r\n]+/g,"").length;for(var i=0,ci;ci=tagNames[i++];){count+=this.document.getElementsByTagName(ci).length}}return count},addInputRule:function(rule){this.inputRules.push(rule)},filterInputRule:function(root){for(var i=0,ci;ci=this.inputRules[i++];){ci.call(this,root)}},addOutputRule:function(rule){this.outputRules.push(rule)},filterOutputRule:function(root){for(var i=0,ci;ci=this.outputRules[i++];){ci.call(this,root)}}};utils.inherits(Editor,EventBase)})();UE.ajax=function(){var fnStr="XMLHttpRequest()";try{new ActiveXObject("Msxml2.XMLHTTP");fnStr="ActiveXObject('Msxml2.XMLHTTP')"}catch(e){try{new ActiveXObject("Microsoft.XMLHTTP");fnStr="ActiveXObject('Microsoft.XMLHTTP')"}catch(e){}}var creatAjaxRequest=new Function("return new "+fnStr);function json2str(json){var strArr=[];for(var i in json){if(i=="method"||i=="timeout"||i=="async")continue;if(!((typeof json[i]).toLowerCase()=="function"||(typeof json[i]).toLowerCase()=="object")){strArr.push(encodeURIComponent(i)+"="+encodeURIComponent(json[i]))}}return strArr.join("&")}return{request:function(url,ajaxOptions){var ajaxRequest=creatAjaxRequest(),timeIsOut=false,defaultAjaxOptions={method:"POST",timeout:5e3,async:true,data:{},onsuccess:function(){},onerror:function(){}};if(typeof url==="object"){ajaxOptions=url;url=ajaxOptions.url}if(!ajaxRequest||!url)return;var ajaxOpts=ajaxOptions?utils.extend(defaultAjaxOptions,ajaxOptions):defaultAjaxOptions;var submitStr=json2str(ajaxOpts);if(!utils.isEmptyObject(ajaxOpts.data)){submitStr+=(submitStr?"&":"")+json2str(ajaxOpts.data)}var timerID=setTimeout(function(){if(ajaxRequest.readyState!=4){timeIsOut=true;ajaxRequest.abort();clearTimeout(timerID)}},ajaxOpts.timeout);var method=ajaxOpts.method.toUpperCase();var str=url+(url.indexOf("?")==-1?"?":"&")+(method=="POST"?"":submitStr+"&noCache="+ +(new Date));ajaxRequest.open(method,str,ajaxOpts.async);ajaxRequest.onreadystatechange=function(){if(ajaxRequest.readyState==4){if(!timeIsOut&&ajaxRequest.status==200){ajaxOpts.onsuccess(ajaxRequest)}else{ajaxOpts.onerror(ajaxRequest)}}};if(method=="POST"){ajaxRequest.setRequestHeader("Content-Type","application/x-www-form-urlencoded");ajaxRequest.send(submitStr)}else{ajaxRequest.send(null)}}}}();var filterWord=UE.filterWord=function(){function isWordDocument(str){return/(class="?Mso|style="[^"]*\bmso\-|w:WordDocument|<(v|o):|lang=)/ig.test(str)}function transUnit(v){v=v.replace(/[\d.]+\w+/g,function(m){return utils.transUnitToPx(m)});return v}function filterPasteWord(str){return str.replace(/[\t\r\n]+/g," ").replace(/<!--[\s\S]*?-->/ig,"").replace(/<v:shape [^>]*>[\s\S]*?.<\/v:shape>/gi,function(str){if(browser.opera){return""}try{if(/Bitmap/i.test(str)){return""}var width=str.match(/width:([ \d.]*p[tx])/i)[1],height=str.match(/height:([ \d.]*p[tx])/i)[1],src=str.match(/src=\s*"([^"]*)"/i)[1];return'<img width="'+transUnit(width)+'" height="'+transUnit(height)+'" src="'+src+'" />'}catch(e){return""}}).replace(/<\/?div[^>]*>/g,"").replace(/v:\w+=(["']?)[^'"]+\1/g,"").replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|xml|meta|link|style|\w+:\w+)(?=[\s\/>]))[^>]*>/gi,"").replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>").replace(/\s+(class|lang|align)\s*=\s*(['"]?)([\w-]+)\2/ig,function(str,name,marks,val){return name=="class"&&val=="MsoListParagraph"?str:""}).replace(/<(font|span)[^>]*>(\s*)<\/\1>/gi,function(a,b,c){return c.replace(/[\t\r\n ]+/g," ")}).replace(/(<[a-z][^>]*)\sstyle=(["'])([^\2]*?)\2/gi,function(str,tag,tmp,style){var n=[],s=style.replace(/^\s+|\s+$/,"").replace(/&#39;/g,"'").replace(/&quot;/gi,"'").split(/;\s*/g);for(var i=0,v;v=s[i];i++){var name,value,parts=v.split(":");if(parts.length==2){name=parts[0].toLowerCase();value=parts[1].toLowerCase();if(/^(background)\w*/.test(name)&&value.replace(/(initial|\s)/g,"").length==0||/^(margin)\w*/.test(name)&&/^0\w+$/.test(value)){continue}switch(name){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":if(!/<table/.test(tag))n[i]=name.replace(/^mso-|-alt$/g,"")+":"+transUnit(value);continue;case"horiz-align":n[i]="text-align:"+value;continue;case"vert-align":n[i]="vertical-align:"+value;continue;case"font-color":case"mso-foreground":n[i]="color:"+value;continue;case"mso-background":case"mso-highlight":n[i]="background:"+value;continue;case"mso-default-height":n[i]="min-height:"+transUnit(value);continue;case"mso-default-width":n[i]="min-width:"+transUnit(value);continue;case"mso-padding-between-alt":n[i]="border-collapse:separate;border-spacing:"+transUnit(value);continue;case"text-line-through":if(value=="single"||value=="double"){n[i]="text-decoration:line-through"}continue;case"mso-zero-height":if(value=="yes"){n[i]="display:none"}continue;case"margin":if(!/[1-9]/.test(value)){continue}}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(name)||/text\-indent|padding|margin/.test(name)&&/\-[\d.]+/.test(value)){continue}n[i]=name+":"+parts[1]}}return tag+(n.length?' style="'+n.join(";").replace(/;{2,}/g,";")+'"':"")}).replace(/[\d.]+(cm|pt)/g,function(str){return utils.transUnitToPx(str)})}return function(html){return isWordDocument(html)?filterPasteWord(html):html}}();(function(){var uNode=UE.uNode=function(obj){this.type=obj.type;this.data=obj.data;this.tagName=obj.tagName;this.parentNode=obj.parentNode;this.attrs=obj.attrs||{};this.children=obj.children};var notTransAttrs={href:1,src:1,kd:1,sl:1,cdata_data:1};var notTransTagName={style:1,script:1};var indentChar="    ",breakChar="\n";function insertLine(arr,current,begin){arr.push(breakChar);return current+(begin?1:-1)}function insertIndent(arr,current){for(var i=0;i<current;i++){arr.push(indentChar)}}uNode.createElement=function(html){if(/[<>]/.test(html)){return UE.htmlparser(html).children[0]}else{return new uNode({type:"element",children:[],tagName:html})}};uNode.createText=function(data,noTrans){return new UE.uNode({type:"text",data:noTrans?data:utils.unhtml(data||"")})};function nodeToHtml(node,arr,formatter,current){switch(node.type){case"root":for(var i=0,ci;ci=node.children[i++];){if(formatter&&ci.type=="element"&&!dtd.$inlineWithA[ci.tagName]&&i>1){insertLine(arr,current,true);insertIndent(arr,current)}nodeToHtml(ci,arr,formatter,current)}break;case"text":isText(node,arr);break;case"element":isElement(node,arr,formatter,current);break;case"comment":isComment(node,arr,formatter)}return arr}function isText(node,arr){if(node.parentNode.tagName=="pre"){arr.push(node.data)}else{arr.push(notTransTagName[node.parentNode.tagName]?utils.html(node.data):node.data.replace(/[ ]{2}/g," &nbsp;"))}}function isElement(node,arr,formatter,current){var attrhtml="";if(node.attrs){attrhtml=[];var attrs=node.attrs;for(var a in attrs){attrhtml.push(a+(attrs[a]!==undefined?'="'+(notTransAttrs[a]?utils.html(attrs[a]).replace(/["]/g,function(a){return"&quot;"}):utils.unhtml(attrs[a]))+'"':""))}attrhtml=attrhtml.join(" ")}arr.push("<"+node.tagName+(attrhtml?" "+attrhtml:"")+(dtd.$empty[node.tagName]?"/":"")+">");if(formatter&&!dtd.$inlineWithA[node.tagName]&&node.tagName!="pre"){if(node.children&&node.children.length){current=insertLine(arr,current,true);insertIndent(arr,current)}}if(node.children&&node.children.length){for(var i=0,ci;ci=node.children[i++];){if(formatter&&ci.type=="element"&&!dtd.$inlineWithA[ci.tagName]&&i>1){insertLine(arr,current);insertIndent(arr,current)}nodeToHtml(ci,arr,formatter,current)}}if(!dtd.$empty[node.tagName]){if(formatter&&!dtd.$inlineWithA[node.tagName]&&node.tagName!="pre"){if(node.children&&node.children.length){current=insertLine(arr,current);insertIndent(arr,current)}}arr.push("</"+node.tagName+">")}}function isComment(node,arr){arr.push("<!--"+node.data+"-->")}function getNodeById(root,id){var node;if(root.type=="element"&&root.getAttr("id")==id){return root}if(root.children&&root.children.length){for(var i=0,ci;ci=root.children[i++];){if(node=getNodeById(ci,id)){return node}}}}function getNodesByTagName(node,tagName,arr){if(node.type=="element"&&node.tagName==tagName){arr.push(node)}if(node.children&&node.children.length){for(var i=0,ci;ci=node.children[i++];){getNodesByTagName(ci,tagName,arr)}}}function nodeTraversal(root,fn){if(root.children&&root.children.length){for(var i=0,ci;ci=root.children[i];){nodeTraversal(ci,fn);if(ci.parentNode){if(ci.children&&ci.children.length){fn(ci)}if(ci.parentNode)i++}}}else{fn(root)}}uNode.prototype={toHtml:function(formatter){var arr=[];nodeToHtml(this,arr,formatter,0);return arr.join("")},innerHTML:function(htmlstr){if(this.type!="element"||dtd.$empty[this.tagName]){return this}if(utils.isString(htmlstr)){if(this.children){for(var i=0,ci;ci=this.children[i++];){ci.parentNode=null}}this.children=[];var tmpRoot=UE.htmlparser(htmlstr);for(var i=0,ci;ci=tmpRoot.children[i++];){this.children.push(ci);ci.parentNode=this}return this}else{var tmpRoot=new UE.uNode({type:"root",children:this.children});return tmpRoot.toHtml()}},innerText:function(textStr,noTrans){if(this.type!="element"||dtd.$empty[this.tagName]){return this}if(textStr){if(this.children){for(var i=0,ci;ci=this.children[i++];){ci.parentNode=null}}this.children=[];this.appendChild(uNode.createText(textStr,noTrans));return this}else{return this.toHtml().replace(/<[^>]+>/g,"")}},getData:function(){if(this.type=="element")return"";return this.data},firstChild:function(){return this.children?this.children[0]:null},lastChild:function(){return this.children?this.children[this.children.length-1]:null},previousSibling:function(){var parent=this.parentNode;for(var i=0,ci;ci=parent.children[i];i++){if(ci===this){return i==0?null:parent.children[i-1]}}},nextSibling:function(){var parent=this.parentNode;for(var i=0,ci;ci=parent.children[i++];){if(ci===this){return parent.children[i]}}},replaceChild:function(target,source){if(this.children){if(target.parentNode){target.parentNode.removeChild(target)}for(var i=0,ci;ci=this.children[i];i++){if(ci===source){this.children.splice(i,1,target);source.parentNode=null;target.parentNode=this;return target}}}},appendChild:function(node){if(this.type=="root"||this.type=="element"&&!dtd.$empty[this.tagName]){if(!this.children){this.children=[]}if(node.parentNode){node.parentNode.removeChild(node)}for(var i=0,ci;ci=this.children[i];i++){if(ci===node){this.children.splice(i,1);break}}this.children.push(node);node.parentNode=this;return node}},insertBefore:function(target,source){if(this.children){if(target.parentNode){target.parentNode.removeChild(target)}for(var i=0,ci;ci=this.children[i];i++){if(ci===source){this.children.splice(i,0,target);target.parentNode=this;return target}}}},insertAfter:function(target,source){if(this.children){if(target.parentNode){target.parentNode.removeChild(target)}for(var i=0,ci;ci=this.children[i];i++){if(ci===source){this.children.splice(i+1,0,target);target.parentNode=this;return target}}}},removeChild:function(node,keepChildren){if(this.children){for(var i=0,ci;ci=this.children[i];i++){if(ci===node){this.children.splice(i,1);ci.parentNode=null;if(keepChildren&&ci.children&&ci.children.length){for(var j=0,cj;cj=ci.children[j];j++){this.children.splice(i+j,0,cj);cj.parentNode=this}}return ci}}}},getAttr:function(attrName){return this.attrs&&this.attrs[attrName.toLowerCase()]},setAttr:function(attrName,attrVal){if(!attrName){delete this.attrs;return}if(!this.attrs){this.attrs={}}if(utils.isObject(attrName)){for(var a in attrName){if(!attrName[a]){delete this.attrs[a]}else{this.attrs[a.toLowerCase()]=attrName[a]}}}else{if(!attrVal){delete this.attrs[attrName]}else{this.attrs[attrName.toLowerCase()]=attrVal}}},getIndex:function(){var parent=this.parentNode;for(var i=0,ci;ci=parent.children[i];i++){if(ci===this){return i}}return-1},getNodeById:function(id){var node;if(this.children&&this.children.length){for(var i=0,ci;ci=this.children[i++];){if(node=getNodeById(ci,id)){return node}}}},getNodesByTagName:function(tagNames){tagNames=utils.trim(tagNames).replace(/[ ]{2,}/g," ").split(" ");var arr=[],me=this;utils.each(tagNames,function(tagName){if(me.children&&me.children.length){for(var i=0,ci;ci=me.children[i++];){getNodesByTagName(ci,tagName,arr)}}});return arr},getStyle:function(name){var cssStyle=this.getAttr("style");if(!cssStyle){return""}var reg=new RegExp("(^|;)\\s*"+name+":([^;]+)","i");var match=cssStyle.match(reg);if(match&&match[0]){return match[2]}return""},setStyle:function(name,val){function exec(name,val){var reg=new RegExp("(^|;)\\s*"+name+":([^;]+;?)","gi");cssStyle=cssStyle.replace(reg,"$1");if(val){cssStyle=name+":"+utils.unhtml(val)+";"+cssStyle}}var cssStyle=this.getAttr("style");if(!cssStyle){cssStyle=""}if(utils.isObject(name)){for(var a in name){exec(a,name[a])}}else{exec(name,val)}this.setAttr("style",utils.trim(cssStyle))},traversal:function(fn){if(this.children&&this.children.length){nodeTraversal(this,fn)}return this}}})();var htmlparser=UE.htmlparser=function(htmlstr,ignoreBlank){var re_tag=/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)-->)|(?:([^\s\/>]+)\s*((?:(?:"[^"]*")|(?:'[^']*')|[^"'<>])*)\/?>))/g,re_attr=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g;var allowEmptyTags={b:1,code:1,i:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,span:1,sub:1,img:1,sup:1,font:1,big:1,small:1,iframe:1,a:1,br:1,pre:1};htmlstr=htmlstr.replace(new RegExp(domUtils.fillChar,"g"),"");if(!ignoreBlank){htmlstr=htmlstr.replace(new RegExp("[\\r\\t\\n"+(ignoreBlank?"":" ")+"]*</?(\\w+)\\s*(?:[^>]*)>[\\r\\t\\n"+(ignoreBlank?"":" ")+"]*","g"),function(a,b){if(b&&allowEmptyTags[b.toLowerCase()]){return a.replace(/(^[\n\r]+)|([\n\r]+$)/g,"")}return a.replace(new RegExp("^[\\r\\n"+(ignoreBlank?"":" ")+"]+"),"").replace(new RegExp("[\\r\\n"+(ignoreBlank?"":" ")+"]+$"),"")})}var notTransAttrs={href:1,src:1};var uNode=UE.uNode,needParentNode={td:"tr",tr:["tbody","thead","tfoot"],tbody:"table",th:"tr",thead:"table",tfoot:"table",caption:"table",li:["ul","ol"],dt:"dl",dd:"dl",option:"select"},needChild={ol:"li",ul:"li"};function text(parent,data){if(needChild[parent.tagName]){var tmpNode=uNode.createElement(needChild[parent.tagName]);parent.appendChild(tmpNode);tmpNode.appendChild(uNode.createText(data));parent=tmpNode}else{parent.appendChild(uNode.createText(data))}}function element(parent,tagName,htmlattr){var needParentTag;if(needParentTag=needParentNode[tagName]){var tmpParent=parent,hasParent;while(tmpParent.type!="root"){if(utils.isArray(needParentTag)?utils.indexOf(needParentTag,tmpParent.tagName)!=-1:needParentTag==tmpParent.tagName){parent=tmpParent;hasParent=true;break}tmpParent=tmpParent.parentNode}if(!hasParent){parent=element(parent,utils.isArray(needParentTag)?needParentTag[0]:needParentTag)}}var elm=new uNode({parentNode:parent,type:"element",tagName:tagName.toLowerCase(),children:dtd.$empty[tagName]?null:[]});if(htmlattr){var attrs={},match;while(match=re_attr.exec(htmlattr)){attrs[match[1].toLowerCase()]=notTransAttrs[match[1].toLowerCase()]?match[2]||match[3]||match[4]:utils.unhtml(match[2]||match[3]||match[4])}elm.attrs=attrs}parent.children.push(elm);return dtd.$empty[tagName]?parent:elm}function comment(parent,data){parent.children.push(new uNode({type:"comment",data:data,parentNode:parent}))}var match,currentIndex=0,nextIndex=0;var root=new uNode({type:"root",children:[]});var currentParent=root;while(match=re_tag.exec(htmlstr)){currentIndex=match.index;try{if(currentIndex>nextIndex){text(currentParent,htmlstr.slice(nextIndex,currentIndex))}if(match[3]){if(dtd.$cdata[currentParent.tagName]){text(currentParent,match[0])}else{currentParent=element(currentParent,match[3].toLowerCase(),match[4])}}else if(match[1]){if(currentParent.type!="root"){if(dtd.$cdata[currentParent.tagName]&&!dtd.$cdata[match[1]]){text(currentParent,match[0])}else{var tmpParent=currentParent;while(currentParent.type=="element"&&currentParent.tagName!=match[1].toLowerCase()){currentParent=currentParent.parentNode;if(currentParent.type=="root"){currentParent=tmpParent;throw"break"}}currentParent=currentParent.parentNode}}}else if(match[2]){comment(currentParent,match[2])}}catch(e){}nextIndex=re_tag.lastIndex}if(nextIndex<htmlstr.length){text(currentParent,htmlstr.slice(nextIndex))}return root};var filterNode=UE.filterNode=function(){function filterNode(node,rules){switch(node.type){case"text":break;case"element":var val;if(val=rules[node.tagName]){if(val==="-"){node.parentNode.removeChild(node)}else if(utils.isFunction(val)){var parentNode=node.parentNode,index=node.getIndex();val(node);if(node.parentNode){if(node.children){for(var i=0,ci;ci=node.children[i];){filterNode(ci,rules);if(ci.parentNode){i++}}}}else{for(var i=index,ci;ci=parentNode.children[i];){filterNode(ci,rules);if(ci.parentNode){i++}}}}else{var attrs=val["$"];if(attrs&&node.attrs){var tmpAttrs={},tmpVal;for(var a in attrs){tmpVal=node.getAttr(a);if(a=="style"&&utils.isArray(attrs[a])){var tmpCssStyle=[];utils.each(attrs[a],function(v){var tmp;if(tmp=node.getStyle(v)){tmpCssStyle.push(v+":"+tmp)}});tmpVal=tmpCssStyle.join(";")}if(tmpVal){tmpAttrs[a]=tmpVal}}node.attrs=tmpAttrs}if(node.children){for(var i=0,ci;ci=node.children[i];){filterNode(ci,rules);if(ci.parentNode){i++}}}}}else{if(dtd.$cdata[node.tagName]){node.parentNode.removeChild(node)}else{var parentNode=node.parentNode,index=node.getIndex();node.parentNode.removeChild(node,true);for(var i=index,ci;ci=parentNode.children[i];){filterNode(ci,rules);if(ci.parentNode){i++}}}}break;case"comment":node.parentNode.removeChild(node)}}return function(root,rules){if(utils.isEmptyObject(rules)){return root}var val;if(val=rules["-"]){utils.each(val.split(" "),function(k){rules[k]="-"})}for(var i=0,ci;ci=root.children[i];){filterNode(ci,rules);if(ci.parentNode){i++}}return root}}();UE.plugin=function(){var bQN={};return{register:function(pluginName,fn,oldOptionName,afterDisabled){if(oldOptionName&&utils.isFunction(oldOptionName)){afterDisabled=oldOptionName;oldOptionName=null}bQN[pluginName]={optionName:oldOptionName||pluginName,execFn:fn,afterDisabled:afterDisabled}},load:function(editor){utils.each(bQN,function(plugin){var cfl=plugin.execFn.call(editor);if(editor.options[plugin.optionName]!==false){if(cfl){utils.each(cfl,function(v,k){switch(k.toLowerCase()){case"shortcutkey":editor.addshortcutkey(v);break;case"bindevents":utils.each(v,function(fn,eventName){editor.addListener(eventName,fn)});break;case"bindmultievents":utils.each(utils.isArray(v)?v:[v],function(event){var types=utils.trim(event.type).split(/\s+/);utils.each(types,function(eventName){editor.addListener(eventName,event.handler)})});break;case"commands":utils.each(v,function(execFn,execName){editor.commands[execName]=execFn});break;case"outputrule":editor.addOutputRule(v);break;case"inputrule":editor.addInputRule(v);break;case"defaultoptions":editor.setOpt(v)}})}}else if(plugin.afterDisabled){plugin.afterDisabled.call(editor)}});utils.each(UE.plugins,function(plugin){plugin.call(editor)})},run:function(plugnName,editor){var plugin=bQN[pluginName];if(plugin){plugin.exeFn.call(editor)}}}}();window.UE=window.UE||{};UE.I18N=UE.I18N||{};UE.I18N["zh-cn"]={labelMap:{anchor:"锚点",undo:"撤销",redo:"重做",bold:"加粗",indent:"首行缩进",snapscreen:"截图",italic:"斜体",underline:"下划线",strikethrough:"删除线",subscript:"下标",fontborder:"字符边框",superscript:"上标",formatmatch:"格式刷",source:"源代码",blockquote:"引用",pasteplain:"纯文本粘贴模式",selectall:"全选",print:"打印",preview:"预览",horizontal:"分隔线",removeformat:"清除格式",time:"时间",date:"日期",unlink:"取消链接",insertrow:"前插入行",insertcol:"前插入列",mergeright:"右合并单元格",mergedown:"下合并单元格",deleterow:"删除行",deletecol:"删除列",splittorows:"拆分成行",splittocols:"拆分成列",splittocells:"完全拆分单元格",mergecells:"合并多个单元格",deletetable:"删除表格",cleardoc:"清空文档",insertparagraphbeforetable:"表格前插入行",insertcode:"代码语言",fontfamily:"字体",fontsize:"字号",paragraph:"段落格式",insertimage:"图片",edittable:"表格属性",edittd:"单元格属性",link:"超链接",emotion:"表情",spechars:"特殊字符",searchreplace:"查询替换",map:"Baidu地图",gmap:"Google地图",insertvideo:"视频",help:"帮助",justifyleft:"居左对齐",justifyright:"居右对齐",justifycenter:"居中对齐",justifyjustify:"两端对齐",forecolor:"字体颜色",backcolor:"背景色",insertorderedlist:"有序列表",insertunorderedlist:"无序列表",fullscreen:"全屏",directionalityltr:"从左向右输入",directionalityrtl:"从右向左输入",pagebreak:"分页",insertframe:"插入Iframe",imagenone:"默认",imageleft:"左浮动",imageright:"右浮动",attachment:"附件",imagecenter:"居中",wordimage:"图片转存",edittip:"编辑提示",customstyle:"自定义标题",autotypeset:"自动排版",webapp:"百度应用",touppercase:"字母大写",tolowercase:"字母小写",background:"背景",template:"模板",scrawl:"涂鸦",music:"音乐",inserttable:"插入表格",drafts:"从草稿箱加载",charts:"图表",math:"公式"},insertcode:{as3:"ActionScript 3",bash:"Bash/Shell",cpp:"C/C++",css:"CSS",cf:"ColdFusion","c#":"C#",delphi:"Delphi",diff:"Diff",erlang:"Erlang",groovy:"Groovy",html:"HTML",java:"Java",jfx:"JavaFX",js:"JavaScript",pl:"Perl",php:"PHP",plain:"Plain Text",ps:"PowerShell",python:"Python",ruby:"Ruby",scala:"Scala",sql:"SQL",vb:"Visual Basic",xml:"XML"},fontsize:["12px","14px","16px","18px","20px","24px","36px"],rowspacingtop:{title:"段前距",list:["5","10","15","20","25"]},rowspacingbottom:{title:"段后距",list:["5","10","15","20","25"]},lineheight:{title:"行间距",list:["1","1.5","1.75","2","3","4","5"]}};UE.plugins["defaultfilter"]=function(){var me=this;me.setOpt({allowDivTransToP:true,disabledTableInTable:true});me.addInputRule(function(root){var allowDivTransToP=this.options.allowDivTransToP;var val;function tdParent(node){while(node&&node.type=="element"){if(node.tagName=="td"){return true}node=node.parentNode}return false}root.traversal(function(node){if(node.type=="element"){if(!dtd.$cdata[node.tagName]&&me.options.autoClearEmptyNode&&dtd.$inline[node.tagName]&&!dtd.$empty[node.tagName]&&(!node.attrs||utils.isEmptyObject(node.attrs))){if(!node.firstChild())node.parentNode.removeChild(node);else if(node.tagName=="span"&&(!node.attrs||utils.isEmptyObject(node.attrs))){node.parentNode.removeChild(node,true)}return}switch(node.tagName){case"style":case"script":node.setAttr({cdata_tag:node.tagName,cdata_data:node.innerHTML()||"",cJi:"true"});node.tagName="div";node.innerHTML("");break;case"a":if(val=node.getAttr("href")){node.setAttr("_href",val)}break;case"img":if(val=node.getAttr("src")){if(/^data:/.test(val)){node.parentNode.removeChild(node);break}}node.setAttr("_src",node.getAttr("src"));break;case"span":if(browser.webkit&&(val=node.getStyle("white-space"))){if(/nowrap|normal/.test(val)){node.setStyle("white-space","");if(me.options.autoClearEmptyNode&&utils.isEmptyObject(node.attrs)){node.parentNode.removeChild(node,true)}}}break;case"p":if(val=node.getAttr("align")){node.setAttr("align");node.setStyle("text-align",val)}utils.each(node.children,function(n){if(n.type=="element"&&n.tagName=="p"){var next=n.nextSibling();node.parentNode.insertAfter(n,node);var last=n;while(next){var tmp=next.nextSibling();node.parentNode.insertAfter(next,last);last=next;next=tmp}return false}});if(!node.firstChild()){node.innerHTML(browser.ie?"&nbsp;":"<br/>")}break;case"div":if(node.getAttr("cdata_tag")){break}val=node.getAttr("class");if(val&&/^line number\d+/.test(val)){break}if(!allowDivTransToP){break}var tmpNode,p=UE.uNode.createElement("p");while(tmpNode=node.firstChild()){if(tmpNode.type=="text"||!UE.dom.dtd.$block[tmpNode.tagName]){p.appendChild(tmpNode)}else{if(p.firstChild()){node.parentNode.insertBefore(p,node);p=UE.uNode.createElement("p")}else{node.parentNode.insertBefore(tmpNode,node)}}}if(p.firstChild()){node.parentNode.insertBefore(p,node)}node.parentNode.removeChild(node);break;case"dl":node.tagName="ul";break;case"dt":case"dd":node.tagName="li";break;case"li":var className=node.getAttr("class");if(!className||!/list\-/.test(className)){node.setAttr()}var tmpNodes=node.getNodesByTagName("ol ul");UE.utils.each(tmpNodes,function(n){node.parentNode.insertAfter(n,node)});break;case"td":case"th":case"caption":if(!node.children||!node.children.length){node.appendChild(browser.ie?UE.uNode.createText(" "):UE.uNode.createElement("br"))}break;case"table":if(me.options.disabledTableInTable&&tdParent(node)){node.parentNode.insertBefore(UE.uNode.createText(node.innerText()),node);node.parentNode.removeChild(node)}}}})});me.addOutputRule(function(root){var val;root.traversal(function(node){if(node.type=="element"){if(me.options.autoClearEmptyNode&&dtd.$inline[node.tagName]&&!dtd.$empty[node.tagName]&&(!node.attrs||utils.isEmptyObject(node.attrs))){if(!node.firstChild())node.parentNode.removeChild(node);else if(node.tagName=="span"&&(!node.attrs||utils.isEmptyObject(node.attrs))){node.parentNode.removeChild(node,true)}return}switch(node.tagName){case"div":if(val=node.getAttr("cdata_tag")){node.tagName=val;node.appendChild(UE.uNode.createText(node.getAttr("cdata_data")));node.setAttr({cdata_tag:"",cdata_data:"",cJi:""})}break;case"a":if(val=node.getAttr("_href")){node.setAttr({href:utils.html(val),sl:""})}break;case"img":if(val=node.getAttr("_src")){node.setAttr({src:node.getAttr("_src"),kd:""})}}}})})};UE.commands["inserthtml"]={execCommand:function(command,html,notNeedFilter){var me=this,range,div;if(!html){return}if(me.fireEvent("beforeinserthtml",html)===true){return}range=me.selection.getRange();div=range.document.createElement("div");div.style.display="inline";if(!notNeedFilter){var root=UE.htmlparser(html);if(me.options.filterRules){UE.filterNode(root,me.options.filterRules)}me.filterInputRule(root);html=root.toHtml()}div.innerHTML=utils.trim(html);if(!range.collapsed){var tmpNode=range.startContainer;if(domUtils.isFillChar(tmpNode)){range.setStartBefore(tmpNode)}tmpNode=range.endContainer;if(domUtils.isFillChar(tmpNode)){range.setEndAfter(tmpNode)}range.txtToElmBoundary();if(range.endContainer&&range.endContainer.nodeType==1){tmpNode=range.endContainer.childNodes[range.endOffset];if(tmpNode&&domUtils.isBr(tmpNode)){range.setEndAfter(tmpNode)}}if(range.startOffset==0){tmpNode=range.startContainer;if(domUtils.isBoundaryNode(tmpNode,"firstChild")){tmpNode=range.endContainer;if(range.endOffset==(tmpNode.nodeType==3?tmpNode.nodeValue.length:tmpNode.childNodes.length)&&domUtils.isBoundaryNode(tmpNode,"lastChild")){me.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>";range.setStart(me.body.firstChild,0).collapse(true)}}}!range.collapsed&&range.deleteContents();if(range.startContainer.nodeType==1){var child=range.startContainer.childNodes[range.startOffset],pre;if(child&&domUtils.isBlockElm(child)&&(pre=child.previousSibling)&&domUtils.isBlockElm(pre)){range.setEnd(pre,pre.childNodes.length).collapse();while(child.firstChild){pre.appendChild(child.firstChild)}domUtils.remove(child)}}}var child,parent,pre,tmp,hadBreak=0,nextNode;if(range.inFillChar()){child=range.startContainer;if(domUtils.isFillChar(child)){range.setStartBefore(child).collapse(true);domUtils.remove(child)}else if(domUtils.isFillChar(child,true)){child.nodeValue=child.nodeValue.replace(fillCharReg,"");range.startOffset--;range.collapsed&&range.collapse(true)}}var li=domUtils.findParentByTagName(range.startContainer,"li",true);if(li){var next,last;while(child=div.firstChild){while(child&&(child.nodeType==3||!domUtils.isBlockElm(child)||child.tagName=="HR")){next=child.nextSibling;range.insertNode(child).collapse();last=child;child=next}if(child){if(/^(ol|ul)$/i.test(child.tagName)){while(child.firstChild){last=child.firstChild;domUtils.insertAfter(li,child.firstChild);li=li.nextSibling}domUtils.remove(child)}else{var tmpLi;next=child.nextSibling;tmpLi=me.document.createElement("li");domUtils.insertAfter(li,tmpLi);tmpLi.appendChild(child);last=child;child=next;li=tmpLi}}}li=domUtils.findParentByTagName(range.startContainer,"li",true);if(domUtils.isEmptyBlock(li)){domUtils.remove(li)}if(last){range.setStartAfter(last).collapse(true).select(true)}}else{while(child=div.firstChild){if(hadBreak){var p=me.document.createElement("p");while(child&&(child.nodeType==3||!dtd.$block[child.tagName])){nextNode=child.nextSibling;p.appendChild(child);child=nextNode}if(p.firstChild){child=p}}range.insertNode(child);nextNode=child.nextSibling;if(!hadBreak&&child.nodeType==domUtils.NODE_ELEMENT&&domUtils.isBlockElm(child)){parent=domUtils.findParent(child,function(node){return domUtils.isBlockElm(node)});if(parent&&parent.tagName.toLowerCase()!="body"&&!(dtd[parent.tagName][child.nodeName]&&child.parentNode===parent)){if(!dtd[parent.tagName][child.nodeName]){pre=parent}else{tmp=child.parentNode;while(tmp!==parent){pre=tmp;tmp=tmp.parentNode}}domUtils.breakParent(child,pre||tmp);var pre=child.previousSibling;domUtils.trimWhiteTextNode(pre);if(!pre.childNodes.length){domUtils.remove(pre)}if(!browser.ie&&(next=child.nextSibling)&&domUtils.isBlockElm(next)&&next.lastChild&&!domUtils.isBr(next.lastChild)){next.appendChild(me.document.createElement("br"))}hadBreak=1}}var next=child.nextSibling;if(!div.firstChild&&next&&domUtils.isBlockElm(next)){range.setStart(next,0).collapse(true);break}range.setEndAfter(child).collapse()}child=range.startContainer;if(nextNode&&domUtils.isBr(nextNode)){domUtils.remove(nextNode)}if(domUtils.isBlockElm(child)&&domUtils.isEmptyNode(child)){if(nextNode=child.nextSibling){domUtils.remove(child);if(nextNode.nodeType==1&&dtd.$block[nextNode.tagName]){range.setStart(nextNode,0).collapse(true).shrinkBoundary()}}else{try{child.innerHTML=browser.ie?domUtils.fillChar:"<br/>"}catch(e){range.setStartBefore(child);domUtils.remove(child)}}}try{range.select(true)}catch(e){}}setTimeout(function(){range=me.selection.getRange();range.scrollToView(me.autoHeightEnabled,me.autoHeightEnabled?domUtils.getXY(me.iframe).y:0);me.fireEvent("afterinserthtml")},200)}};UE.plugins["autotypeset"]=function(){this.setOpt({autotypeset:{mergeEmptyline:true,removeClass:true,removeEmptyline:false,textAlign:"left",imageBlockLine:"center",pasteFilter:false,clearFontSize:false,clearFontFamily:false,removeEmptyNode:false,removeTagNames:utils.extend({div:1},dtd.$removeEmpty),indent:false,indentValue:"2em"}});var me=this,opt=me.options.autotypeset,remainClass={selectTdClass:1,pagebreak:1,anchorclass:1},remainTag={li:1},tags={div:1,p:1,blockquote:1,center:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,span:1},highlightCont;if(!opt){return}function isLine(node,notEmpty){if(!node||node.nodeType==3)return 0;if(domUtils.isBr(node))return 1;if(node&&node.parentNode&&tags[node.tagName.toLowerCase()]){if(highlightCont&&highlightCont.contains(node)||node.getAttribute("pagebreak")){return 0}return notEmpty?!domUtils.isEmptyBlock(node):domUtils.isEmptyBlock(node,new RegExp("[\\s"+domUtils.fillChar+"]","g"))}}function removeNotAttributeSpan(node){if(!node.style.cssText){domUtils.removeAttributes(node,["style"]);if(node.tagName.toLowerCase()=="span"&&domUtils.hasNoAttributes(node)){domUtils.remove(node,true)}}}function autotype(type,html){var me=this,cont;if(html){if(!opt.pasteFilter){return}cont=me.document.createElement("div");cont.innerHTML=html.html}else{cont=me.document.body}var nodes=domUtils.getElementsByTagName(cont,"*");for(var i=0,ci;ci=nodes[i++];){if(me.fireEvent("excludeNodeinautotype",ci)===true){continue}if(opt.clearFontSize&&ci.style.fontSize){domUtils.removeStyle(ci,"font-size");removeNotAttributeSpan(ci)}if(opt.clearFontFamily&&ci.style.fontFamily){domUtils.removeStyle(ci,"font-family");removeNotAttributeSpan(ci)}if(isLine(ci)){if(opt.mergeEmptyline){var next=ci.nextSibling,tmpNode,isBr=domUtils.isBr(ci);while(isLine(next)){tmpNode=next;next=tmpNode.nextSibling;if(isBr&&(!next||next&&!domUtils.isBr(next))){break}domUtils.remove(tmpNode)}}if(opt.removeEmptyline&&domUtils.inDoc(ci,cont)&&!remainTag[ci.parentNode.tagName.toLowerCase()]){if(domUtils.isBr(ci)){next=ci.nextSibling;if(next&&!domUtils.isBr(next)){continue}}domUtils.remove(ci);continue}}if(isLine(ci,true)&&ci.tagName!="SPAN"){if(opt.indent){ci.style.textIndent=opt.indentValue}if(opt.textAlign){ci.style.textAlign=opt.textAlign}}if(opt.removeClass&&ci.className&&!remainClass[ci.className.toLowerCase()]){if(highlightCont&&highlightCont.contains(ci)){continue}domUtils.removeAttributes(ci,["class"])}if(opt.imageBlockLine&&ci.tagName.toLowerCase()=="img"&&!ci.getAttribute("emotion")){if(html){var img=ci;switch(opt.imageBlockLine){case"left":case"right":case"none":var pN=img.parentNode,tmpNode,pre,next;while(dtd.$inline[pN.tagName]||pN.tagName=="A"){pN=pN.parentNode}tmpNode=pN;if(tmpNode.tagName=="P"&&domUtils.getStyle(tmpNode,"text-align")=="center"){if(!domUtils.isBody(tmpNode)&&domUtils.getChildCount(tmpNode,function(node){return!domUtils.isBr(node)&&!domUtils.isWhitespace(node)})==1){pre=tmpNode.previousSibling;next=tmpNode.nextSibling;if(pre&&next&&pre.nodeType==1&&next.nodeType==1&&pre.tagName==next.tagName&&domUtils.isBlockElm(pre)){pre.appendChild(tmpNode.firstChild);while(next.firstChild){pre.appendChild(next.firstChild)}domUtils.remove(tmpNode);domUtils.remove(next)}else{domUtils.setStyle(tmpNode,"text-align","")}}}domUtils.setStyle(img,"float",opt.imageBlockLine);break;case"center":if(me.queryCommandValue("imagefloat")!="center"){pN=img.parentNode;domUtils.setStyle(img,"float","none");tmpNode=img;while(pN&&domUtils.getChildCount(pN,function(node){return!domUtils.isBr(node)&&!domUtils.isWhitespace(node)})==1&&(dtd.$inline[pN.tagName]||pN.tagName=="A")){tmpNode=pN;pN=pN.parentNode}var pNode=me.document.createElement("p");domUtils.setAttributes(pNode,{style:"text-align:center"});tmpNode.parentNode.insertBefore(pNode,tmpNode);pNode.appendChild(tmpNode);domUtils.setStyle(tmpNode,"float","")}}}else{var range=me.selection.getRange();range.selectNode(ci).select();me.execCommand("imagefloat",opt.imageBlockLine)}}if(opt.removeEmptyNode){if(opt.removeTagNames[ci.tagName.toLowerCase()]&&domUtils.hasNoAttributes(ci)&&domUtils.isEmptyBlock(ci)){domUtils.remove(ci)}}}if(html){html.html=cont.innerHTML}}if(opt.pasteFilter){me.addListener("beforepaste",autotype)}me.commands["autotypeset"]={execCommand:function(){me.removeListener("beforepaste",autotype);if(opt.pasteFilter){me.addListener("beforepaste",autotype)}autotype.call(me)}}};UE.plugin.register("autosubmit",function(){return{shortcutkey:{autosubmit:"ctrl+13"},commands:{autosubmit:{execCommand:function(){var me=this,form=domUtils.findParentByTagName(me.iframe,"form",false);if(form){if(me.fireEvent("beforesubmit")===false){return}me.sync();form.submit()}}}}}});UE.plugin.register("background",function(){var me=this,cssRuleId="editor_background",isSetColored,reg=new RegExp("body[\\s]*\\{(.+)\\}","i");function stringToObj(str){var obj={},styles=str.split(";");utils.each(styles,function(v){var index=v.indexOf(":"),key=utils.trim(v.substr(0,index)).toLowerCase();key&&(obj[key]=utils.trim(v.substr(index+1)||""))});return obj}function setBackground(obj){if(obj){var styles=[];for(var name in obj){if(obj.hasOwnProperty(name)){styles.push(name+":"+obj[name]+"; ")}}utils.cssRule(cssRuleId,styles.length?"body{"+styles.join("")+"}":"",me.document)}else{utils.cssRule(cssRuleId,"",me.document)}}var orgFn=me.hasContents;me.hasContents=function(){if(me.queryCommandValue("background")){return true}return orgFn.apply(me,arguments)};return{bindEvents:{getAllHtml:function(type,headHtml){var body=this.body,su=domUtils.getComputedStyle(body,"background-image"),url="";if(su.indexOf(me.options.imagePath)>0){url=su.substring(su.indexOf(me.options.imagePath),su.length-1).replace(/"|\(|\)/ig,"")}else{url=su!="none"?su.replace(/url\("?|"?\)/ig,""):""}var html='<style type="text/css">body{';var bgObj={"background-color":domUtils.getComputedStyle(body,"background-color")||"#ffffff","background-image":url?"url("+url+")":"","background-repeat":domUtils.getComputedStyle(body,"background-repeat")||"","background-position":browser.ie?domUtils.getComputedStyle(body,"background-position-x")+" "+domUtils.getComputedStyle(body,"background-position-y"):domUtils.getComputedStyle(body,"background-position"),height:domUtils.getComputedStyle(body,"height")};for(var name in bgObj){if(bgObj.hasOwnProperty(name)){html+=name+":"+bgObj[name]+"; "}}html+="}</style> ";headHtml.push(html)},aftersetcontent:function(){if(isSetColored==false)setBackground()}},inputRule:function(root){isSetColored=false;utils.each(root.getNodesByTagName("p"),function(p){var styles=p.getAttr("data-background");if(styles){isSetColored=true;setBackground(stringToObj(styles));p.parentNode.removeChild(p)}})},outputRule:function(root){var me=this,styles=(utils.cssRule(cssRuleId,me.document)||"").replace(/[\n\r]+/g,"").match(reg);if(styles){root.appendChild(UE.uNode.createElement('<p style="display:none;" data-background="'+utils.trim(styles[1].replace(/"/g,"").replace(/[\s]+/g," "))+'"><br/></p>'))}},commands:{background:{execCommand:function(cmd,obj){setBackground(obj)},queryCommandValue:function(){var me=this,styles=(utils.cssRule(cssRuleId,me.document)||"").replace(/[\n\r]+/g,"").match(reg);return styles?stringToObj(styles[1]):null},notNeedUndo:true}}}});UE.commands["imagefloat"]={execCommand:function(cmd,align){var me=this,range=me.selection.getRange();if(!range.collapsed){var img=range.getClosedNode();if(img&&img.tagName=="IMG"){switch(align){case"left":case"right":case"none":var pN=img.parentNode,tmpNode,pre,next;while(dtd.$inline[pN.tagName]||pN.tagName=="A"){pN=pN.parentNode}tmpNode=pN;if(tmpNode.tagName=="P"&&domUtils.getStyle(tmpNode,"text-align")=="center"){if(!domUtils.isBody(tmpNode)&&domUtils.getChildCount(tmpNode,function(node){return!domUtils.isBr(node)&&!domUtils.isWhitespace(node)})==1){pre=tmpNode.previousSibling;next=tmpNode.nextSibling;if(pre&&next&&pre.nodeType==1&&next.nodeType==1&&pre.tagName==next.tagName&&domUtils.isBlockElm(pre)){pre.appendChild(tmpNode.firstChild);while(next.firstChild){pre.appendChild(next.firstChild)}domUtils.remove(tmpNode);domUtils.remove(next)}else{domUtils.setStyle(tmpNode,"text-align","")}}range.selectNode(img).select()}domUtils.setStyle(img,"float",align=="none"?"":align);if(align=="none"){domUtils.removeAttributes(img,"align")}break;case"center":if(me.queryCommandValue("imagefloat")!="center"){pN=img.parentNode;domUtils.setStyle(img,"float","");domUtils.removeAttributes(img,"align");tmpNode=img;while(pN&&domUtils.getChildCount(pN,function(node){return!domUtils.isBr(node)&&!domUtils.isWhitespace(node)})==1&&(dtd.$inline[pN.tagName]||pN.tagName=="A")){tmpNode=pN;pN=pN.parentNode}range.setStartBefore(tmpNode).setCursor(false);pN=me.document.createElement("div");pN.appendChild(tmpNode);domUtils.setStyle(tmpNode,"float","");me.execCommand("insertHtml",'<p id="_img_parent_tmp" style="text-align:center">'+pN.innerHTML+"</p>");tmpNode=me.document.getElementById("_img_parent_tmp");tmpNode.removeAttribute("id");tmpNode=tmpNode.firstChild;range.selectNode(tmpNode).select();next=tmpNode.parentNode.nextSibling;if(next&&domUtils.isEmptyNode(next)){domUtils.remove(next)}}break}}}},queryCommandValue:function(){var range=this.selection.getRange(),startNode,floatStyle;if(range.collapsed){return"none"}startNode=range.getClosedNode();if(startNode&&startNode.nodeType==1&&startNode.tagName=="IMG"){floatStyle=domUtils.getComputedStyle(startNode,"float")||startNode.getAttribute("align");if(floatStyle=="none"){floatStyle=domUtils.getComputedStyle(startNode.parentNode,"text-align")=="center"?"center":floatStyle}return{left:1,right:1,center:1}[floatStyle]?floatStyle:"none"}return"none"},queryCommandState:function(){var range=this.selection.getRange(),startNode;if(range.collapsed)return-1;startNode=range.getClosedNode();if(startNode&&startNode.nodeType==1&&startNode.tagName=="IMG"){return 0}return-1}};UE.commands["insertimage"]={execCommand:function(cmd,opt){opt=utils.isArray(opt)?opt:[opt];if(!opt.length){return}var me=this,range=me.selection.getRange(),img=range.getClosedNode();if(img&&/img/i.test(img.tagName)&&(img.className!="edui-faked-video"||img.className.indexOf("edui-upload-video")!=-1)&&!img.getAttribute("word_img")){var first=opt.shift();var floatStyle=first["floatStyle"];delete first["floatStyle"];domUtils.setAttributes(img,first);me.execCommand("imagefloat",floatStyle);if(opt.length>0){range.setStartAfter(img).setCursor(false,true);me.execCommand("insertimage",opt)}}else{var html=[],str="",ci;ci=opt[0];if(opt.length==1){str='<img src="'+ci.src+'" '+(ci.kd?' _src="'+ci.kd+'" ':"")+(ci.id?'id="'+ci.id+'" ':"")+(ci.width?'width="'+ci.width+'" ':"")+(ci.height?' height="'+ci.height+'" ':"")+(ci["floatStyle"]=="left"||ci["floatStyle"]=="right"?' style="float:'+ci["floatStyle"]+';"':"")+(ci.title&&ci.title!=""?' title="'+ci.title+'"':"")+(ci.border&&ci.border!="0"?' border="'+ci.border+'"':"")+(ci.alt&&ci.alt!=""?' alt="'+ci.alt+'"':"")+(ci.hspace&&ci.hspace!="0"?' hspace = "'+ci.hspace+'"':"")+(ci.vspace&&ci.vspace!="0"?' vspace = "'+ci.vspace+'"':"")+"/>";if(ci["floatStyle"]=="center"){str='<p style="text-align: center">'+str+"</p>"}html.push(str)}else{for(var i=0;ci=opt[i++];){str="<p "+(ci["floatStyle"]=="center"?'style="text-align: center" ':"")+'><img src="'+ci.src+'" '+(ci.id?'id="'+ci.id+'" ':"")+(ci.width?'width="'+ci.width+'" ':"")+(ci.kd?' _src="'+ci.kd+'" ':"")+(ci.height?' height="'+ci.height+'" ':"")+' style="'+(ci["floatStyle"]&&ci["floatStyle"]!="center"?"float:"+ci["floatStyle"]+";":"")+(ci.border||"")+'" '+(ci.title?' title="'+ci.title+'"':"")+" /></p>";html.push(str)}}me.execCommand("insertHtml",html.join(""))}}};UE.plugins["justify"]=function(){var me=this,block=domUtils.isBlockElm,defaultValue={left:1,right:1,center:1,justify:1},doJustify=function(range,style){var bookmark=range.createBookmark(),filterFn=function(node){return node.nodeType==1?node.tagName.toLowerCase()!="br"&&!domUtils.isBookmarkNode(node):!domUtils.isWhitespace(node)};range.enlarge(true);var bookmark2=range.createBookmark(),current=domUtils.getNextDomNode(bookmark2.start,false,filterFn),tmpRange=range.cloneRange(),tmpNode;while(current&&!(domUtils.getPosition(current,bookmark2.end)&domUtils.POSITION_FOLLOWING)){if(current.nodeType==3||!block(current)){tmpRange.setStartBefore(current);while(current&&current!==bookmark2.end&&!block(current)){tmpNode=current;current=domUtils.getNextDomNode(current,false,null,function(node){return!block(node)})}tmpRange.setEndAfter(tmpNode);var common=tmpRange.getCommonAncestor();if(!domUtils.isBody(common)&&block(common)){domUtils.setStyles(common,utils.isString(style)?{"text-align":style}:style);current=common}else{var p=range.document.createElement("p");domUtils.setStyles(p,utils.isString(style)?{"text-align":style}:style);var frag=tmpRange.extractContents();p.appendChild(frag);tmpRange.insertNode(p);current=p}current=domUtils.getNextDomNode(current,false,filterFn)}else{current=domUtils.getNextDomNode(current,true,filterFn)}}return range.moveToBookmark(bookmark2).moveToBookmark(bookmark)};UE.commands["justify"]={execCommand:function(cmdName,align){var range=this.selection.getRange(),txt;if(range.collapsed){txt=this.document.createTextNode("p");range.insertNode(txt)}doJustify(range,align);if(txt){range.setStartBefore(txt).collapse(true);domUtils.remove(txt)}range.select();return true},queryCommandValue:function(){var startNode=this.selection.getStart(),value=domUtils.getComputedStyle(startNode,"text-align");return defaultValue[value]?value:"left"},queryCommandState:function(){var start=this.selection.getStart(),cell=start&&domUtils.findParentByTagName(start,["td","th","caption"],true);return cell?-1:0}}};UE.plugins["font"]=function(){var me=this,fonts={forecolor:"color",backcolor:"background-color",fontsize:"font-size",fontfamily:"font-family",underline:"text-decoration",strikethrough:"text-decoration",fontborder:"border"},needCmd={underline:1,strikethrough:1,fontborder:1},needSetChild={forecolor:"color",backcolor:"background-color",fontsize:"font-size",fontfamily:"font-family"};me.setOpt({fontfamily:[{name:"songti",val:"宋体,SimSun"},{name:"yahei",val:"微软雅黑,Microsoft YaHei"},{name:"kaiti",val:"楷体,楷体_GB2312, SimKai"},{name:"heiti",val:"黑体, SimHei"},{name:"lishu",val:"隶书, SimLi"},{name:"andaleMono",val:"andale mono"},{name:"arial",val:"arial, helvetica,sans-serif"},{name:"arialBlack",val:"arial black,avant garde"},{name:"comicSansMs",val:"comic sans ms"},{name:"impact",val:"impact,chicago"},{name:"timesNewRoman",val:"times new roman"}],fontsize:[10,11,12,14,16,18,20,24,36]});function mergeWithParent(node){var parent;while(parent=node.parentNode){if(parent.tagName=="SPAN"&&domUtils.getChildCount(parent,function(child){return!domUtils.isBookmarkNode(child)&&!domUtils.isBr(child)})==1){parent.style.cssText+=node.style.cssText;domUtils.remove(node,true);node=parent}else{break}}}function mergeChild(rng,cmdName,value){if(needSetChild[cmdName]){rng.adjustmentBoundary();if(!rng.collapsed&&rng.startContainer.nodeType==1){var start=rng.startContainer.childNodes[rng.startOffset];if(start&&domUtils.isTagNode(start,"span")){var bk=rng.createBookmark();utils.each(domUtils.getElementsByTagName(start,"span"),function(span){if(!span.parentNode||domUtils.isBookmarkNode(span))return;if(cmdName=="backcolor"&&domUtils.getComputedStyle(span,"background-color").toLowerCase()===value){return}domUtils.removeStyle(span,needSetChild[cmdName]);if(span.style.cssText.replace(/^\s+$/,"").length==0){domUtils.remove(span,true)}});rng.moveToBookmark(bk)}}}}function mergesibling(rng,cmdName,value){var collapsed=rng.collapsed,bk=rng.createBookmark(),common;if(collapsed){common=bk.start.parentNode;while(dtd.$inline[common.tagName]){common=common.parentNode}}else{common=domUtils.getCommonAncestor(bk.start,bk.end)}utils.each(domUtils.getElementsByTagName(common,"span"),function(span){if(!span.parentNode||domUtils.isBookmarkNode(span))return;if(/\s*border\s*:\s*none;?\s*/i.test(span.style.cssText)){if(/^\s*border\s*:\s*none;?\s*$/.test(span.style.cssText)){domUtils.remove(span,true)}else{domUtils.removeStyle(span,"border")}return}if(/border/i.test(span.style.cssText)&&span.parentNode.tagName=="SPAN"&&/border/i.test(span.parentNode.style.cssText)){span.style.cssText=span.style.cssText.replace(/border[^:]*:[^;]+;?/gi,"")}if(!(cmdName=="fontborder"&&value=="none")){var next=span.nextSibling;while(next&&next.nodeType==1&&next.tagName=="SPAN"){if(domUtils.isBookmarkNode(next)&&cmdName=="fontborder"){span.appendChild(next);next=span.nextSibling;continue}if(next.style.cssText==span.style.cssText){domUtils.moveChild(next,span);domUtils.remove(next)}if(span.nextSibling===next)break;next=span.nextSibling}}mergeWithParent(span);if(browser.ie&&browser.version>8){var parent=domUtils.findParent(span,function(n){return n.tagName=="SPAN"&&/background-color/.test(n.style.cssText)});if(parent&&!/background-color/.test(span.style.cssText)){span.style.backgroundColor=parent.style.backgroundColor}}});rng.moveToBookmark(bk);mergeChild(rng,cmdName,value)}me.addInputRule(function(root){utils.each(root.getNodesByTagName("u s del font strike"),function(node){if(node.tagName=="font"){var cssStyle=[];for(var p in node.attrs){switch(p){case"size":cssStyle.push("font-size:"+({1:"10",2:"12",3:"16",4:"18",5:"24",6:"32",7:"48"}[node.attrs[p]]||node.attrs[p])+"px");break;case"color":cssStyle.push("color:"+node.attrs[p]);break;case"face":cssStyle.push("font-family:"+node.attrs[p]);break;case"style":cssStyle.push(node.attrs[p])}}node.attrs={style:cssStyle.join(";")}}else{var val=node.tagName=="u"?"underline":"line-through";node.attrs={style:(node.getAttr("style")||"")+"text-decoration:"+val+";"}}node.tagName="span"})});for(var p in fonts){(function(cmd,style){UE.commands[cmd]={execCommand:function(cmdName,value){value=value||(this.queryCommandState(cmdName)?"none":cmdName=="underline"?"underline":cmdName=="fontborder"?"1px solid #000":"line-through");var me=this,range=this.selection.getRange(),text;if(value=="default"){if(range.collapsed){text=me.document.createTextNode("font");range.insertNode(text).select()}me.execCommand("removeFormat","span,a",style);if(text){range.setStartBefore(text).collapse(true);domUtils.remove(text)}mergesibling(range,cmdName,value);range.select()}else{if(!range.collapsed){if(needCmd[cmd]&&me.queryCommandValue(cmd)){me.execCommand("removeFormat","span,a",style)}range=me.selection.getRange();range.applyInlineStyle("span",{style:style+":"+value});mergesibling(range,cmdName,value);range.select()}else{var span=domUtils.findParentByTagName(range.startContainer,"span",true);text=me.document.createTextNode("font");if(span&&!span.children.length&&!span[browser.ie?"innerText":"textContent"].replace(fillCharReg,"").length){range.insertNode(text);if(needCmd[cmd]){range.selectNode(text).select();me.execCommand("removeFormat","span,a",style,null);span=domUtils.findParentByTagName(text,"span",true);range.setStartBefore(text)}span&&(span.style.cssText+=";"+style+":"+value);range.collapse(true).select()}else{range.insertNode(text);range.selectNode(text).select();span=range.document.createElement("span");if(needCmd[cmd]){if(domUtils.findParentByTagName(text,"a",true)){range.setStartBefore(text).setCursor();domUtils.remove(text);return}me.execCommand("removeFormat","span,a",style)}span.style.cssText=style+":"+value;text.parentNode.insertBefore(span,text);if(!browser.ie||browser.ie&&browser.version==9){var spanParent=span.parentNode;while(!domUtils.isBlockElm(spanParent)){if(spanParent.tagName=="SPAN"){span.style.cssText=spanParent.style.cssText+";"+span.style.cssText}spanParent=spanParent.parentNode}}if(opera){setTimeout(function(){range.setStart(span,0).collapse(true);mergesibling(range,cmdName,value);range.select()})}else{range.setStart(span,0).collapse(true);mergesibling(range,cmdName,value);range.select()}}domUtils.remove(text)}}return true},queryCommandValue:function(cmdName){var startNode=this.selection.getStart();if(cmdName=="underline"||cmdName=="strikethrough"){var tmpNode=startNode,value;while(tmpNode&&!domUtils.isBlockElm(tmpNode)&&!domUtils.isBody(tmpNode)){if(tmpNode.nodeType==1){value=domUtils.getComputedStyle(tmpNode,style);if(value!="none"){return value}}tmpNode=tmpNode.parentNode}return"none"}if(cmdName=="fontborder"){var tmp=startNode,val;while(tmp&&dtd.$inline[tmp.tagName]){if(val=domUtils.getComputedStyle(tmp,"border")){if(/1px/.test(val)&&/solid/.test(val)){return val}}tmp=tmp.parentNode}return""}if(cmdName=="FontSize"){var styleVal=domUtils.getComputedStyle(startNode,style),tmp=/^([\d\.]+)(\w+)$/.exec(styleVal);if(tmp){return Math.floor(tmp[1])+tmp[2]}return styleVal}return domUtils.getComputedStyle(startNode,style)},queryCommandState:function(cmdName){if(!needCmd[cmdName])return 0;var val=this.queryCommandValue(cmdName);if(cmdName=="fontborder"){return/1px/.test(val)&&/solid/.test(val)}else{return cmdName=="underline"?/underline/.test(val):/line\-through/.test(val)}}}})(p,fonts[p])}};UE.plugins["link"]=function(){function optimize(range){var start=range.startContainer,end=range.endContainer;if(start=domUtils.findParentByTagName(start,"a",true)){range.setStartBefore(start)}if(end=domUtils.findParentByTagName(end,"a",true)){range.setEndAfter(end)}}UE.commands["unlink"]={execCommand:function(){var range=this.selection.getRange(),bookmark;if(range.collapsed&&!domUtils.findParentByTagName(range.startContainer,"a",true)){return}bookmark=range.createBookmark();optimize(range);range.removeInlineStyle("a").moveToBookmark(bookmark).select()},queryCommandState:function(){return!this.highlight&&this.queryCommandValue("link")?0:-1}};function doLink(range,opt,me){var rngClone=range.cloneRange(),link=me.queryCommandValue("link");optimize(range=range.adjustmentBoundary());var start=range.startContainer;if(start.nodeType==1&&link){start=start.childNodes[range.startOffset];if(start&&start.nodeType==1&&start.tagName=="A"&&/^(?:https?|ftp|file)\s*:\s*\/\//.test(start[browser.ie?"innerText":"textContent"])){start[browser.ie?"innerText":"textContent"]=utils.html(opt.textValue||opt.href)}}if(!rngClone.collapsed||link){range.removeInlineStyle("a");rngClone=range.cloneRange()}if(rngClone.collapsed){var a=range.document.createElement("a"),text="";if(opt.textValue){text=utils.html(opt.textValue);delete opt.textValue}else{text=utils.html(opt.href)}domUtils.setAttributes(a,opt);start=domUtils.findParentByTagName(rngClone.startContainer,"a",true);if(start&&domUtils.isInNodeEndBoundary(rngClone,start)){range.setStartAfter(start).collapse(true)}a[browser.ie?"innerText":"textContent"]=text;range.insertNode(a).selectNode(a)}else{range.applyInlineStyle("a",opt)}}UE.commands["link"]={execCommand:function(cmdName,opt){var range;opt.sl&&(opt.sl=utils.unhtml(opt.sl,/[<">]/g));opt.href&&(opt.href=utils.unhtml(opt.href,/[<">]/g));opt.textValue&&(opt.textValue=utils.unhtml(opt.textValue,/[<">]/g));doLink(range=this.selection.getRange(),opt,this);range.collapse().select(true)},queryCommandValue:function(){var range=this.selection.getRange(),node;if(range.collapsed){node=range.startContainer;node=node.nodeType==1?node:node.parentNode;if(node&&(node=domUtils.findParentByTagName(node,"a",true))&&!domUtils.isInNodeEndBoundary(range,node)){return node}}else{range.shrinkBoundary();var start=range.startContainer.nodeType==3||!range.startContainer.childNodes[range.startOffset]?range.startContainer:range.startContainer.childNodes[range.startOffset],end=range.endContainer.nodeType==3||range.endOffset==0?range.endContainer:range.endContainer.childNodes[range.endOffset-1],common=range.getCommonAncestor();node=domUtils.findParentByTagName(common,"a",true);if(!node&&common.nodeType==1){var as=common.getElementsByTagName("a"),ps,pe;for(var i=0,ci;ci=as[i++];){ps=domUtils.getPosition(ci,start),pe=domUtils.getPosition(ci,end);if((ps&domUtils.POSITION_FOLLOWING||ps&domUtils.POSITION_CONTAINS)&&(pe&domUtils.POSITION_PRECEDING||pe&domUtils.POSITION_CONTAINS)){node=ci;break}}}return node}},queryCommandState:function(){var img=this.selection.getRange().getClosedNode(),flag=img&&(img.className=="edui-faked-video"||img.className.indexOf("edui-upload-video")!=-1);return flag?-1:0}}};UE.plugins["insertframe"]=function(){var me=this;function deleteIframe(){me.hO&&delete me.hO}me.addListener("selectionchange",function(){deleteIframe()})};UE.plugins["removeformat"]=function(){var me=this;me.setOpt({removeFormatTags:"b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var",removeFormatAttributes:"class,style,lang,width,height,align,hspace,valign"});me.commands["removeformat"]={execCommand:function(cmdName,tags,style,attrs,notIncludeA){var tagReg=new RegExp("^(?:"+(tags||this.options.removeFormatTags).replace(/,/g,"|")+")$","i"),removeFormatAttributes=style?[]:(attrs||this.options.removeFormatAttributes).split(","),range=new dom.Range(this.document),bookmark,node,parent,filter=function(node){return node.nodeType==1};function isRedundantSpan(node){if(node.nodeType==3||node.tagName.toLowerCase()!="span"){return 0}if(browser.ie){var attrs=node.attributes;if(attrs.length){for(var i=0,l=attrs.length;i<l;i++){if(attrs[i].specified){return 0}}return 1}}return!node.attributes.length}function doRemove(range){var bookmark1=range.createBookmark();if(range.collapsed){range.enlarge(true)}if(!notIncludeA){var aNode=domUtils.findParentByTagName(range.startContainer,"a",true);if(aNode){range.setStartBefore(aNode)}aNode=domUtils.findParentByTagName(range.endContainer,"a",true);if(aNode){range.setEndAfter(aNode)}}bookmark=range.createBookmark();node=bookmark.start;while((parent=node.parentNode)&&!domUtils.isBlockElm(parent)){domUtils.breakParent(node,parent);domUtils.clearEmptySibling(node)}if(bookmark.end){node=bookmark.end;while((parent=node.parentNode)&&!domUtils.isBlockElm(parent)){domUtils.breakParent(node,parent);domUtils.clearEmptySibling(node)}var current=domUtils.getNextDomNode(bookmark.start,false,filter),next;while(current){if(current==bookmark.end){break}next=domUtils.getNextDomNode(current,true,filter);if(!dtd.$empty[current.tagName.toLowerCase()]&&!domUtils.isBookmarkNode(current)){if(tagReg.test(current.tagName)){if(style){domUtils.removeStyle(current,style);if(isRedundantSpan(current)&&style!="text-decoration"){domUtils.remove(current,true)}}else{domUtils.remove(current,true)}}else{if(!dtd.$tableContent[current.tagName]&&!dtd.$list[current.tagName]){domUtils.removeAttributes(current,removeFormatAttributes);if(isRedundantSpan(current)){domUtils.remove(current,true)}}}}current=next}}var pN=bookmark.start.parentNode;if(domUtils.isBlockElm(pN)&&!dtd.$tableContent[pN.tagName]&&!dtd.$list[pN.tagName]){domUtils.removeAttributes(pN,removeFormatAttributes)}pN=bookmark.end.parentNode;if(bookmark.end&&domUtils.isBlockElm(pN)&&!dtd.$tableContent[pN.tagName]&&!dtd.$list[pN.tagName]){domUtils.removeAttributes(pN,removeFormatAttributes)}range.moveToBookmark(bookmark).moveToBookmark(bookmark1);var node=range.startContainer,tmp,collapsed=range.collapsed;while(node.nodeType==1&&domUtils.isEmptyNode(node)&&dtd.$removeEmpty[node.tagName]){tmp=node.parentNode;range.setStartBefore(node);if(range.startContainer===range.endContainer){range.endOffset--}domUtils.remove(node);node=tmp}if(!collapsed){node=range.endContainer;while(node.nodeType==1&&domUtils.isEmptyNode(node)&&dtd.$removeEmpty[node.tagName]){tmp=node.parentNode;range.setEndBefore(node);domUtils.remove(node);node=tmp}}}range=this.selection.getRange();doRemove(range);range.select()}}};UE.plugins["blockquote"]=function(){var me=this;function getObj(editor){return domUtils.filterNodeList(editor.selection.getStartElementPath(),"blockquote")}me.commands["blockquote"]={execCommand:function(cmdName,attrs){var range=this.selection.getRange(),obj=getObj(this),blockquote=dtd.blockquote,bookmark=range.createBookmark();if(obj){var start=range.startContainer,startBlock=domUtils.isBlockElm(start)?start:domUtils.findParent(start,function(node){return domUtils.isBlockElm(node)}),end=range.endContainer,endBlock=domUtils.isBlockElm(end)?end:domUtils.findParent(end,function(node){return domUtils.isBlockElm(node)});startBlock=domUtils.findParentByTagName(startBlock,"li",true)||startBlock;endBlock=domUtils.findParentByTagName(endBlock,"li",true)||endBlock;if(startBlock.tagName=="LI"||startBlock.tagName=="TD"||startBlock===obj||domUtils.isBody(startBlock)){domUtils.remove(obj,true)}else{domUtils.breakParent(startBlock,obj)}if(startBlock!==endBlock){obj=domUtils.findParentByTagName(endBlock,"blockquote");if(obj){if(endBlock.tagName=="LI"||endBlock.tagName=="TD"||domUtils.isBody(endBlock)){obj.parentNode&&domUtils.remove(obj,true)}else{domUtils.breakParent(endBlock,obj)}}}var blockquotes=domUtils.getElementsByTagName(this.document,"blockquote");for(var i=0,bi;bi=blockquotes[i++];){if(!bi.childNodes.length){domUtils.remove(bi)}else if(domUtils.getPosition(bi,startBlock)&domUtils.POSITION_FOLLOWING&&domUtils.getPosition(bi,endBlock)&domUtils.POSITION_PRECEDING){domUtils.remove(bi,true)}}}else{var tmpRange=range.cloneRange(),node=tmpRange.startContainer.nodeType==1?tmpRange.startContainer:tmpRange.startContainer.parentNode,preNode=node,doEnd=1;while(1){if(domUtils.isBody(node)){if(preNode!==node){if(range.collapsed){tmpRange.selectNode(preNode);doEnd=0}else{tmpRange.setStartBefore(preNode)}}else{tmpRange.setStart(node,0)}break}if(!blockquote[node.tagName]){if(range.collapsed){tmpRange.selectNode(preNode)}else{tmpRange.setStartBefore(preNode)}break}preNode=node;node=node.parentNode}if(doEnd){preNode=node=node=tmpRange.endContainer.nodeType==1?tmpRange.endContainer:tmpRange.endContainer.parentNode;while(1){if(domUtils.isBody(node)){if(preNode!==node){tmpRange.setEndAfter(preNode)}else{tmpRange.setEnd(node,node.childNodes.length)}break}if(!blockquote[node.tagName]){tmpRange.setEndAfter(preNode);break}preNode=node;node=node.parentNode}}node=range.document.createElement("blockquote");domUtils.setAttributes(node,attrs);node.appendChild(tmpRange.extractContents());tmpRange.insertNode(node);var childs=domUtils.getElementsByTagName(node,"blockquote");for(var i=0,ci;ci=childs[i++];){if(ci.parentNode){domUtils.remove(ci,true)}}}range.moveToBookmark(bookmark).select()},queryCommandState:function(){return getObj(this)?1:0}}};UE.commands["touppercase"]=UE.commands["tolowercase"]={execCommand:function(cmd){var me=this;var rng=me.selection.getRange();if(rng.collapsed){return rng}var bk=rng.createBookmark(),bkEnd=bk.end,filterFn=function(node){return!domUtils.isBr(node)&&!domUtils.isWhitespace(node)},curNode=domUtils.getNextDomNode(bk.start,false,filterFn);while(curNode&&domUtils.getPosition(curNode,bkEnd)&domUtils.POSITION_PRECEDING){if(curNode.nodeType==3){curNode.nodeValue=curNode.nodeValue[cmd=="touppercase"?"toUpperCase":"toLowerCase"]()}curNode=domUtils.getNextDomNode(curNode,true,filterFn);if(curNode===bkEnd){break}}rng.moveToBookmark(bk).select()}};UE.commands["indent"]={execCommand:function(){var me=this,value=me.queryCommandState("indent")?"0em":me.options.indentValue||"2em";me.execCommand("Paragraph","p",{style:"text-indent:"+value})},queryCommandState:function(){var pN=domUtils.filterNodeList(this.selection.getStartElementPath(),"p h1 h2 h3 h4 h5 h6");return pN&&pN.style.textIndent&&parseInt(pN.style.textIndent)?1:0}};UE.commands["print"]={execCommand:function(){this.window.print()},notNeedUndo:1};UE.plugins["selectall"]=function(){var me=this;me.commands["selectall"]={execCommand:function(){var me=this,body=me.body,range=me.selection.getRange();range.selectNodeContents(body);if(domUtils.isEmptyBlock(body)){if(browser.opera&&body.firstChild&&body.firstChild.nodeType==1){range.setStartAtFirst(body.firstChild)}range.collapse(true)}range.select(true)},notNeedUndo:1};me.addshortcutkey({selectAll:"ctrl+65"})};UE.plugins["paragraph"]=function(){var me=this,block=domUtils.isBlockElm,notExchange=["TD","LI","PRE"],doParagraph=function(range,style,attrs,sourceCmdName){var bookmark=range.createBookmark(),filterFn=function(node){return node.nodeType==1?node.tagName.toLowerCase()!="br"&&!domUtils.isBookmarkNode(node):!domUtils.isWhitespace(node)},para;range.enlarge(true);var bookmark2=range.createBookmark(),current=domUtils.getNextDomNode(bookmark2.start,false,filterFn),tmpRange=range.cloneRange(),tmpNode;while(current&&!(domUtils.getPosition(current,bookmark2.end)&domUtils.POSITION_FOLLOWING)){if(current.nodeType==3||!block(current)){tmpRange.setStartBefore(current);while(current&&current!==bookmark2.end&&!block(current)){tmpNode=current;current=domUtils.getNextDomNode(current,false,null,function(node){return!block(node)})}tmpRange.setEndAfter(tmpNode);para=range.document.createElement(style);if(attrs){domUtils.setAttributes(para,attrs);if(sourceCmdName&&sourceCmdName=="customstyle"&&attrs.style){para.style.cssText=attrs.style}}para.appendChild(tmpRange.extractContents());if(domUtils.isEmptyNode(para)){domUtils.fillChar(range.document,para)}tmpRange.insertNode(para);var parent=para.parentNode;if(block(parent)&&!domUtils.isBody(para.parentNode)&&utils.indexOf(notExchange,parent.tagName)==-1){if(!(sourceCmdName&&sourceCmdName=="customstyle")){parent.getAttribute("dir")&&para.setAttribute("dir",parent.getAttribute("dir"));parent.style.cssText&&(para.style.cssText=parent.style.cssText+";"+para.style.cssText);parent.style.textAlign&&!para.style.textAlign&&(para.style.textAlign=parent.style.textAlign);parent.style.textIndent&&!para.style.textIndent&&(para.style.textIndent=parent.style.textIndent);parent.style.padding&&!para.style.padding&&(para.style.padding=parent.style.padding)}if(attrs&&/h\d/i.test(parent.tagName)&&!/h\d/i.test(para.tagName)){domUtils.setAttributes(parent,attrs);if(sourceCmdName&&sourceCmdName=="customstyle"&&attrs.style){parent.style.cssText=attrs.style}domUtils.remove(para,true);para=parent}else{domUtils.remove(para.parentNode,true)}}if(utils.indexOf(notExchange,parent.tagName)!=-1){current=parent}else{current=para}current=domUtils.getNextDomNode(current,false,filterFn)}else{current=domUtils.getNextDomNode(current,true,filterFn)}}return range.moveToBookmark(bookmark2).moveToBookmark(bookmark)};me.setOpt("paragraph",{p:"",h1:"",h2:"",h3:"",h4:"",h5:"",h6:""});me.commands["paragraph"]={execCommand:function(cmdName,style,attrs,sourceCmdName){var range=this.selection.getRange();if(range.collapsed){var txt=this.document.createTextNode("p");range.insertNode(txt);if(browser.ie){var node=txt.previousSibling;if(node&&domUtils.isWhitespace(node)){domUtils.remove(node)}node=txt.nextSibling;if(node&&domUtils.isWhitespace(node)){domUtils.remove(node)}}}range=doParagraph(range,style,attrs,sourceCmdName);if(txt){range.setStartBefore(txt).collapse(true);pN=txt.parentNode;domUtils.remove(txt);if(domUtils.isBlockElm(pN)&&domUtils.isEmptyNode(pN)){domUtils.fillNode(this.document,pN)}}if(browser.gecko&&range.collapsed&&range.startContainer.nodeType==1){var child=range.startContainer.childNodes[range.startOffset];if(child&&child.nodeType==1&&child.tagName.toLowerCase()==style){range.setStart(child,0).collapse(true)}}range.select();return true},queryCommandValue:function(){var node=domUtils.filterNodeList(this.selection.getStartElementPath(),"p h1 h2 h3 h4 h5 h6");return node?node.tagName.toLowerCase():""}}};(function(){var block=domUtils.isBlockElm,getObj=function(editor){return domUtils.filterNodeList(editor.selection.getStartElementPath(),function(n){return n.getAttribute("dir")})},doDirectionality=function(range,editor,forward){var bookmark,filterFn=function(node){return node.nodeType==1?!domUtils.isBookmarkNode(node):!domUtils.isWhitespace(node)},obj=getObj(editor);if(obj&&range.collapsed){obj.setAttribute("dir",forward);return range}bookmark=range.createBookmark();range.enlarge(true);var bookmark2=range.createBookmark(),current=domUtils.getNextDomNode(bookmark2.start,false,filterFn),tmpRange=range.cloneRange(),tmpNode;while(current&&!(domUtils.getPosition(current,bookmark2.end)&domUtils.POSITION_FOLLOWING)){if(current.nodeType==3||!block(current)){tmpRange.setStartBefore(current);while(current&&current!==bookmark2.end&&!block(current)){tmpNode=current;current=domUtils.getNextDomNode(current,false,null,function(node){return!block(node)})}tmpRange.setEndAfter(tmpNode);var common=tmpRange.getCommonAncestor();if(!domUtils.isBody(common)&&block(common)){common.setAttribute("dir",forward);current=common}else{var p=range.document.createElement("p");p.setAttribute("dir",forward);var frag=tmpRange.extractContents();p.appendChild(frag);tmpRange.insertNode(p);current=p}current=domUtils.getNextDomNode(current,false,filterFn)}else{current=domUtils.getNextDomNode(current,true,filterFn)}}return range.moveToBookmark(bookmark2).moveToBookmark(bookmark)};UE.commands["directionality"]={execCommand:function(cmdName,forward){var range=this.selection.getRange();if(range.collapsed){var txt=this.document.createTextNode("d");range.insertNode(txt)}doDirectionality(range,this,forward);if(txt){range.setStartBefore(txt).collapse(true);domUtils.remove(txt)}range.select();return true},queryCommandValue:function(){var node=getObj(this);return node?node.getAttribute("dir"):"ltr"}}})();UE.plugins["horizontal"]=function(){var me=this;me.commands["horizontal"]={execCommand:function(cmdName){var me=this;if(me.queryCommandState(cmdName)!==-1){me.execCommand("insertHtml","<hr>");var range=me.selection.getRange(),start=range.startContainer;if(start.nodeType==1&&!start.childNodes[range.startOffset]){var tmp;if(tmp=start.childNodes[range.startOffset-1]){if(tmp.nodeType==1&&tmp.tagName=="HR"){if(me.options.enterTag=="p"){tmp=me.document.createElement("p");range.insertNode(tmp);range.setStart(tmp,0).setCursor()}else{tmp=me.document.createElement("br");range.insertNode(tmp);range.setStartBefore(tmp).setCursor()}}}}return true}},queryCommandState:function(){return domUtils.filterNodeList(this.selection.getStartElementPath(),"table")?-1:0}};me.addListener("delkeydown",function(name,evt){var rng=this.selection.getRange();rng.txtToElmBoundary(true);if(domUtils.isStartInblock(rng)){var tmpNode=rng.startContainer;var pre=tmpNode.previousSibling;if(pre&&domUtils.isTagNode(pre,"hr")){domUtils.remove(pre);rng.select();domUtils.preventDefault(evt);return true}}})};UE.plugins["rowspacing"]=function(){var me=this;me.setOpt({rowspacingtop:["5","10","15","20","25"],rowspacingbottom:["5","10","15","20","25"]});me.commands["rowspacing"]={execCommand:function(cmdName,value,dir){this.execCommand("paragraph","p",{style:"margin-"+dir+":"+value+"px"});return true},queryCommandValue:function(cmdName,dir){var pN=domUtils.filterNodeList(this.selection.getStartElementPath(),function(node){return domUtils.isBlockElm(node)}),value;if(pN){value=domUtils.getComputedStyle(pN,"margin-"+dir).replace(/[^\d]/g,"");return!value?0:value}return 0}}};UE.plugins["lineheight"]=function(){var me=this;me.setOpt({lineheight:["1","1.5","1.75","2","3","4","5"]});me.commands["lineheight"]={execCommand:function(cmdName,value){this.execCommand("paragraph","p",{style:"line-height:"+(value=="1"?"normal":value+"em")});return true},queryCommandValue:function(){var pN=domUtils.filterNodeList(this.selection.getStartElementPath(),function(node){return domUtils.isBlockElm(node)});if(pN){var value=domUtils.getComputedStyle(pN,"line-height");return value=="normal"?1:value.replace(/[^\d.]*/ig,"")}}}};UE.plugins["insertcode"]=function(){var me=this;me.ready(function(){utils.cssRule("code","code{display: block;white-space: pre;margin:.5em 0;padding:.4em .6em;border-radius:8px;background:#f8f8f8;}",me.document)});me.setOpt("insertcode",{as3:"ActionScript3",bash:"Bash/Shell",cpp:"C/C++",css:"Css",cf:"CodeFunction","c#":"C#",delphi:"Delphi",diff:"Diff",erlang:"Erlang",groovy:"Groovy",html:"Html",java:"Java",jfx:"JavaFx",js:"Javascript",pl:"Perl",php:"Php",plain:"Plain Text",ps:"PowerShell",python:"Python",ruby:"Ruby",scala:"Scala",sql:"Sql",vb:"Vb",xml:"Xml"});me.commands["insertcode"]={execCommand:function(cmd,lang){var me=this,rng=me.selection.getRange(),codeNode=domUtils.findParentByTagName(rng.startContainer,"code",true);if(codeNode){codeNode.className="brush:"+lang+";toolbar:false;"}else{var code="";if(rng.collapsed){code=browser.ie?browser.version>8?"":"&nbsp;":"<br/>"}else{var frag=rng.extractContents();var div=me.document.createElement("div");div.appendChild(frag);utils.each(UE.filterNode(UE.htmlparser(div.innerHTML.replace(/[\r\t]/g,"")),me.options.filterTxtRules).children,function(node){if(browser.ie&&browser.version>8){if(node.type=="element"){if(node.tagName=="br"){code+="\n"}else if(!dtd.$empty[node.tagName]){utils.each(node.children,function(cn){if(cn.type=="element"){if(cn.tagName=="br"){code+="\n"}else if(!dtd.$empty[node.tagName]){code+=cn.innerText()}}else{code+=cn.data}});if(!/\n$/.test(code)){code+="\n"}}}else{code+=node.data+"\n"}if(!node.nextSibling()&&/\n$/.test(code)){code=code.replace(/\n$/,"")}}else{if(browser.ie){if(node.type=="element"){if(node.tagName=="br"){code+="<br>"}else if(!dtd.$empty[node.tagName]){utils.each(node.children,function(cn){if(cn.type=="element"){if(cn.tagName=="br"){code+="<br>"}else if(!dtd.$empty[node.tagName]){code+=cn.innerText()}}else{code+=cn.data}});if(!/br>$/.test(code)){code+="<br>"}}}else{code+=node.data+"<br>"}if(!node.nextSibling()&&/<br>$/.test(code)){code=code.replace(/<br>$/,"")}}else{code+=node.type=="element"?dtd.$empty[node.tagName]?"":node.innerText():node.data;if(!/br\/?\s*>$/.test(code)){if(!node.nextSibling())return;code+="<br>"}}}})}me.execCommand("inserthtml",'<code id="coder"class="brush:'+lang+';toolbar:false">'+code+"</code>",true);codeNode=me.document.getElementById("coder");domUtils.removeAttributes(codeNode,"id");var tmpNode=codeNode.previousSibling;if(tmpNode&&(tmpNode.nodeType==3&&tmpNode.nodeValue.length==1&&browser.ie&&browser.version==6||domUtils.isEmptyBlock(tmpNode))){domUtils.remove(tmpNode)}var rng=me.selection.getRange();if(domUtils.isEmptyBlock(codeNode)){rng.setStart(codeNode,0).setCursor(false,true)}else{rng.selectNodeContents(codeNode).select()}}},queryCommandValue:function(){var path=this.selection.getStartElementPath();var lang="";utils.each(path,function(node){if(node.nodeName=="CODE"){var match=node.className.match(/brush:([^;]+)/);lang=match&&match[1]?match[1]:"";return false}});return lang}};me.addInputRule(function(root){utils.each(root.getNodesByTagName("code"),function(codeNode){var brs=codeNode.getNodesByTagName("br");if(brs.length){browser.ie&&browser.version>8&&utils.each(brs,function(br){var txt=UE.uNode.createText("\n");br.parentNode.insertBefore(txt,br);br.parentNode.removeChild(br)});return}if(browser.ie&&browser.version>8)return;var code=codeNode.innerText().split(/\n/);codeNode.innerHTML("");utils.each(code,function(c){if(c.length){codeNode.appendChild(UE.uNode.createText(c))}codeNode.appendChild(UE.uNode.createElement("br"))})})});me.addOutputRule(function(root){utils.each(root.getNodesByTagName("code"),function(codeNode){var code="";utils.each(codeNode.children,function(n){if(n.type=="text"){code+=n.data.replace(/[ ]/g,"&nbsp;").replace(/\n$/,"")}else{if(n.tagName=="br"){code+="\n"}else{code+=!dtd.$empty[n.tagName]?"":n.innerText()}}});codeNode.innerText(code.replace(/(&nbsp;|\n)+$/,""))})});me.notNeedCodeQuery={help:1,undo:1,redo:1,source:1,print:1,searchreplace:1,fullscreen:1,preview:1,insertparagraph:1,elementpath:1,insertcode:1,inserthtml:1,selectall:1};var orgQuery=me.queryCommandState;me.queryCommandState=function(cmd){var me=this;if(!me.notNeedCodeQuery[cmd.toLowerCase()]&&me.selection&&me.queryCommandValue("insertcode")){return-1}return UE.Editor.prototype.queryCommandState.apply(this,arguments)};me.addListener("beforeenterkeydown",function(){var rng=me.selection.getRange();var codeNode=domUtils.findParentByTagName(rng.startContainer,"code",true);if(codeNode){me.fireEvent("saveScene");if(!rng.collapsed){rng.deleteContents()}if(!browser.ie||browser.ie9above){var tmpNode=me.document.createElement("br"),codeNode;rng.insertNode(tmpNode).setStartAfter(tmpNode).collapse(true);var next=tmpNode.nextSibling;if(!next&&(!browser.ie||browser.version>10)){rng.insertNode(tmpNode.cloneNode(false))}else{rng.setStartAfter(tmpNode)}codeNode=tmpNode.previousSibling;var tmp;while(codeNode){tmp=codeNode;codeNode=codeNode.previousSibling;if(!codeNode||codeNode.nodeName=="BR"){codeNode=tmp;break}}if(codeNode){var str="";while(codeNode&&codeNode.nodeName!="BR"&&(new RegExp("^[\\s"+domUtils.fillChar+"]*$")).test(codeNode.nodeValue)){str+=codeNode.nodeValue;codeNode=codeNode.nextSibling}if(codeNode.nodeName!="BR"){var match=codeNode.nodeValue.match(new RegExp("^([\\s"+domUtils.fillChar+"]+)"));if(match&&match[1]){str+=match[1]}}if(str){str=me.document.createTextNode(str);rng.insertNode(str).setStartAfter(str)}}rng.collapse(true).select(true)}else{if(browser.version>8){var txt=me.document.createTextNode("\n");var start=rng.startContainer;if(rng.startOffset==0){var preNode=start.previousSibling;if(preNode){rng.insertNode(txt);var fillchar=me.document.createTextNode(" ");rng.setStartAfter(txt).insertNode(fillchar).setStart(fillchar,0).collapse(true).select(true)}}else{rng.insertNode(txt).setStartAfter(txt);var fillchar=me.document.createTextNode(" ");start=rng.startContainer.childNodes[rng.startOffset];if(start&&!/^\n/.test(start.nodeValue)){rng.setStartBefore(txt)}rng.insertNode(fillchar).setStart(fillchar,0).collapse(true).select(true)}}else{var tmpNode=me.document.createElement("br");rng.insertNode(tmpNode);rng.insertNode(me.document.createTextNode(domUtils.fillChar));rng.setStartAfter(tmpNode);codeNode=tmpNode.previousSibling;var tmp;while(codeNode){tmp=codeNode;codeNode=codeNode.previousSibling;if(!codeNode||codeNode.nodeName=="BR"){codeNode=tmp;break}}if(codeNode){var str="";while(codeNode&&codeNode.nodeName!="BR"&&(new RegExp("^[ "+domUtils.fillChar+"]*$")).test(codeNode.nodeValue)){str+=codeNode.nodeValue;codeNode=codeNode.nextSibling}if(codeNode.nodeName!="BR"){var match=codeNode.nodeValue.match(new RegExp("^([ "+domUtils.fillChar+"]+)"));if(match&&match[1]){str+=match[1]}}str=me.document.createTextNode(str);rng.insertNode(str).setStartAfter(str)}rng.collapse(true).select()}}me.fireEvent("saveScene");return true}});me.addListener("tabkeydown",function(cmd,evt){var rng=me.selection.getRange();var codeNode=domUtils.findParentByTagName(rng.startContainer,"code",true);if(codeNode){me.fireEvent("saveScene");if(evt.shiftKey){}else{if(!rng.collapsed){var bk=rng.createBookmark();var start=bk.start.previousSibling;while(start){if(codeNode.firstChild===start&&!domUtils.isBr(start)){codeNode.insertBefore(me.document.createTextNode("    "),start);break}if(domUtils.isBr(start)){codeNode.insertBefore(me.document.createTextNode("    "),start.nextSibling);break}start=start.previousSibling}var end=bk.end;start=bk.start.nextSibling;if(codeNode.firstChild===bk.start){codeNode.insertBefore(me.document.createTextNode("    "),start.nextSibling)}while(start&&start!==end){if(domUtils.isBr(start)&&start.nextSibling){if(start.nextSibling===end){break}codeNode.insertBefore(me.document.createTextNode("    "),start.nextSibling)}start=start.nextSibling}rng.moveToBookmark(bk).select()}else{var tmpNode=me.document.createTextNode("    ");rng.insertNode(tmpNode).setStartAfter(tmpNode).collapse(true).select(true)}}me.fireEvent("saveScene");return true}});me.addListener("beforeinserthtml",function(evtName,html){var me=this,rng=me.selection.getRange(),codeNode=domUtils.findParentByTagName(rng.startContainer,"code",true);if(codeNode){if(!rng.collapsed){rng.deleteContents()}var htmlstr="";if(browser.ie&&browser.version>8){utils.each(UE.filterNode(UE.htmlparser(html),me.options.filterTxtRules).children,function(node){if(node.type=="element"){if(node.tagName=="br"){htmlstr+="\n"}else if(!dtd.$empty[node.tagName]){utils.each(node.children,function(cn){if(cn.type=="element"){if(cn.tagName=="br"){htmlstr+="\n"}else if(!dtd.$empty[node.tagName]){htmlstr+=cn.innerText()}}else{htmlstr+=cn.data}});if(!/\n$/.test(htmlstr)){htmlstr+="\n"}}}else{htmlstr+=node.data+"\n"}if(!node.nextSibling()&&/\n$/.test(htmlstr)){htmlstr=htmlstr.replace(/\n$/,"")}});var tmpNode=me.document.createTextNode(utils.html(htmlstr.replace(/&nbsp;/g," ")));rng.insertNode(tmpNode).selectNode(tmpNode).select()}else{var frag=me.document.createDocumentFragment();utils.each(UE.filterNode(UE.htmlparser(html),me.options.filterTxtRules).children,function(node){if(node.type=="element"){if(node.tagName=="br"){frag.appendChild(me.document.createElement("br"))}else if(!dtd.$empty[node.tagName]){utils.each(node.children,function(cn){if(cn.type=="element"){if(cn.tagName=="br"){frag.appendChild(me.document.createElement("br"))}else if(!dtd.$empty[node.tagName]){frag.appendChild(me.document.createTextNode(utils.html(cn.innerText().replace(/&nbsp;/g," "))))}}else{frag.appendChild(me.document.createTextNode(utils.html(cn.data.replace(/&nbsp;/g," "))))}});if(frag.lastChild.nodeName!="BR"){frag.appendChild(me.document.createElement("br"))}}}else{frag.appendChild(me.document.createTextNode(utils.html(node.data.replace(/&nbsp;/g," "))))}if(!node.nextSibling()&&frag.lastChild.nodeName=="BR"){frag.removeChild(frag.lastChild)}});rng.insertNode(frag).select()}return true}});me.addListener("keydown",function(cmd,evt){var me=this,keyCode=evt.keyCode||evt.which;if(keyCode==40){var rng=me.selection.getRange(),codeNode,start=rng.startContainer;if(rng.collapsed&&(codeNode=domUtils.findParentByTagName(rng.startContainer,"code",true))&&!codeNode.nextSibling){var last=codeNode.lastChild;while(last&&last.nodeName=="BR"){last=last.previousSibling}if(last===start||rng.startContainer===codeNode&&rng.startOffset==codeNode.childNodes.length){me.execCommand("insertparagraph");domUtils.preventDefault(evt)}}}});me.addListener("delkeydown",function(type,evt){var rng=this.selection.getRange();rng.txtToElmBoundary(true);var start=rng.startContainer;if(domUtils.isTagNode(start,"code")&&rng.collapsed&&domUtils.isStartInblock(rng)){var p=me.document.createElement("p");domUtils.fillNode(me.document,p);start.parentNode.insertBefore(p,start);domUtils.remove(start);rng.setStart(p,0).setCursor(false,true);domUtils.preventDefault(evt);return true}})};UE.commands["cleardoc"]={execCommand:function(cmdName){var me=this,enterTag=me.options.enterTag,range=me.selection.getRange();if(enterTag=="br"){me.body.innerHTML="<br/>";range.setStart(me.body,0).setCursor()}else{me.body.innerHTML="<p>"+(ie?"":"<br/>")+"</p>";range.setStart(me.body.firstChild,0).setCursor(false,true)}setTimeout(function(){me.fireEvent("clearDoc")},0)}};UE.plugin.register("anchor",function(){return{bindEvents:{ready:function(){utils.cssRule("anchor",".anchorclass{background: url('"+this.options.themePath+this.options.theme+"/images/anchor.gif') no-repeat scroll left center transparent;border: 1px dotted #0000FF;cursor: auto;display: inline-block;height: 16px;width: 15px;}",this.document)}},outputRule:function(root){utils.each(root.getNodesByTagName("img"),function(a){var val;if(val=a.getAttr("anchorname")){a.tagName="a";a.setAttr({anchorname:"",name:val,"class":""})}})},inputRule:function(root){utils.each(root.getNodesByTagName("a"),function(a){var val;if((val=a.getAttr("name"))&&!a.getAttr("href")){a.tagName="img";a.setAttr({anchorname:a.getAttr("name"),"class":"anchorclass"});a.setAttr("name")}})},commands:{anchor:{execCommand:function(cmd,name){var range=this.selection.getRange(),img=range.getClosedNode();if(img&&img.getAttribute("anchorname")){if(name){img.setAttribute("anchorname",name)}else{range.setStartBefore(img).setCursor();domUtils.remove(img)}}else{if(name){var anchor=this.document.createElement("img");range.collapse(true);domUtils.setAttributes(anchor,{anchorname:name,"class":"anchorclass"});range.insertNode(anchor).setStartAfter(anchor).setCursor(false,true)}}}}}}});UE.plugins["wordcount"]=function(){var me=this;me.setOpt("wordCount",true);me.addListener("contentchange",function(){me.fireEvent("wordcount")});var timer;me.addListener("ready",function(){var me=this;domUtils.on(me.body,"keyup",function(evt){var code=evt.keyCode||evt.which,ignores={16:1,18:1,20:1,37:1,38:1,39:1,40:1};if(code in ignores)return;clearTimeout(timer);timer=setTimeout(function(){me.fireEvent("wordcount")},200)})})};UE.plugins["pagebreak"]=function(){var me=this,notBreakTags=["td"];me.setOpt("pageBreakTag","_ueditor_page_break_tag_");function fillNode(node){if(domUtils.isEmptyBlock(node)){var firstChild=node.firstChild,tmpNode;while(firstChild&&firstChild.nodeType==1&&domUtils.isEmptyBlock(firstChild)){tmpNode=firstChild;firstChild=firstChild.firstChild}!tmpNode&&(tmpNode=node);domUtils.fillNode(me.document,tmpNode)}}me.ready(function(){utils.cssRule("pagebreak",".pagebreak{display:block;clear:both !important;cursor:default !important;width: 100% !important;margin:0;}",me.document)});function isHr(node){return node&&node.nodeType==1&&node.tagName=="HR"&&node.className=="pagebreak"}me.addInputRule(function(root){root.traversal(function(node){if(node.type=="text"&&node.data==me.options.pageBreakTag){var hr=UE.uNode.createElement('<hr class="pagebreak" noshade="noshade" size="5" style="-webkit-user-select: none;">');node.parentNode.insertBefore(hr,node);node.parentNode.removeChild(node)}})});me.addOutputRule(function(node){utils.each(node.getNodesByTagName("hr"),function(n){if(n.getAttr("class")=="pagebreak"){var txt=UE.uNode.createText(me.options.pageBreakTag);n.parentNode.insertBefore(txt,n);n.parentNode.removeChild(n)}})});me.commands["pagebreak"]={execCommand:function(){var range=me.selection.getRange(),hr=me.document.createElement("hr");domUtils.setAttributes(hr,{"class":"pagebreak",noshade:"noshade",size:"5"});domUtils.unSelectable(hr);var node=domUtils.findParentByTagName(range.startContainer,notBreakTags,true),parents=[],pN;if(node){switch(node.tagName){case"TD":pN=node.parentNode;if(!pN.previousSibling){var table=domUtils.findParentByTagName(pN,"table");table.parentNode.insertBefore(hr,table);parents=domUtils.findParents(hr,true)}else{pN.parentNode.insertBefore(hr,pN);parents=domUtils.findParents(hr)}pN=parents[1];if(hr!==pN){domUtils.breakParent(hr,pN)}me.fireEvent("afteradjusttable",me.document)}}else{if(!range.collapsed){range.deleteContents();var start=range.startContainer;while(!domUtils.isBody(start)&&domUtils.isBlockElm(start)&&domUtils.isEmptyNode(start)){range.setStartBefore(start).collapse(true);domUtils.remove(start);start=range.startContainer}}range.insertNode(hr);var pN=hr.parentNode,nextNode;while(!domUtils.isBody(pN)){domUtils.breakParent(hr,pN);nextNode=hr.nextSibling;if(nextNode&&domUtils.isEmptyBlock(nextNode)){domUtils.remove(nextNode)}pN=hr.parentNode}nextNode=hr.nextSibling;var pre=hr.previousSibling;if(isHr(pre)){domUtils.remove(pre)}else{pre&&fillNode(pre)}if(!nextNode){var p=me.document.createElement("p");hr.parentNode.appendChild(p);domUtils.fillNode(me.document,p);range.setStart(p,0).collapse(true)}else{if(isHr(nextNode)){domUtils.remove(nextNode)}else{fillNode(nextNode)}range.setEndAfter(hr).collapse(false)}range.select(true)}}}};UE.plugins["undo"]=function(){var saveSceneTimer;var me=this,maxUndoCount=me.options.maxUndoCount||20,maxInputCount=me.options.maxInputCount||20,fillchar=new RegExp(domUtils.fillChar+"|</hr>","gi");var noNeedFillCharTags={ol:1,ul:1,table:1,tbody:1,tr:1,body:1};var orgState=me.options.autoClearEmptyNode;function compareAddr(indexA,indexB){if(indexA.length!=indexB.length)return 0;for(var i=0,l=indexA.length;i<l;i++){if(indexA[i]!=indexB[i])return 0}return 1}function compareRangeAddress(rngAddrA,rngAddrB){if(rngAddrA.collapsed!=rngAddrB.collapsed){return 0}if(!compareAddr(rngAddrA.startAddress,rngAddrB.startAddress)||!compareAddr(rngAddrA.endAddress,rngAddrB.endAddress)){return 0}return 1}function UndoManager(){this.list=[];this.index=0;this.hasUndo=false;this.hasRedo=false;this.undo=function(){if(this.hasUndo){if(!this.list[this.index-1]&&this.list.length==1){this.reset();return}while(this.list[this.index].content==this.list[this.index-1].content){this.index--;if(this.index==0){return this.restore(0)}}this.restore(--this.index)}};this.redo=function(){if(this.hasRedo){while(this.list[this.index].content==this.list[this.index+1].content){this.index++;if(this.index==this.list.length-1){return this.restore(this.index)}}this.restore(++this.index)}};this.restore=function(){var me=this.editor;var scene=this.list[this.index];var root=UE.htmlparser(scene.content.replace(fillchar,""));me.options.autoClearEmptyNode=false;me.filterInputRule(root);me.options.autoClearEmptyNode=orgState;me.document.body.innerHTML=root.toHtml();me.fireEvent("afterscencerestore");if(browser.ie){utils.each(domUtils.getElementsByTagName(me.document,"td th caption p"),function(node){if(domUtils.isEmptyNode(node)){domUtils.fillNode(me.document,node)}})}try{var rng=(new dom.Range(me.document)).moveToAddress(scene.address);rng.select(noNeedFillCharTags[rng.startContainer.nodeName.toLowerCase()])}catch(e){}this.update();this.clearKey();me.fireEvent("reset",true)};this.getScene=function(){var me=this.editor;var rng=me.selection.getRange(),rngAddress=rng.createAddress(false,true);me.fireEvent("beforegetscene");var root=UE.htmlparser(me.body.innerHTML);me.options.autoClearEmptyNode=false;me.filterOutputRule(root);me.options.autoClearEmptyNode=orgState;var cont=root.toHtml();me.fireEvent("aftergetscene");return{address:rngAddress,content:cont}};this.save=function(notCompareRange,notSetCursor){clearTimeout(saveSceneTimer);var currentScene=this.getScene(notSetCursor),lastScene=this.list[this.index];if(lastScene&&lastScene.content==currentScene.content&&(notCompareRange?1:compareRangeAddress(lastScene.address,currentScene.address))){return}this.list=this.list.slice(0,this.index+1);this.list.push(currentScene);if(this.list.length>maxUndoCount){this.list.shift()}this.index=this.list.length-1;this.clearKey();this.update()};this.update=function(){this.hasRedo=!!this.list[this.index+1];this.hasUndo=!!this.list[this.index-1]};this.reset=function(){this.list=[];this.index=0;this.hasUndo=false;this.hasRedo=false;this.clearKey()};this.clearKey=function(){keycont=0;lastKeyCode=null}}me.undoManger=new UndoManager;me.undoManger.editor=me;function saveScene(){this.undoManger.save()}me.addListener("saveScene",function(){var args=Array.prototype.splice.call(arguments,1);this.undoManger.save.apply(this.undoManger,args)});me.addListener("reset",function(type,exclude){if(!exclude){this.undoManger.reset()}});me.commands["redo"]=me.commands["undo"]={execCommand:function(cmdName){this.undoManger[cmdName]()},queryCommandState:function(cmdName){return this.undoManger["has"+(cmdName.toLowerCase()=="undo"?"Undo":"Redo")]?0:-1},notNeedUndo:1};var keys={16:1,17:1,18:1,37:1,38:1,39:1,40:1},keycont=0,lastKeyCode;var inputType=false;me.addListener("ready",function(){domUtils.on(this.body,"compositionstart",function(){inputType=true});domUtils.on(this.body,"compositionend",function(){inputType=false})});me.addshortcutkey({Undo:"ctrl+90",Redo:"ctrl+89"});var isCollapsed=true;me.addListener("keydown",function(type,evt){var me=this;var keyCode=evt.keyCode||evt.which;if(!keys[keyCode]&&!evt.ctrlKey&&!evt.metaKey&&!evt.shiftKey&&!evt.altKey){if(inputType)return;if(!me.selection.getRange().collapsed){me.undoManger.save(false,true);isCollapsed=false;return}if(me.undoManger.list.length==0){me.undoManger.save(true)}clearTimeout(saveSceneTimer);function save(cont){if(cont.selection.getRange().collapsed)cont.fireEvent("contentchange");cont.undoManger.save(false,true);cont.fireEvent("selectionchange")}saveSceneTimer=setTimeout(function(){if(inputType){var interalTimer=setInterval(function(){if(!inputType){save(me);clearInterval(interalTimer)}},300);return}save(me)},200);lastKeyCode=keyCode;keycont++;if(keycont>=maxInputCount){save(me)}}});me.addListener("keyup",function(type,evt){var keyCode=evt.keyCode||evt.which;if(!keys[keyCode]&&!evt.ctrlKey&&!evt.metaKey&&!evt.shiftKey&&!evt.altKey){if(inputType)return;if(!isCollapsed){this.undoManger.save(false,true);isCollapsed=true}}});me.stopCmdUndo=function(){me.yX=true};me.startCmdUndo=function(){me.yX=false}};UE.plugins["paste"]=function(){function getClipboardData(callback){var doc=this.document;if(doc.getElementById("baidu_pastebin")){return}var range=this.selection.getRange(),bk=range.createBookmark(),pastebin=doc.createElement("div");pastebin.id="baidu_pastebin";browser.webkit&&pastebin.appendChild(doc.createTextNode(domUtils.fillChar+domUtils.fillChar));doc.body.appendChild(pastebin);bk.start.style.display="";pastebin.style.cssText="position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:"+domUtils.getXY(bk.start).y+"px";range.selectNodeContents(pastebin).select(true);setTimeout(function(){if(browser.webkit){for(var i=0,pastebins=doc.querySelectorAll("#baidu_pastebin"),pi;pi=pastebins[i++];){if(domUtils.isEmptyNode(pi)){domUtils.remove(pi)}else{pastebin=pi;break}}}try{pastebin.parentNode.removeChild(pastebin)}catch(e){}range.moveToBookmark(bk).select(true);callback(pastebin)},0)}var me=this;var txtContent,htmlContent,address;function filter(div){var html;if(div.firstChild){var nodes=domUtils.getElementsByTagName(div,"span");for(var i=0,ni;ni=nodes[i++];){if(ni.id=="_baidu_cut_start"||ni.id=="_baidu_cut_end"){domUtils.remove(ni)}}if(browser.webkit){var brs=div.querySelectorAll("div br");for(var i=0,bi;bi=brs[i++];){var pN=bi.parentNode;if(pN.tagName=="DIV"&&pN.childNodes.length==1){pN.innerHTML="<p><br/></p>";domUtils.remove(pN)}}var divs=div.querySelectorAll("#baidu_pastebin");for(var i=0,di;di=divs[i++];){var tmpP=me.document.createElement("p");di.parentNode.insertBefore(tmpP,di);while(di.firstChild){tmpP.appendChild(di.firstChild)}domUtils.remove(di)}var metas=div.querySelectorAll("meta");for(var i=0,ci;ci=metas[i++];){domUtils.remove(ci)}var brs=div.querySelectorAll("br");for(i=0;ci=brs[i++];){if(/^apple-/i.test(ci.className)){domUtils.remove(ci)}}}if(browser.gecko){var dirtyNodes=div.querySelectorAll("[_moz_dirty]");for(i=0;ci=dirtyNodes[i++];){ci.removeAttribute("_moz_dirty")}}if(!browser.ie){var spans=div.querySelectorAll("span.Apple-style-span");for(var i=0,ci;ci=spans[i++];){domUtils.remove(ci,true)}}html=div.innerHTML;html=UE.filterWord(html);var root=UE.htmlparser(html);if(me.options.filterRules){UE.filterNode(root,me.options.filterRules)}me.filterInputRule(root);if(browser.webkit){var br=root.lastChild();if(br&&br.type=="element"&&br.tagName=="br"){root.removeChild(br)}utils.each(me.body.querySelectorAll("div"),function(node){if(domUtils.isEmptyBlock(node)){domUtils.remove(node,true)}})}html={html:root.toHtml()};me.fireEvent("beforepaste",html,root);if(!html.html){return}root=UE.htmlparser(html.html,true);if(me.queryCommandState("pasteplain")===1){var cJh=UE.filterNode(root,me.options.filterTxtRules).toHtml();me.execCommand("insertHtml",cJh,false)}else{UE.filterNode(root,me.options.filterTxtRules);txtContent=root.toHtml();htmlContent=html.html;address=me.selection.getRange().createAddress(true);me.execCommand("insertHtml",htmlContent,true)}me.fireEvent("afterpaste",html)}}me.addListener("pasteTransfer",function(cmd,plainType){if(address&&txtContent&&htmlContent&&txtContent!=htmlContent){var range=me.selection.getRange();range.moveToAddress(address,true);if(!range.collapsed){while(!domUtils.isBody(range.startContainer)){var start=range.startContainer;if(start.nodeType==1){start=start.childNodes[range.startOffset];if(!start){range.setStartBefore(range.startContainer);continue}var pre=start.previousSibling;if(pre&&pre.nodeType==3&&(new RegExp("^[\n\r\t "+domUtils.fillChar+"]*$")).test(pre.nodeValue)){range.setStartBefore(pre)}}if(range.startOffset==0){range.setStartBefore(range.startContainer)}else{break}}while(!domUtils.isBody(range.endContainer)){var end=range.endContainer;if(end.nodeType==1){end=end.childNodes[range.endOffset];if(!end){range.setEndAfter(range.endContainer);continue}var next=end.nextSibling;if(next&&next.nodeType==3&&(new RegExp("^[\n\r\t"+domUtils.fillChar+"]*$")).test(next.nodeValue)){range.setEndAfter(next)}}if(range.endOffset==range.endContainer[range.endContainer.nodeType==3?"nodeValue":"childNodes"].length){range.setEndAfter(range.endContainer)}else{break}}}range.deleteContents();range.select(true);me.yX=true;var html=htmlContent;if(plainType===2){html=html.replace(/<(\/?)([\w\-]+)([^>]*)>/gi,function(a,b,tagName,attrs){tagName=tagName.toLowerCase();if({img:1}[tagName]){return a}attrs=attrs.replace(/([\w\-]*?)\s*=\s*(("([^"]*)")|('([^']*)')|([^\s>]+))/gi,function(str,atr,val){if({src:1,href:1,name:1}[atr.toLowerCase()]){return atr+"="+val+" "}return""});if({span:1,div:1}[tagName]){return""}else{return"<"+b+tagName+" "+utils.trim(attrs)+">"}})}else if(plainType){html=txtContent}me.execCommand("inserthtml",html,true);me.yX=false;var rng=me.selection.getRange();while(!domUtils.isBody(rng.startContainer)&&!rng.startOffset&&rng.startContainer[rng.startContainer.nodeType==3?"nodeValue":"childNodes"].length){rng.setStartBefore(rng.startContainer)}var tmpAddress=rng.createAddress(true);address.endAddress=tmpAddress.startAddress}});me.addListener("ready",function(){domUtils.on(me.body,"cut",function(){var range=me.selection.getRange();if(!range.collapsed&&me.undoManger){me.undoManger.save()}});domUtils.on(me.body,browser.ie||browser.opera?"keydown":"paste",function(e){if((browser.ie||browser.opera)&&(!e.ctrlKey&&!e.metaKey||e.keyCode!="86")){return}getClipboardData.call(me,function(div){filter(div)})})})};UE.plugins["list"]=function(){var me=this,notExchange={TD:1,PRE:1,BLOCKQUOTE:1};var customStyle={cn:"cn-1-",cn1:"cn-2-",cn2:"cn-3-",num:"num-1-",num1:"num-2-",num2:"num-3-",dash:"dash",dot:"dot"};me.setOpt({autoTransWordToList:false,insertorderedlist:{num:"",num1:"",num2:"",cn:"",cn1:"",cn2:"",decimal:"","lower-alpha":"","lower-roman":"","upper-alpha":"","upper-roman":""},insertunorderedlist:{circle:"",disc:"",square:"",dash:"",dot:""},listDefaultPaddingLeft:"30",listiconpath:"http://bs.baidu.com/listicon/",maxListLevel:-1});function listToArray(list){var arr=[];for(var p in list){arr.push(p)}return arr}var listStyle={OL:listToArray(me.options.insertorderedlist),UL:listToArray(me.options.insertunorderedlist)};var liiconpath=me.options.listiconpath;for(var s in customStyle){if(!me.options.insertorderedlist.hasOwnProperty(s)&&!me.options.insertunorderedlist.hasOwnProperty(s)){delete customStyle[s]}}me.ready(function(){var customCss=[];for(var p in customStyle){if(p=="dash"||p=="dot"){customCss.push("li.list-"+customStyle[p]+"{background-image:url("+liiconpath+customStyle[p]+".gif)}");customCss.push("ul.custom_"+p+"{list-style:none;}ul.custom_"+p+" li{background-position:0 3px;background-repeat:no-repeat}")}else{for(var i=0;i<99;i++){customCss.push("li.list-"+customStyle[p]+i+"{background-image:url("+liiconpath+"list-"+customStyle[p]+i+".gif)}")}customCss.push("ol.custom_"+p+"{list-style:none;}ol.custom_"+p+" li{background-position:0 3px;background-repeat:no-repeat}")}switch(p){case"cn":customCss.push("li.list-"+p+"-paddingleft-1{padding-left:25px}");customCss.push("li.list-"+p+"-paddingleft-2{padding-left:40px}");customCss.push("li.list-"+p+"-paddingleft-3{padding-left:55px}");break;case"cn1":customCss.push("li.list-"+p+"-paddingleft-1{padding-left:30px}");customCss.push("li.list-"+p+"-paddingleft-2{padding-left:40px}");customCss.push("li.list-"+p+"-paddingleft-3{padding-left:55px}");break;case"cn2":customCss.push("li.list-"+p+"-paddingleft-1{padding-left:40px}");customCss.push("li.list-"+p+"-paddingleft-2{padding-left:55px}");customCss.push("li.list-"+p+"-paddingleft-3{padding-left:68px}");break;case"num":case"num1":customCss.push("li.list-"+p+"-paddingleft-1{padding-left:25px}");break;case"num2":customCss.push("li.list-"+p+"-paddingleft-1{padding-left:35px}");customCss.push("li.list-"+p+"-paddingleft-2{padding-left:40px}");break;case"dash":customCss.push("li.list-"+p+"-paddingleft{padding-left:35px}");break;case"dot":customCss.push("li.list-"+p+"-paddingleft{padding-left:20px}")}}customCss.push(".list-paddingleft-1{padding-left:0}");customCss.push(".list-paddingleft-2{padding-left:"+me.options.listDefaultPaddingLeft+"px}");customCss.push(".list-paddingleft-3{padding-left:"+me.options.listDefaultPaddingLeft*2+"px}");utils.cssRule("list","ol,ul{margin:0;pading:0;"+(browser.ie?"":"width:95%")+"}"+customCss.join("\n"),me.document)});me.ready(function(){domUtils.on(me.body,"cut",function(){setTimeout(function(){var rng=me.selection.getRange(),li;if(!rng.collapsed){if(li=domUtils.findParentByTagName(rng.startContainer,"li",true)){if(!li.nextSibling&&domUtils.isEmptyBlock(li)){var pn=li.parentNode,node;if(node=pn.previousSibling){domUtils.remove(pn);rng.setStartAtLast(node).collapse(true);rng.select(true)}else if(node=pn.nextSibling){domUtils.remove(pn);rng.setStartAtFirst(node).collapse(true);rng.select(true)}else{var tmpNode=me.document.createElement("p");domUtils.fillNode(me.document,tmpNode);pn.parentNode.insertBefore(tmpNode,pn);domUtils.remove(pn);rng.setStart(tmpNode,0).collapse(true);rng.select(true)}}}}})})});function getStyle(node){var cls=node.className;if(domUtils.hasClass(node,/custom_/)){return cls.match(/custom_(\w+)/)[1]}return domUtils.getStyle(node,"list-style-type")}me.addListener("beforepaste",function(type,html){var me=this,rng=me.selection.getRange(),li;var root=UE.htmlparser(html.html,true);if(li=domUtils.findParentByTagName(rng.startContainer,"li",true)){var list=li.parentNode,tagName=list.tagName=="OL"?"ul":"ol";utils.each(root.getNodesByTagName(tagName),function(n){n.tagName=list.tagName;n.setAttr();if(n.parentNode===root){type=getStyle(list)||(list.tagName=="OL"?"decimal":"disc")}else{var className=n.parentNode.getAttr("class");if(className&&/custom_/.test(className)){type=className.match(/custom_(\w+)/)[1]}else{type=n.parentNode.getStyle("list-style-type")}if(!type){type=list.tagName=="OL"?"decimal":"disc"}}var index=utils.indexOf(listStyle[list.tagName],type);if(n.parentNode!==root)index=index+1==listStyle[list.tagName].length?0:index+1;var currentStyle=listStyle[list.tagName][index];if(customStyle[currentStyle]){n.setAttr("class","custom_"+currentStyle)}else{n.setStyle("list-style-type",currentStyle)}})}html.html=root.toHtml()});me.addInputRule(function(root){utils.each(root.getNodesByTagName("li"),function(li){var tmpP=UE.uNode.createElement("p");for(var i=0,ci;ci=li.children[i];){if(ci.type=="text"||dtd.p[ci.tagName]){tmpP.appendChild(ci)}else{if(tmpP.firstChild()){li.insertBefore(tmpP,ci);tmpP=UE.uNode.createElement("p");i=i+2}else{i++}}}if(tmpP.firstChild()&&!tmpP.parentNode||!li.firstChild()){li.appendChild(tmpP)}if(!tmpP.firstChild()){tmpP.innerHTML(browser.ie?"&nbsp;":"<br/>")}var p=li.firstChild();var lastChild=p.lastChild();if(lastChild&&lastChild.type=="text"&&/^\s*$/.test(lastChild.data)){p.removeChild(lastChild)}});if(me.options.autoTransWordToList){var orderlisttype={num1:/^\d+\)/,decimal:/^\d+\./,"lower-alpha":/^[a-z]+\)/,"upper-alpha":/^[A-Z]+\./,cn:/^[\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+[\u3001]/,cn2:/^\([\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+\)/},unorderlisttype={square:"n"};function checkListType(content,container){var span=container.firstChild();if(span&&span.type=="element"&&span.tagName=="span"&&/Wingdings|Symbol/.test(span.getStyle("font-family"))){for(var p in unorderlisttype){if(unorderlisttype[p]==span.data){return p}}return"disc"}for(var p in orderlisttype){if(orderlisttype[p].test(content)){return p}}}utils.each(root.getNodesByTagName("p"),function(node){if(node.getAttr("class")!="MsoListParagraph"){return}node.setStyle("margin","");node.setStyle("margin-left","");node.setAttr("class","");function appendLi(list,p,type){if(list.tagName=="ol"){if(browser.ie){var first=p.firstChild();if(first.type=="element"&&first.tagName=="span"&&orderlisttype[type].test(first.innerText())){p.removeChild(first)}}else{p.innerHTML(p.innerHTML().replace(orderlisttype[type],""))}}else{p.removeChild(p.firstChild())}var li=UE.uNode.createElement("li");li.appendChild(p);list.appendChild(li)}var tmp=node,type,cacheNode=node;if(node.parentNode.tagName!="li"&&(type=checkListType(node.innerText(),node))){var list=UE.uNode.createElement(me.options.insertorderedlist.hasOwnProperty(type)?"ol":"ul");if(customStyle[type]){list.setAttr("class","custom_"+type)}else{list.setStyle("list-style-type",type)}while(node&&node.parentNode.tagName!="li"&&checkListType(node.innerText(),node)){tmp=node.nextSibling();if(!tmp){node.parentNode.insertBefore(list,node)}appendLi(list,node,type);node=tmp}if(!list.parentNode&&node&&node.parentNode){node.parentNode.insertBefore(list,node)}}var span=cacheNode.firstChild();if(span&&span.type=="element"&&span.tagName=="span"&&/^\s*(&nbsp;)+\s*$/.test(span.innerText())){span.parentNode.removeChild(span)}})}});me.addListener("contentchange",function(){adjustListStyle(me.document)});function adjustListStyle(doc,ignore){utils.each(domUtils.getElementsByTagName(doc,"ol ul"),function(node){if(!domUtils.inDoc(node,doc))return;var parent=node.parentNode;if(parent.tagName==node.tagName){var nodeStyleType=getStyle(node)||(node.tagName=="OL"?"decimal":"disc"),parentStyleType=getStyle(parent)||(parent.tagName=="OL"?"decimal":"disc");if(nodeStyleType==parentStyleType){var styleIndex=utils.indexOf(listStyle[node.tagName],nodeStyleType);styleIndex=styleIndex+1==listStyle[node.tagName].length?0:styleIndex+1;setListStyle(node,listStyle[node.tagName][styleIndex])}}var index=0,type=2;if(domUtils.hasClass(node,/custom_/)){if(!(/[ou]l/i.test(parent.tagName)&&domUtils.hasClass(parent,/custom_/))){type=1}}else{if(/[ou]l/i.test(parent.tagName)&&domUtils.hasClass(parent,/custom_/)){type=3}}var style=domUtils.getStyle(node,"list-style-type");style&&(node.style.cssText="list-style-type:"+style);node.className=utils.trim(node.className.replace(/list-paddingleft-\w+/,""))+" list-paddingleft-"+type;utils.each(domUtils.getElementsByTagName(node,"li"),function(li){li.style.cssText&&(li.style.cssText="");if(!li.firstChild){domUtils.remove(li);return}if(li.parentNode!==node){return}index++;if(domUtils.hasClass(node,/custom_/)){var paddingLeft=1,currentStyle=getStyle(node);if(node.tagName=="OL"){if(currentStyle){switch(currentStyle){case"cn":case"cn1":case"cn2":if(index>10&&(index%10==0||index>10&&index<20)){paddingLeft=2}else if(index>20){paddingLeft=3}break;case"num2":if(index>9){paddingLeft=2}}}li.className="list-"+customStyle[currentStyle]+index+" "+"list-"+currentStyle+"-paddingleft-"+paddingLeft}else{li.className="list-"+customStyle[currentStyle]+" "+"list-"+currentStyle+"-paddingleft"}}else{li.className=li.className.replace(/list-[\w\-]+/gi,"")}var className=li.getAttribute("class");if(className!==null&&!className.replace(/\s/g,"")){domUtils.removeAttributes(li,"class")}});!ignore&&adjustList(node,node.tagName.toLowerCase(),getStyle(node)||domUtils.getStyle(node,"list-style-type"),true)})}function adjustList(list,tag,style,ignoreEmpty){var nextList=list.nextSibling;if(nextList&&nextList.nodeType==1&&nextList.tagName.toLowerCase()==tag&&(getStyle(nextList)||domUtils.getStyle(nextList,"list-style-type")||(tag=="ol"?"decimal":"disc"))==style){domUtils.moveChild(nextList,list);if(nextList.childNodes.length==0){domUtils.remove(nextList)}}if(nextList&&domUtils.isFillChar(nextList)){domUtils.remove(nextList)}var preList=list.previousSibling;if(preList&&preList.nodeType==1&&preList.tagName.toLowerCase()==tag&&(getStyle(preList)||domUtils.getStyle(preList,"list-style-type")||(tag=="ol"?"decimal":"disc"))==style){domUtils.moveChild(list,preList)}if(preList&&domUtils.isFillChar(preList)){domUtils.remove(preList)}!ignoreEmpty&&domUtils.isEmptyBlock(list)&&domUtils.remove(list);if(getStyle(list)){adjustListStyle(list.ownerDocument,true)}}function setListStyle(list,style){if(customStyle[style]){list.className="custom_"+style}try{domUtils.setStyle(list,"list-style-type",style)}catch(e){}}function clearEmptySibling(node){var tmpNode=node.previousSibling;if(tmpNode&&domUtils.isEmptyBlock(tmpNode)){domUtils.remove(tmpNode)}tmpNode=node.nextSibling;if(tmpNode&&domUtils.isEmptyBlock(tmpNode)){domUtils.remove(tmpNode)}}me.addListener("keydown",function(type,evt){function preventAndSave(){evt.preventDefault?evt.preventDefault():evt.returnValue=false;me.fireEvent("contentchange");me.undoManger&&me.undoManger.save()}function findList(node,filterFn){while(node&&!domUtils.isBody(node)){if(filterFn(node)){return null}if(node.nodeType==1&&/[ou]l/i.test(node.tagName)){return node}node=node.parentNode}return null}var keyCode=evt.keyCode||evt.which;if(keyCode==13&&!evt.shiftKey){var rng=me.selection.getRange(),parent=domUtils.findParent(rng.startContainer,function(node){return domUtils.isBlockElm(node)},true),li=domUtils.findParentByTagName(rng.startContainer,"li",true);if(parent&&parent.tagName!="PRE"&&!li){var html=parent.innerHTML.replace(new RegExp(domUtils.fillChar,"g"),"");if(/^\s*1\s*\.[^\d]/.test(html)){parent.innerHTML=html.replace(/^\s*1\s*\./,"");rng.setStartAtLast(parent).collapse(true).select();me.yX=true;me.execCommand("insertorderedlist");me.yX=false}}var range=me.selection.getRange(),start=findList(range.startContainer,function(node){return node.tagName=="TABLE"}),end=range.collapsed?start:findList(range.endContainer,function(node){return node.tagName=="TABLE"});if(start&&end&&start===end){if(!range.collapsed){start=domUtils.findParentByTagName(range.startContainer,"li",true);end=domUtils.findParentByTagName(range.endContainer,"li",true);if(start&&end&&start===end){range.deleteContents();li=domUtils.findParentByTagName(range.startContainer,"li",true);if(li&&domUtils.isEmptyBlock(li)){pre=li.previousSibling;next=li.nextSibling;p=me.document.createElement("p");domUtils.fillNode(me.document,p);parentList=li.parentNode;if(pre&&next){range.setStart(next,0).collapse(true).select(true);domUtils.remove(li)}else{if(!pre&&!next||!pre){parentList.parentNode.insertBefore(p,parentList)}else{li.parentNode.parentNode.insertBefore(p,parentList.nextSibling)}domUtils.remove(li);if(!parentList.firstChild){domUtils.remove(parentList)}range.setStart(p,0).setCursor()}preventAndSave();return}}else{var tmpRange=range.cloneRange(),bk=tmpRange.collapse(false).createBookmark();range.deleteContents();tmpRange.moveToBookmark(bk);var li=domUtils.findParentByTagName(tmpRange.startContainer,"li",true);clearEmptySibling(li);tmpRange.select();preventAndSave();return}}li=domUtils.findParentByTagName(range.startContainer,"li",true);if(li){if(domUtils.isEmptyBlock(li)){bk=range.createBookmark();var parentList=li.parentNode;if(li!==parentList.lastChild){domUtils.breakParent(li,parentList);clearEmptySibling(li)}else{parentList.parentNode.insertBefore(li,parentList.nextSibling);if(domUtils.isEmptyNode(parentList)){domUtils.remove(parentList)}}if(!dtd.$list[li.parentNode.tagName]){if(!domUtils.isBlockElm(li.firstChild)){p=me.document.createElement("p");li.parentNode.insertBefore(p,li);while(li.firstChild){p.appendChild(li.firstChild)}domUtils.remove(li)}else{domUtils.remove(li,true)}}range.moveToBookmark(bk).select()}else{var first=li.firstChild;if(!first||!domUtils.isBlockElm(first)){var p=me.document.createElement("p");!li.firstChild&&domUtils.fillNode(me.document,p);while(li.firstChild){p.appendChild(li.firstChild)}li.appendChild(p);first=p}var span=me.document.createElement("span");range.insertNode(span);domUtils.breakParent(span,li);var nextLi=span.nextSibling;first=nextLi.firstChild;if(!first){p=me.document.createElement("p");domUtils.fillNode(me.document,p);nextLi.appendChild(p);first=p}if(domUtils.isEmptyNode(first)){first.innerHTML="";domUtils.fillNode(me.document,first)}range.setStart(first,0).collapse(true).shrinkBoundary().select();domUtils.remove(span);var pre=nextLi.previousSibling;if(pre&&domUtils.isEmptyBlock(pre)){pre.innerHTML="<p></p>";domUtils.fillNode(me.document,pre.firstChild)}}preventAndSave()}}}if(keyCode==8){range=me.selection.getRange();if(range.collapsed&&domUtils.isStartInblock(range)){tmpRange=range.cloneRange().trimBoundary();li=domUtils.findParentByTagName(range.startContainer,"li",true);if(li&&domUtils.isStartInblock(tmpRange)){start=domUtils.findParentByTagName(range.startContainer,"p",true);if(start&&start!==li.firstChild){var parentList=domUtils.findParentByTagName(start,["ol","ul"]);domUtils.breakParent(start,parentList);clearEmptySibling(start);me.fireEvent("contentchange");range.setStart(start,0).setCursor(false,true);me.fireEvent("saveScene");domUtils.preventDefault(evt);return}if(li&&(pre=li.previousSibling)){if(keyCode==46&&li.childNodes.length){return}if(dtd.$list[pre.tagName]){pre=pre.lastChild}me.undoManger&&me.undoManger.save();first=li.firstChild;if(domUtils.isBlockElm(first)){if(domUtils.isEmptyNode(first)){pre.appendChild(first);range.setStart(first,0).setCursor(false,true);while(li.firstChild){pre.appendChild(li.firstChild)}}else{span=me.document.createElement("span");range.insertNode(span);if(domUtils.isEmptyBlock(pre)){pre.innerHTML=""}domUtils.moveChild(li,pre);range.setStartBefore(span).collapse(true).select(true);domUtils.remove(span)}}else{if(domUtils.isEmptyNode(li)){var p=me.document.createElement("p");pre.appendChild(p);range.setStart(p,0).setCursor()}else{range.setEnd(pre,pre.childNodes.length).collapse().select(true);while(li.firstChild){pre.appendChild(li.firstChild)}}}domUtils.remove(li);me.fireEvent("contentchange");me.fireEvent("saveScene");domUtils.preventDefault(evt);return}if(li&&!li.previousSibling){var parentList=li.parentNode;var bk=range.createBookmark();if(domUtils.isTagNode(parentList.parentNode,"ol ul")){parentList.parentNode.insertBefore(li,parentList);if(domUtils.isEmptyNode(parentList)){domUtils.remove(parentList)}}else{while(li.firstChild){parentList.parentNode.insertBefore(li.firstChild,parentList)}domUtils.remove(li);if(domUtils.isEmptyNode(parentList)){domUtils.remove(parentList)}}range.moveToBookmark(bk).setCursor(false,true);me.fireEvent("contentchange");me.fireEvent("saveScene");domUtils.preventDefault(evt);return}}}}});me.addListener("keyup",function(type,evt){var keyCode=evt.keyCode||evt.which;if(keyCode==8){var rng=me.selection.getRange(),list;if(list=domUtils.findParentByTagName(rng.startContainer,["ol","ul"],true)){adjustList(list,list.tagName.toLowerCase(),getStyle(list)||domUtils.getComputedStyle(list,"list-style-type"),true)}}});me.addListener("tabkeydown",function(){var range=me.selection.getRange();function checkLevel(li){if(me.options.maxListLevel!=-1){var level=li.parentNode,levelNum=0;while(/[ou]l/i.test(level.tagName)){levelNum++;level=level.parentNode}if(levelNum>=me.options.maxListLevel){return true}}}var li=domUtils.findParentByTagName(range.startContainer,"li",true);if(li){var bk;if(range.collapsed){if(checkLevel(li))return true;var parentLi=li.parentNode,list=me.document.createElement(parentLi.tagName),index=utils.indexOf(listStyle[list.tagName],getStyle(parentLi)||domUtils.getComputedStyle(parentLi,"list-style-type"));index=index+1==listStyle[list.tagName].length?0:index+1;var currentStyle=listStyle[list.tagName][index];setListStyle(list,currentStyle);if(domUtils.isStartInblock(range)){me.fireEvent("saveScene");bk=range.createBookmark();parentLi.insertBefore(list,li);list.appendChild(li);adjustList(list,list.tagName.toLowerCase(),currentStyle);me.fireEvent("contentchange");range.moveToBookmark(bk).select(true);return true}}else{me.fireEvent("saveScene");bk=range.createBookmark();for(var i=0,closeList,parents=domUtils.findParents(li),ci;ci=parents[i++];){if(domUtils.isTagNode(ci,"ol ul")){closeList=ci;break}}var current=li;if(bk.end){while(current&&!(domUtils.getPosition(current,bk.end)&domUtils.POSITION_FOLLOWING)){if(checkLevel(current)){current=domUtils.getNextDomNode(current,false,null,function(node){return node!==closeList});continue}var parentLi=current.parentNode,list=me.document.createElement(parentLi.tagName),index=utils.indexOf(listStyle[list.tagName],getStyle(parentLi)||domUtils.getComputedStyle(parentLi,"list-style-type"));var currentIndex=index+1==listStyle[list.tagName].length?0:index+1;var currentStyle=listStyle[list.tagName][currentIndex];setListStyle(list,currentStyle);parentLi.insertBefore(list,current);while(current&&!(domUtils.getPosition(current,bk.end)&domUtils.POSITION_FOLLOWING)){li=current.nextSibling;list.appendChild(current);if(!li||domUtils.isTagNode(li,"ol ul")){if(li){while(li=li.firstChild){if(li.tagName=="LI"){break}}}else{li=domUtils.getNextDomNode(current,false,null,function(node){return node!==closeList})}break}current=li}adjustList(list,list.tagName.toLowerCase(),currentStyle);current=li}}me.fireEvent("contentchange");range.moveToBookmark(bk).select();return true}}});function getLi(start){while(start&&!domUtils.isBody(start)){if(start.nodeName=="TABLE"){return null}if(start.nodeName=="LI"){return start}start=start.parentNode}}me.commands["insertorderedlist"]=me.commands["insertunorderedlist"]={execCommand:function(command,style){if(!style){style=command.toLowerCase()=="insertorderedlist"?"decimal":"disc"}var me=this,range=this.selection.getRange(),filterFn=function(node){return node.nodeType==1?node.tagName.toLowerCase()!="br":!domUtils.isWhitespace(node)},tag=command.toLowerCase()=="insertorderedlist"?"ol":"ul",frag=me.document.createDocumentFragment();range.adjustmentBoundary().shrinkBoundary();var bko=range.createBookmark(true),start=getLi(me.document.getElementById(bko.start)),modifyStart=0,end=getLi(me.document.getElementById(bko.end)),modifyEnd=0,startParent,endParent,list,tmp;if(start||end){start&&(startParent=start.parentNode);if(!bko.end){end=start}end&&(endParent=end.parentNode);if(startParent===endParent){while(start!==end){tmp=start;start=start.nextSibling;if(!domUtils.isBlockElm(tmp.firstChild)){var p=me.document.createElement("p");while(tmp.firstChild){p.appendChild(tmp.firstChild)}tmp.appendChild(p)}frag.appendChild(tmp)}tmp=me.document.createElement("span");startParent.insertBefore(tmp,end);if(!domUtils.isBlockElm(end.firstChild)){p=me.document.createElement("p");while(end.firstChild){p.appendChild(end.firstChild)}end.appendChild(p)}frag.appendChild(end);domUtils.breakParent(tmp,startParent);if(domUtils.isEmptyNode(tmp.previousSibling)){domUtils.remove(tmp.previousSibling)}if(domUtils.isEmptyNode(tmp.nextSibling)){domUtils.remove(tmp.nextSibling)}var nodeStyle=getStyle(startParent)||domUtils.getComputedStyle(startParent,"list-style-type")||(command.toLowerCase()=="insertorderedlist"?"decimal":"disc");if(startParent.tagName.toLowerCase()==tag&&nodeStyle==style){for(var i=0,ci,tmpFrag=me.document.createDocumentFragment();ci=frag.firstChild;){if(domUtils.isTagNode(ci,"ol ul")){tmpFrag.appendChild(ci)}else{while(ci.firstChild){tmpFrag.appendChild(ci.firstChild);domUtils.remove(ci)}}}tmp.parentNode.insertBefore(tmpFrag,tmp)}else{list=me.document.createElement(tag);setListStyle(list,style);list.appendChild(frag);tmp.parentNode.insertBefore(list,tmp)}domUtils.remove(tmp);list&&adjustList(list,tag,style);range.moveToBookmark(bko).select();return}if(start){while(start){tmp=start.nextSibling;if(domUtils.isTagNode(start,"ol ul")){frag.appendChild(start)}else{var tmpfrag=me.document.createDocumentFragment(),hasBlock=0;while(start.firstChild){if(domUtils.isBlockElm(start.firstChild)){hasBlock=1}tmpfrag.appendChild(start.firstChild)}if(!hasBlock){var tmpP=me.document.createElement("p");tmpP.appendChild(tmpfrag);frag.appendChild(tmpP)}else{frag.appendChild(tmpfrag)}domUtils.remove(start)}start=tmp}startParent.parentNode.insertBefore(frag,startParent.nextSibling);if(domUtils.isEmptyNode(startParent)){range.setStartBefore(startParent);domUtils.remove(startParent)}else{range.setStartAfter(startParent)}modifyStart=1}if(end&&domUtils.inDoc(endParent,me.document)){start=endParent.firstChild;while(start&&start!==end){tmp=start.nextSibling;if(domUtils.isTagNode(start,"ol ul")){frag.appendChild(start)}else{tmpfrag=me.document.createDocumentFragment();hasBlock=0;while(start.firstChild){if(domUtils.isBlockElm(start.firstChild)){hasBlock=1}tmpfrag.appendChild(start.firstChild)}if(!hasBlock){tmpP=me.document.createElement("p");tmpP.appendChild(tmpfrag);frag.appendChild(tmpP)}else{frag.appendChild(tmpfrag)}domUtils.remove(start)}start=tmp}var tmpDiv=domUtils.createElement(me.document,"div",{tmpDiv:1});domUtils.moveChild(end,tmpDiv);frag.appendChild(tmpDiv);domUtils.remove(end);endParent.parentNode.insertBefore(frag,endParent);range.setEndBefore(endParent);if(domUtils.isEmptyNode(endParent)){domUtils.remove(endParent)}modifyEnd=1}}if(!modifyStart){range.setStartBefore(me.document.getElementById(bko.start))}if(bko.end&&!modifyEnd){range.setEndAfter(me.document.getElementById(bko.end))}range.enlarge(true,function(node){return notExchange[node.tagName]});frag=me.document.createDocumentFragment();var bk=range.createBookmark(),current=domUtils.getNextDomNode(bk.start,false,filterFn),tmpRange=range.cloneRange(),tmpNode,block=domUtils.isBlockElm;while(current&&current!==bk.end&&domUtils.getPosition(current,bk.end)&domUtils.POSITION_PRECEDING){if(current.nodeType==3||dtd.li[current.tagName]){if(current.nodeType==1&&dtd.$list[current.tagName]){while(current.firstChild){frag.appendChild(current.firstChild)}tmpNode=domUtils.getNextDomNode(current,false,filterFn);domUtils.remove(current);current=tmpNode;continue}tmpNode=current;tmpRange.setStartBefore(current);while(current&&current!==bk.end&&(!block(current)||domUtils.isBookmarkNode(current))){tmpNode=current;current=domUtils.getNextDomNode(current,false,null,function(node){return!notExchange[node.tagName]})}if(current&&block(current)){tmp=domUtils.getNextDomNode(tmpNode,false,filterFn);if(tmp&&domUtils.isBookmarkNode(tmp)){current=domUtils.getNextDomNode(tmp,false,filterFn);tmpNode=tmp}}tmpRange.setEndAfter(tmpNode);current=domUtils.getNextDomNode(tmpNode,false,filterFn);var li=range.document.createElement("li");li.appendChild(tmpRange.extractContents());if(domUtils.isEmptyNode(li)){var tmpNode=range.document.createElement("p");while(li.firstChild){tmpNode.appendChild(li.firstChild)}li.appendChild(tmpNode)}frag.appendChild(li)}else{current=domUtils.getNextDomNode(current,true,filterFn)}}range.moveToBookmark(bk).collapse(true);list=me.document.createElement(tag);setListStyle(list,style);list.appendChild(frag);range.insertNode(list);adjustList(list,tag,style);for(var i=0,ci,tmpDivs=domUtils.getElementsByTagName(list,"div");ci=tmpDivs[i++];){if(ci.getAttribute("tmpDiv")){domUtils.remove(ci,true)}}range.moveToBookmark(bko).select()},queryCommandState:function(command){var tag=command.toLowerCase()=="insertorderedlist"?"ol":"ul";var path=this.selection.getStartElementPath();for(var i=0,ci;ci=path[i++];){if(ci.nodeName=="TABLE"){return 0}if(tag==ci.nodeName.toLowerCase()){return 1}}return 0},queryCommandValue:function(command){var tag=command.toLowerCase()=="insertorderedlist"?"ol":"ul";var path=this.selection.getStartElementPath(),node;for(var i=0,ci;ci=path[i++];){if(ci.nodeName=="TABLE"){node=null;break}if(tag==ci.nodeName.toLowerCase()){node=ci;break}}return node?getStyle(node)||domUtils.getComputedStyle(node,"list-style-type"):null}}};UE.plugins["enterkey"]=function(){var hTag,me=this,tag=me.options.enterTag;me.addListener("keyup",function(type,evt){var keyCode=evt.keyCode||evt.which;if(keyCode==13){var range=me.selection.getRange(),start=range.startContainer,doSave;if(!browser.ie){if(/h\d/i.test(hTag)){if(browser.gecko){var h=domUtils.findParentByTagName(start,["h1","h2","h3","h4","h5","h6","blockquote","caption","table"],true);if(!h){me.document.execCommand("formatBlock",false,"<p>");doSave=1}}else{if(start.nodeType==1){var tmp=me.document.createTextNode(""),div;range.insertNode(tmp);div=domUtils.findParentByTagName(tmp,"div",true);if(div){var p=me.document.createElement("p");while(div.firstChild){p.appendChild(div.firstChild)}div.parentNode.insertBefore(p,div);domUtils.remove(div);range.setStartBefore(tmp).setCursor();doSave=1}domUtils.remove(tmp)}}if(me.undoManger&&doSave){me.undoManger.save()}}browser.opera&&range.select()}else{me.fireEvent("saveScene",true,true)}}});me.addListener("keydown",function(type,evt){var keyCode=evt.keyCode||evt.which;if(keyCode==13){if(me.fireEvent("beforeenterkeydown")){domUtils.preventDefault(evt);return}me.fireEvent("saveScene",true,true);hTag="";var range=me.selection.getRange();if(!range.collapsed){var start=range.startContainer,end=range.endContainer,startTd=domUtils.findParentByTagName(start,"td",true),endTd=domUtils.findParentByTagName(end,"td",true);if(startTd&&endTd&&startTd!==endTd||!startTd&&endTd||startTd&&!endTd){evt.preventDefault?evt.preventDefault():evt.returnValue=false;return}}if(tag=="p"){if(!browser.ie){start=domUtils.findParentByTagName(range.startContainer,["ol","ul","p","h1","h2","h3","h4","h5","h6","blockquote","caption"],true);if(!start&&!browser.opera){me.document.execCommand("formatBlock",false,"<p>");if(browser.gecko){range=me.selection.getRange();start=domUtils.findParentByTagName(range.startContainer,"p",true);start&&domUtils.removeDirtyAttr(start)}}else{hTag=start.tagName;start.tagName.toLowerCase()=="p"&&browser.gecko&&domUtils.removeDirtyAttr(start)}}}else{evt.preventDefault?evt.preventDefault():evt.returnValue=false;if(!range.collapsed){range.deleteContents();start=range.startContainer;if(start.nodeType==1&&(start=start.childNodes[range.startOffset])){while(start.nodeType==1){if(dtd.$empty[start.tagName]){range.setStartBefore(start).setCursor();if(me.undoManger){me.undoManger.save()}return false}if(!start.firstChild){var br=range.document.createElement("br");start.appendChild(br);range.setStart(start,0).setCursor();if(me.undoManger){me.undoManger.save()}return false}start=start.firstChild}if(start===range.startContainer.childNodes[range.startOffset]){br=range.document.createElement("br");range.insertNode(br).setCursor()}else{range.setStart(start,0).setCursor()}}else{br=range.document.createElement("br");range.insertNode(br).setStartAfter(br).setCursor()}}else{br=range.document.createElement("br");range.insertNode(br);var parent=br.parentNode;if(parent.lastChild===br){br.parentNode.insertBefore(br.cloneNode(true),br);range.setStartBefore(br)}else{range.setStartAfter(br)}range.setCursor()}}}})};UE.plugins["keystrokes"]=function(){var me=this;var collapsed=true;me.addListener("keydown",function(type,evt){var keyCode=evt.keyCode||evt.which,rng=me.selection.getRange();if(!rng.collapsed&&!(evt.ctrlKey||evt.shiftKey||evt.altKey||evt.metaKey)&&(keyCode>=65&&keyCode<=90||keyCode>=48&&keyCode<=57||keyCode>=96&&keyCode<=111||{13:1,8:1,46:1}[keyCode])){var tmpNode=rng.startContainer;if(domUtils.isFillChar(tmpNode)){rng.setStartBefore(tmpNode)}tmpNode=rng.endContainer;if(domUtils.isFillChar(tmpNode)){rng.setEndAfter(tmpNode)}rng.txtToElmBoundary();if(rng.endContainer&&rng.endContainer.nodeType==1){tmpNode=rng.endContainer.childNodes[rng.endOffset];if(tmpNode&&domUtils.isBr(tmpNode)){rng.setEndAfter(tmpNode)}}if(rng.startOffset==0){tmpNode=rng.startContainer;if(domUtils.isBoundaryNode(tmpNode,"firstChild")){tmpNode=rng.endContainer;if(rng.endOffset==(tmpNode.nodeType==3?tmpNode.nodeValue.length:tmpNode.childNodes.length)&&domUtils.isBoundaryNode(tmpNode,"lastChild")){me.fireEvent("saveScene");me.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>";rng.setStart(me.body.firstChild,0).setCursor(false,true);me.Yn();return}}}}if(keyCode==8){rng=me.selection.getRange();collapsed=rng.collapsed;if(me.fireEvent("delkeydown",evt)){return}var start,end;if(rng.collapsed&&rng.inFillChar()){start=rng.startContainer;if(domUtils.isFillChar(start)){rng.setStartBefore(start).shrinkBoundary(true).collapse(true);domUtils.remove(start)}else{start.nodeValue=start.nodeValue.replace(new RegExp("^"+domUtils.fillChar),"");rng.startOffset--;rng.collapse(true).select(true)}}if(start=rng.getClosedNode()){me.fireEvent("saveScene");rng.setStartBefore(start);domUtils.remove(start);rng.setCursor();me.fireEvent("saveScene");domUtils.preventDefault(evt);return}if(!browser.ie){start=domUtils.findParentByTagName(rng.startContainer,"table",true);end=domUtils.findParentByTagName(rng.endContainer,"table",true);if(start&&!end||!start&&end||start!==end){evt.preventDefault();return}}}if(keyCode==9){var excludeTagNameForTabKey={ol:1,ul:1,table:1};if(me.fireEvent("tabkeydown",evt)){domUtils.preventDefault(evt);return}var range=me.selection.getRange();me.fireEvent("saveScene");for(var i=0,txt="",tabSize=me.options.tabSize||4,tabNode=me.options.tabNode||"&nbsp;";i<tabSize;i++){txt+=tabNode}var span=me.document.createElement("span");span.innerHTML=txt+domUtils.fillChar;if(range.collapsed){range.insertNode(span.cloneNode(true).firstChild).setCursor(true)}else{var filterFn=function(node){return domUtils.isBlockElm(node)&&!excludeTagNameForTabKey[node.tagName.toLowerCase()]};start=domUtils.findParent(range.startContainer,filterFn,true);end=domUtils.findParent(range.endContainer,filterFn,true);if(start&&end&&start===end){range.deleteContents();range.insertNode(span.cloneNode(true).firstChild).setCursor(true)}else{var bookmark=range.createBookmark();range.enlarge(true);var bookmark2=range.createBookmark(),current=domUtils.getNextDomNode(bookmark2.start,false,filterFn);while(current&&!(domUtils.getPosition(current,bookmark2.end)&domUtils.POSITION_FOLLOWING)){current.insertBefore(span.cloneNode(true).firstChild,current.firstChild);current=domUtils.getNextDomNode(current,false,filterFn)}range.moveToBookmark(bookmark2).moveToBookmark(bookmark).select()}}domUtils.preventDefault(evt)}if(browser.gecko&&keyCode==46){range=me.selection.getRange();if(range.collapsed){start=range.startContainer;if(domUtils.isEmptyBlock(start)){var parent=start.parentNode;while(domUtils.getChildCount(parent)==1&&!domUtils.isBody(parent)){start=parent;parent=parent.parentNode}if(start===parent.lastChild)evt.preventDefault();return}}}});me.addListener("keyup",function(type,evt){var keyCode=evt.keyCode||evt.which,rng,me=this;if(keyCode==8){if(me.fireEvent("delkeyup")){return}rng=me.selection.getRange();if(rng.collapsed){var tmpNode,autoClearTagName=["h1","h2","h3","h4","h5","h6"];if(tmpNode=domUtils.findParentByTagName(rng.startContainer,autoClearTagName,true)){if(domUtils.isEmptyBlock(tmpNode)){var pre=tmpNode.previousSibling;if(pre&&pre.nodeName!="TABLE"){domUtils.remove(tmpNode);rng.setStartAtLast(pre).setCursor(false,true);return}else{var next=tmpNode.nextSibling;if(next&&next.nodeName!="TABLE"){domUtils.remove(tmpNode);rng.setStartAtFirst(next).setCursor(false,true);return}}}}if(domUtils.isBody(rng.startContainer)){var tmpNode=domUtils.createElement(me.document,"p",{innerHTML:browser.ie?domUtils.fillChar:"<br/>"});rng.insertNode(tmpNode).setStart(tmpNode,0).setCursor(false,true)}}if(!collapsed&&(rng.startContainer.nodeType==3||rng.startContainer.nodeType==1&&domUtils.isEmptyBlock(rng.startContainer))){if(browser.ie){var span=rng.document.createElement("span");rng.insertNode(span).setStartBefore(span).collapse(true);rng.select();domUtils.remove(span)}else{rng.select()}}}})};UE.plugins["fiximgclick"]=function(){function Scale(){this.editor=null;this.resizer=null;this.cover=null;this.doc=document;this.prePos={x:0,y:0};this.startPos={x:0,y:0}}(function(){var rect=[[0,0,-1,-1],[0,0,0,-1],[0,0,1,-1],[0,0,-1,0],[0,0,1,0],[0,0,-1,1],[0,0,0,1],[0,0,1,1]];Scale.prototype={init:function(editor){var me=this;me.editor=editor;me.startPos=this.prePos={x:0,y:0};me.dragId=-1;var hands=[],cover=me.cover=document.createElement("div"),resizer=me.resizer=document.createElement("div");cover.id=me.editor.iframe.id+"_imagescale_cover";cover.style.cssText="position:absolute;display:none;z-index:"+me.editor.options.zIndex+";filter:alpha(opacity=0); opacity:0;background:#CCC;";domUtils.on(cover,"mousedown click",function(){me.hide()});for(i=0;i<8;i++){hands.push('<span class="edui-editor-scale-hand'+i+'"></span>')}resizer.id=me.editor.iframe.id+"_imagescale";resizer.className="edui-editor-scale";resizer.innerHTML=hands.join("");resizer.style.cssText+=";display:none;border:1px solid #3b77ff;z-index:"+me.editor.options.zIndex+";";me.editor.iframe.parentNode.parentNode.appendChild(cover);me.editor.iframe.parentNode.parentNode.appendChild(resizer);me.initStyle();me.initEvents()},initStyle:function(){utils.cssRule("imagescale",".edui-editor-scale{position:absolute;border:1px solid #38B2CE;}"+".edui-editor-scale span{position:absolute;width:6px;height:6px;overflow:hidden;font-size:0px;display:block;background-color:#3C9DD0;}"+".edui-editor-scale .edui-editor-scale-hand0{cursor:nw-resize;top:0;margin-top:-4px;left:0;margin-left:-4px;}"+".edui-editor-scale .edui-editor-scale-hand1{cursor:n-resize;top:0;margin-top:-4px;left:50%;margin-left:-4px;}"+".edui-editor-scale .edui-editor-scale-hand2{cursor:ne-resize;top:0;margin-top:-4px;left:100%;margin-left:-3px;}"+".edui-editor-scale .edui-editor-scale-hand3{cursor:w-resize;top:50%;margin-top:-4px;left:0;margin-left:-4px;}"+".edui-editor-scale .edui-editor-scale-hand4{cursor:e-resize;top:50%;margin-top:-4px;left:100%;margin-left:-3px;}"+".edui-editor-scale .edui-editor-scale-hand5{cursor:sw-resize;top:100%;margin-top:-3px;left:0;margin-left:-4px;}"+".edui-editor-scale .edui-editor-scale-hand6{cursor:s-resize;top:100%;margin-top:-3px;left:50%;margin-left:-4px;}"+".edui-editor-scale .edui-editor-scale-hand7{cursor:se-resize;top:100%;margin-top:-3px;left:100%;margin-left:-3px;}")},initEvents:function(){var me=this;me.startPos.x=me.startPos.y=0;me.isDraging=false},sW:function(e){var me=this;switch(e.type){case"mousedown":var hand=e.target||e.srcElement,hand;if(hand.className.indexOf("edui-editor-scale-hand")!=-1&&me.dragId==-1){me.dragId=hand.className.slice(-1);me.startPos.x=me.prePos.x=e.clientX;me.startPos.y=me.prePos.y=e.clientY;domUtils.on(me.doc,"mousemove",me.proxy(me.sW,me))}break;case"mousemove":if(me.dragId!=-1){me.updateContainerStyle(me.dragId,{x:e.clientX-me.prePos.x,y:e.clientY-me.prePos.y});me.prePos.x=e.clientX;me.prePos.y=e.clientY;me.updateTargetElement()}break;case"mouseup":if(me.dragId!=-1){me.updateContainerStyle(me.dragId,{x:e.clientX-me.prePos.x,y:e.clientY-me.prePos.y});me.updateTargetElement();if(me.target.parentNode)me.attachTo(me.target);me.dragId=-1}domUtils.un(me.doc,"mousemove",me.proxy(me.sW,me));me.editor.fireEvent("contentchange");break;default:break}},updateTargetElement:function(){var me=this,targetPos;domUtils.setStyles(me.target,{width:me.resizer.style.width,height:me.resizer.style.height});me.attachTo(me.target)},updateContainerStyle:function(dir,offset){var me=this,dom=me.resizer,tmp;if(rect[dir][0]!=0){tmp=parseInt(dom.style.left)+offset.x;dom.style.left=me.boX("left",tmp)+"px"}if(rect[dir][1]!=0){tmp=parseInt(dom.style.top)+offset.y;dom.style.top=me.boX("top",tmp)+"px"}if(rect[dir][2]!=0){tmp=dom.clientWidth+rect[dir][2]*offset.x;dom.style.width=me.boX("width",tmp)+"px"}if(rect[dir][3]!=0){tmp=dom.clientHeight+rect[dir][3]*offset.y;dom.style.height=me.boX("height",tmp)+"px"}},boX:function(prop,value){var ele=this.resizer,wrap=document;value=isNaN(value)?0:value;switch(prop){case"left":return value<0?0:value+ele.clientWidth>wrap.clientWidth?wrap.clientWidth-ele.clientWidth:value;case"top":return value<0?0:value+ele.clientHeight>wrap.clientHeight?wrap.clientHeight-ele.clientHeight:value;case"width":return value<=0?1:value+ele.offsetLeft>wrap.clientWidth?wrap.clientWidth-ele.offsetLeft:value;case"height":return value<=0?1:value+ele.offsetTop>wrap.clientHeight?wrap.clientHeight-ele.offsetTop:value}},hideCover:function(){this.cover.style.display="none"},showCover:function(){var me=this,editorPos=domUtils.getXY(me.editor.iframe.parentNode.parentNode),iframePos=domUtils.getXY(me.editor.iframe);domUtils.setStyles(me.cover,{width:me.editor.iframe.offsetWidth+"px",height:me.editor.iframe.offsetHeight+"px",top:iframePos.y-editorPos.y+"px",left:iframePos.x-editorPos.x+"px",position:"absolute",display:""})},show:function(targetObj){var me=this;me.resizer.style.display="block";if(targetObj)me.attachTo(targetObj);domUtils.on(this.resizer,"mousedown",me.proxy(me.sW,me));domUtils.on(me.doc,"mouseup",me.proxy(me.sW,me));me.showCover();me.editor.fireEvent("afterscaleshow",me);me.editor.fireEvent("saveScene")},hide:function(){var me=this;me.hideCover();me.resizer.style.display="none";domUtils.un(me.resizer,"mousedown",me.proxy(me.sW,me));domUtils.un(me.doc,"mouseup",me.proxy(me.sW,me));me.editor.fireEvent("afterscalehide",me)},proxy:function(fn,context){return function(e){return fn.apply(context||this,arguments)}},attachTo:function(targetObj){var me=this,target=me.target=targetObj,resizer=this.resizer,imgPos=domUtils.getXY(target),iframePos=domUtils.getXY(me.editor.iframe),editorPos=domUtils.getXY(resizer.parentNode);domUtils.setStyles(resizer,{width:target.width+"px",height:target.height+"px",left:iframePos.x+imgPos.x-me.editor.document.body.scrollLeft-editorPos.x-parseInt(resizer.style.borderLeftWidth)+"px",top:iframePos.y+imgPos.y-me.editor.document.body.scrollTop-editorPos.y-parseInt(resizer.style.borderTopWidth)+"px"})}}})();return function(){var me=this,imageScale;me.setOpt("imageScaleEnabled",true);if(!browser.ie&&me.options.imageScaleEnabled){me.addListener("click",function(type,e){var range=me.selection.getRange(),img=range.getClosedNode();if(img&&img.tagName=="IMG"&&me.body.contentEditable!="false"){if(!imageScale){imageScale=new Scale;imageScale.init(me);me.iframe.parentNode.parentNode.appendChild(imageScale.resizer);var bgF=function(e){imageScale.hide();if(imageScale.target)me.selection.getRange().selectNode(imageScale.target).select()},boS=function(e){var ele=e.target||e.srcElement;if(ele&&(ele.className===undefined||ele.className.indexOf("edui-editor-scale")==-1)){bgF(e)}},timer;me.addListener("afterscaleshow",function(e){me.addListener("beforekeydown",bgF);me.addListener("beforemousedown",boS);domUtils.on(document,"keydown",bgF);domUtils.on(document,"mousedown",boS);me.selection.getNative().removeAllRanges()});me.addListener("afterscalehide",function(e){me.removeListener("beforekeydown",bgF);me.removeListener("beforemousedown",boS);domUtils.un(document,"keydown",bgF);domUtils.un(document,"mousedown",boS);var target=imageScale.target;if(target.parentNode){me.selection.getRange().selectNode(target).select()}});domUtils.on(imageScale.resizer,"mousedown",function(e){me.selection.getNative().removeAllRanges();var ele=e.target||e.srcElement;if(ele&&ele.className.indexOf("edui-editor-scale-hand")==-1){timer=setTimeout(function(){imageScale.hide();if(imageScale.target)me.selection.getRange().selectNode(ele).select()},200)}});domUtils.on(imageScale.resizer,"mouseup",function(e){var ele=e.target||e.srcElement;if(ele&&ele.className.indexOf("edui-editor-scale-hand")==-1){clearTimeout(timer)}})}imageScale.show(img)}else{if(imageScale&&imageScale.resizer.style.display!="none")imageScale.hide()}})}if(browser.webkit){me.addListener("click",function(type,e){if(e.target.tagName=="IMG"&&me.body.contentEditable!="false"){var range=new dom.Range(me.document);range.selectNode(e.target).select()}})}}}();UE.plugin.register("autolink",function(){var cont=0;return!browser.ie?{bindEvents:{reset:function(){cont=0},keydown:function(type,evt){var me=this;var keyCode=evt.keyCode||evt.which;if(keyCode==32||keyCode==13){var sel=me.selection.getNative(),range=sel.getRangeAt(0).cloneRange(),offset,charCode;var start=range.startContainer;while(start.nodeType==1&&range.startOffset>0){start=range.startContainer.childNodes[range.startOffset-1];if(!start){break}range.setStart(start,start.nodeType==1?start.childNodes.length:start.nodeValue.length);range.collapse(true);start=range.startContainer}do{if(range.startOffset==0){start=range.startContainer.previousSibling;while(start&&start.nodeType==1){start=start.lastChild}if(!start||domUtils.isFillChar(start)){break}offset=start.nodeValue.length}else{start=range.startContainer;offset=range.startOffset}range.setStart(start,offset-1);charCode=range.toString().charCodeAt(0)}while(charCode!=160&&charCode!=32);if(range.toString().replace(new RegExp(domUtils.fillChar,"g"),"").match(/(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i)){while(range.toString().length){if(/^(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i.test(range.toString())){break}try{range.setStart(range.startContainer,range.startOffset+1)}catch(e){var start=range.startContainer;while(!(next=start.nextSibling)){if(domUtils.isBody(start)){return}start=start.parentNode}range.setStart(next,0)}}if(domUtils.findParentByTagName(range.startContainer,"a",true)){return}var a=me.document.createElement("a"),text=me.document.createTextNode(" "),href;me.undoManger&&me.undoManger.save();a.appendChild(range.extractContents());a.href=a.innerHTML=a.innerHTML.replace(/<[^>]+>/g,"");href=a.getAttribute("href").replace(new RegExp(domUtils.fillChar,"g"),"");href=/^(?:https?:\/\/)/ig.test(href)?href:"http://"+href;a.setAttribute("_src",utils.html(href));a.href=utils.html(href);range.insertNode(a);a.parentNode.insertBefore(text,a.nextSibling);range.setStart(text,0);range.collapse(true);sel.removeAllRanges();sel.addRange(range);me.undoManger&&me.undoManger.save()}}}}}:{}},function(){var keyCodes={37:1,38:1,39:1,40:1,13:1,32:1};function checkIsCludeLink(node){if(node.nodeType==3){return null}if(node.nodeName=="A"){return node}var lastChild=node.lastChild;while(lastChild){if(lastChild.nodeName=="A"){return lastChild}if(lastChild.nodeType==3){if(domUtils.isWhitespace(lastChild)){lastChild=lastChild.previousSibling;continue}return null}lastChild=lastChild.lastChild}}browser.ie&&this.addListener("keyup",function(cmd,evt){var me=this,keyCode=evt.keyCode;if(keyCodes[keyCode]){var rng=me.selection.getRange();var start=rng.startContainer;if(keyCode==13){while(start&&!domUtils.isBody(start)&&!domUtils.isBlockElm(start)){start=start.parentNode}if(start&&!domUtils.isBody(start)&&start.nodeName=="P"){var pre=start.previousSibling;if(pre&&pre.nodeType==1){var pre=checkIsCludeLink(pre);if(pre&&!pre.getAttribute("_href")){domUtils.remove(pre,true)}}}}else if(keyCode==32){if(start.nodeType==3&&/^\s$/.test(start.nodeValue)){start=start.previousSibling;if(start&&start.nodeName=="A"&&!start.getAttribute("_href")){domUtils.remove(start,true)}}}else{start=domUtils.findParentByTagName(start,"a",true);if(start&&!start.getAttribute("_href")){var bk=rng.createBookmark();domUtils.remove(start,true);rng.moveToBookmark(bk).select(true)}}}})});UE.plugins["autoheight"]=function(){var me=this;me.autoHeightEnabled=me.options.autoHeightEnabled!==false;if(!me.autoHeightEnabled){return}var bakOverflow,lastHeight=0,options=me.options,currentHeight,timer;function adjustHeight(){var me=this;clearTimeout(timer);if(isFullscreen)return;if(!me.queryCommandState||me.queryCommandState&&me.queryCommandState("source")!=1){timer=setTimeout(function(){var node=me.body.lastChild;while(node&&node.nodeType!=1){node=node.previousSibling}if(node&&node.nodeType==1){node.style.clear="both";currentHeight=Math.max(domUtils.getXY(node).y+node.offsetHeight+25,Math.max(options.minFrameHeight,options.initialFrameHeight));if(currentHeight!=lastHeight){me.setHeight(currentHeight,true);lastHeight=currentHeight}domUtils.removeStyle(node,"clear")}},50)}}var isFullscreen;me.addListener("fullscreenchanged",function(cmd,f){isFullscreen=f});me.addListener("destroy",function(){me.removeListener("contentchange afterinserthtml keyup mouseup",adjustHeight)});me.enableAutoHeight=function(){var me=this;if(!me.autoHeightEnabled){return}var doc=me.document;me.autoHeightEnabled=true;bakOverflow=doc.body.style.overflowY;doc.body.style.overflowY="hidden";me.addListener("contentchange afterinserthtml keyup mouseup",adjustHeight);setTimeout(function(){adjustHeight.call(me)},browser.gecko?100:0);me.fireEvent("autoheightchanged",me.autoHeightEnabled)};me.disableAutoHeight=function(){me.body.style.overflowY=bakOverflow||"";me.removeListener("contentchange",adjustHeight);me.removeListener("keyup",adjustHeight);me.removeListener("mouseup",adjustHeight);me.autoHeightEnabled=false;me.fireEvent("autoheightchanged",me.autoHeightEnabled)};me.addListener("ready",function(){me.enableAutoHeight();var timer;domUtils.on(browser.ie?me.body:me.document,browser.webkit?"dragover":"drop",function(){clearTimeout(timer);timer=setTimeout(function(){adjustHeight.call(me)},100)})})};UE.plugins["pasteplain"]=function(){var me=this;me.setOpt({pasteplain:true,filterTxtRules:function(){function transP(node){node.tagName="p";node.setStyle()}function removeClass(node){node.className=""}function removeNode(node){node.parentNode.removeChild(node,true)}return{"-":"script style object iframe embed input select",p:{$:{}},br:{$:{}},div:function(node){var tmpNode,p=UE.uNode.createElement("p");while(tmpNode=node.firstChild()){if(tmpNode.type=="text"||!UE.dom.dtd.$block[tmpNode.tagName]){p.appendChild(tmpNode)}else{if(p.firstChild()){node.parentNode.insertBefore(p,node);p=UE.uNode.createElement("p")}else{node.parentNode.insertBefore(tmpNode,node)}}}if(p.firstChild()){node.parentNode.insertBefore(p,node)}node.parentNode.removeChild(node)},ol:removeNode,ul:removeNode,dl:removeNode,dt:removeNode,dd:removeNode,li:removeNode,caption:removeNode,h1:removeNode,h2:removeNode,h3:removeNode,h4:removeNode,h5:removeNode,h6:removeNode,th:removeClass,tr:removeClass,td:removeClass}}()});var pasteplain=me.options.pasteplain;me.commands["pasteplain"]={queryCommandState:function(){return pasteplain?1:0},execCommand:function(){pasteplain=!pasteplain|0},notNeedUndo:1}};UE.plugins["basestyle"]=function(){var basestyles={bold:["strong","b"],italic:["em","i"],subscript:["sub"],superscript:["sup"]},getObj=function(editor,tagNames){return domUtils.filterNodeList(editor.selection.getStartElementPath(),tagNames)},me=this;me.addshortcutkey({Bold:"ctrl+66",Italic:"ctrl+73",Underline:"ctrl+85"});me.addInputRule(function(root){utils.each(root.getNodesByTagName("b i"),function(node){switch(node.tagName){case"b":node.tagName="strong";break;case"i":node.tagName="em"}})});for(var style in basestyles){(function(cmd,tagNames){me.commands[cmd]={execCommand:function(cmdName){var range=me.selection.getRange(),obj=getObj(this,tagNames);if(range.collapsed){if(obj){var tmpText=me.document.createTextNode("");range.insertNode(tmpText).removeInlineStyle(tagNames);range.setStartBefore(tmpText);domUtils.remove(tmpText)}else{var tmpNode=range.document.createElement(tagNames[0]);if(cmdName=="superscript"||cmdName=="subscript"){tmpText=me.document.createTextNode("");range.insertNode(tmpText).removeInlineStyle(["sub","sup"]).setStartBefore(tmpText).collapse(true)}range.insertNode(tmpNode).setStart(tmpNode,0)}range.collapse(true)}else{if(cmdName=="superscript"||cmdName=="subscript"){if(!obj||obj.tagName.toLowerCase()!=cmdName){range.removeInlineStyle(["sub","sup"])}}obj?range.removeInlineStyle(tagNames):range.applyInlineStyle(tagNames[0])}range.select()},queryCommandState:function(){return getObj(this,tagNames)?1:0}}})(style,basestyles[style])}};UE.plugins["elementpath"]=function(){var currentLevel,tagNames,me=this;me.setOpt("elementPathEnabled",true);if(!me.options.elementPathEnabled){return}me.commands["elementpath"]={execCommand:function(cmdName,level){var start=tagNames[level],range=me.selection.getRange();currentLevel=level*1;range.selectNode(start).select()},queryCommandValue:function(){var parents=[].concat(this.selection.getStartElementPath()).reverse(),names=[];tagNames=parents;for(var i=0,ci;ci=parents[i];i++){if(ci.nodeType==3){continue}var name=ci.tagName.toLowerCase();if(name=="img"&&ci.getAttribute("anchorname")){name="anchor"}names[i]=name;if(currentLevel==i){currentLevel=-1;break}}return names}}};UE.plugins["formatmatch"]=function(){var me=this,list=[],img,flag=0;me.addListener("reset",function(){list=[];flag=0});function addList(type,evt){if(browser.webkit){var target=evt.target.tagName=="IMG"?evt.target:null}function addFormat(range){if(text){range.selectNode(text)}return range.applyInlineStyle(list[list.length-1].tagName,null,list)}me.undoManger&&me.undoManger.save();var range=me.selection.getRange(),imgT=target||range.getClosedNode();if(img&&imgT&&imgT.tagName=="IMG"){imgT.style.cssText+=";float:"+(img.style.cssFloat||img.style.styleFloat||"none")+";display:"+(img.style.display||"inline");img=null}else{if(!img){var collapsed=range.collapsed;if(collapsed){var text=me.document.createTextNode("match");range.insertNode(text).select()}me.yX=true;var removeFormatAttributes=me.options.removeFormatAttributes;me.options.removeFormatAttributes="";me.execCommand("removeformat");me.options.removeFormatAttributes=removeFormatAttributes;me.yX=false;range=me.selection.getRange();if(list.length){addFormat(range)}if(text){range.setStartBefore(text).collapse(true)}range.select();text&&domUtils.remove(text)}}me.undoManger&&me.undoManger.save();me.removeListener("mouseup",addList);flag=0}me.commands["formatmatch"]={execCommand:function(cmdName){if(flag){flag=0;list=[];me.removeListener("mouseup",addList);return}var range=me.selection.getRange();img=range.getClosedNode();if(!img||img.tagName!="IMG"){range.collapse(true).shrinkBoundary();var start=range.startContainer;list=domUtils.findParents(start,true,function(node){return!domUtils.isBlockElm(node)&&node.nodeType==1});for(var i=0,ci;ci=list[i];i++){if(ci.tagName=="A"){list.splice(i,1);break}}}me.addListener("mouseup",addList);flag=1},queryCommandState:function(){return flag},notNeedUndo:1}};UE.plugins["customstyle"]=function(){var me=this;me.setOpt({customstyle:[{tag:"h1",name:"tc",style:"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;"},{tag:"h1",name:"tl",style:"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:left;margin:0 0 10px 0;"},{tag:"span",name:"im",style:"font-size:16px;font-style:italic;font-weight:bold;line-height:18px;"},{tag:"span",name:"hi",style:"font-size:16px;font-style:italic;font-weight:bold;color:rgb(51, 153, 204);line-height:18px;"}]});me.commands["customstyle"]={execCommand:function(cmdName,obj){var me=this,tagName=obj.tag,node=domUtils.findParent(me.selection.getStart(),function(node){return node.getAttribute("label")},true),range,bk,tmpObj={};for(var p in obj){if(obj[p]!==undefined)tmpObj[p]=obj[p]}delete tmpObj.tag;if(node&&node.getAttribute("label")==obj.label){range=this.selection.getRange();bk=range.createBookmark();if(range.collapsed){if(dtd.$block[node.tagName]){var fillNode=me.document.createElement("p");domUtils.moveChild(node,fillNode);node.parentNode.insertBefore(fillNode,node);domUtils.remove(node)}else{domUtils.remove(node,true)}}else{var common=domUtils.getCommonAncestor(bk.start,bk.end),nodes=domUtils.getElementsByTagName(common,tagName);if((new RegExp(tagName,"i")).test(common.tagName)){nodes.push(common)}for(var i=0,ni;ni=nodes[i++];){if(ni.getAttribute("label")==obj.label){var ps=domUtils.getPosition(ni,bk.start),pe=domUtils.getPosition(ni,bk.end);if((ps&domUtils.POSITION_FOLLOWING||ps&domUtils.POSITION_CONTAINS)&&(pe&domUtils.POSITION_PRECEDING||pe&domUtils.POSITION_CONTAINS))if(dtd.$block[tagName]){var fillNode=me.document.createElement("p");domUtils.moveChild(ni,fillNode);ni.parentNode.insertBefore(fillNode,ni)}domUtils.remove(ni,true)}}node=domUtils.findParent(common,function(node){return node.getAttribute("label")==obj.label},true);if(node){domUtils.remove(node,true)}}range.moveToBookmark(bk).select()}else{if(dtd.$block[tagName]){this.execCommand("paragraph",tagName,tmpObj,"customstyle");range=me.selection.getRange();if(!range.collapsed){range.collapse();node=domUtils.findParent(me.selection.getStart(),function(node){return node.getAttribute("label")==obj.label},true);var pNode=me.document.createElement("p");domUtils.insertAfter(node,pNode);domUtils.fillNode(me.document,pNode);range.setStart(pNode,0).setCursor()}}else{range=me.selection.getRange();if(range.collapsed){node=me.document.createElement(tagName);domUtils.setAttributes(node,tmpObj);range.insertNode(node).setStart(node,0).setCursor();return}bk=range.createBookmark();range.applyInlineStyle(tagName,tmpObj).moveToBookmark(bk).select()}}},queryCommandValue:function(){var parent=domUtils.filterNodeList(this.selection.getStartElementPath(),function(node){return node.getAttribute("label")});return parent?parent.getAttribute("label"):""}};me.addListener("keyup",function(type,evt){var keyCode=evt.keyCode||evt.which;if(keyCode==32||keyCode==13){var range=me.selection.getRange();if(range.collapsed){var node=domUtils.findParent(me.selection.getStart(),function(node){return node.getAttribute("label")},true);if(node&&dtd.$block[node.tagName]&&domUtils.isEmptyNode(node)){var p=me.document.createElement("p");domUtils.insertAfter(node,p);domUtils.fillNode(me.document,p);domUtils.remove(node);range.setStart(p,0).setCursor()}}}})};UE.commands["insertparagraph"]={execCommand:function(cmdName,front){var me=this,range=me.selection.getRange(),start=range.startContainer,tmpNode;while(start){if(domUtils.isBody(start)){break}tmpNode=start;start=start.parentNode}if(tmpNode){var p=me.document.createElement("p");if(front){tmpNode.parentNode.insertBefore(p,tmpNode)}else{tmpNode.parentNode.insertBefore(p,tmpNode.nextSibling)}domUtils.fillNode(me.document,p);range.setStart(p,0).setCursor(false,true)}}};UE.plugins["snapscreen"]=function(){var me=this,doc,snapplugin;me.setOpt({snapscreenServerPort:location.port,snapscreenImgAlign:"",snapscreenHost:location.hostname});me.commands["snapscreen"]={execCommand:function(){var me=this,lang=me.getLang("snapScreen_plugin");if(!snapplugin){var container=me.container;doc=container.ownerDocument||container.document;snapplugin=doc.createElement("object");try{snapplugin.type="application/x-pluginbaidusnap"}catch(e){return}snapplugin.style.cssText="position:absolute;left:-9999px;";snapplugin.setAttribute("width","0");snapplugin.setAttribute("height","0");container.appendChild(snapplugin)}var editorOptions=me.options;var onSuccess=function(rs){try{rs=eval("("+rs+")")}catch(e){alert(lang.callBackErrorMsg);return}if(rs.state!="SUCCESS"){alert(rs.state);return}me.execCommand("insertimage",{src:editorOptions.snapscreenPath+rs.url,floatStyle:editorOptions.snapscreenImgAlign,kd:editorOptions.snapscreenPath+rs.url})};var onStartUpload=function(){};var onError=function(){alert(lang.uploadErrorMsg)};try{var port=editorOptions.snapscreenServerPort+"";editorOptions.snapscreenServerUrl=editorOptions.snapscreenServerUrl.split(editorOptions.snapscreenHost);editorOptions.snapscreenServerUrl=editorOptions.snapscreenServerUrl[1]||editorOptions.snapscreenServerUrl[0];if(editorOptions.snapscreenServerUrl.indexOf(":"+port)===0){editorOptions.snapscreenServerUrl=editorOptions.snapscreenServerUrl.substring(port.length+1)}var ret=snapplugin.saveSnapshot(editorOptions.snapscreenHost,editorOptions.snapscreenServerUrl,port);onSuccess(ret)}catch(e){me.ui.djC["snapscreenDialog"].open()}}}}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cd=bp("nej.v"),Bb,cJe;var dv='<div class="zitm zbg" title=""><div class="zicn zbg"></div></div>';bq.bgA=NEJ.C();Bb=bq.bgA.bt(bq.sn);cJe=bq.bgA.cH;Bb.hk=function(){this.hu()};Bb.bE=function(Y){this.bG(Y);this.hP=Y.title||"";this.cJc=Y.onclick||dm;this.bb.title=this.hP;this.boK(false);this.jN(false)};Bb.bJ=function(){this.bN()};Bb.bU=function(){this.bW=bm.bX(dv)};Bb.bL=function(){this.bO();this.vg=false;this.cfj=false;cd.bd(this.bb,"click",this.ll.Z(this))};Bb.jN=function(EM){this.vg=EM;if(EM){bm.bK(this.bb,"js-disabled")}else{bm.bZ(this.bb,"js-disabled")}};Bb.cfi=function(){return this.vg};Bb.boK=function(cfh){this.cfj=cfh;if(cfh){bm.bK(this.bb,"js-checked")}else{bm.bZ(this.bb,"js-checked")}};Bb.djD=function(){return this.cfj};Bb.ll=function(){if(this.vg){return}this.cJc()}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,bq=bp("nej.ut"),cff={},Mj;if(!!bq.bgx)return;bq.bgx=NEJ.C();Mj=bq.bgx.bt(bq.hW);bq.bgx.cY=function(){cff[this.command]=this};bq.bgx.djE=function(cIM){return cff[cIM]||null};Mj.hk=function(){this.fO=this.constructor.command;this.hu()};Mj.bE=function(Y){this.bG(Y);this.eR=Y.area;this.cIK=Y.toolbar};Mj.bJ=function(){this.bN();delete this.eR;delete this.cIK};Mj.cIJ=dm;Mj.djF=dm;Mj.djG=function(){return null};Mj.djH=function(){return null}})();
(function(){var bp=NEJ.P,dm=NEJ.F,bm=bp("nej.e"),cd=bp("nej.v"),eF=bp("nej.ut"),bq=bp("nej.ut.cmd"),bgw;if(!!bq.cfc)return;bq.cfc=NEJ.C();bgw=bq.cfc.bt(eF.bgx);bgw.hk=function(){this.bRL={destroyable:!0,parent:document.body,onchange:this.jM.Z(this)};this.hu()};bgw.jM=dm;bgw.cIE=dm;bgw.cIJ=function(Y){cd.bn(document,"click");var bB=Y.target,gd=bm.oR(bB);this.bRL.top=gd.y+bB.offsetHeight+1;this.bRL.left=gd.x-1;this.bRL.width=bB.clientWidth;this.cIE();return this}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cd=bp("nej.v"),Fi,cID;var dv='<div class="zitm zbg" title=""><div class="zicn zbg"></div></div>';bq.Ye=NEJ.C();Fi=bq.Ye.bt(bq.sn);cID=bq.Ye.cH;Fi.hk=function(){this.hu()};Fi.bE=function(Y){this.bG(Y);this.hP=Y.title||"";this.eR=Y.editor;this.boA={onchange:this.bgt.Z(this)};this.bb.title=this.hP;this.jN(false)};Fi.bJ=function(){this.bN()};Fi.bU=function(){this.bW=bm.bX(dv)};Fi.bL=function(){this.bO();this.vg=false;cd.bd(this.bb,"click",this.ll.Z(this))};Fi.jN=function(EM){this.vg=EM;if(EM){bm.bK(this.bb,"js-disabled")}else{bm.bZ(this.bb,"js-disabled")}};Fi.cfi=function(){return this.vg};Fi.ll=function(){};Fi.bgt=function(W){}})();
(function(){var bp=NEJ.P,de=NEJ.O,bm=bp("nej.e"),bD=bp("nej.u"),cd=bp("nej.v"),cL=bp("nej.ui"),bq=bp("nej.ui.cmd"),nc,boq;if(!!bq.Mi)return;bq.Mi=NEJ.C();nc=bq.Mi.bt(cL.HS);boq=bq.Mi.cH;nc.bU=function(){this.ds=cv;this.bW=dn};nc.bL=function(){this.bO();this.qg=bm.bc(this.bb,"j-btn");this.lD=bm.bc(this.bb,"ipt");this.OH=bm.bc(this.bb,"j-error")[0]};nc.Bj=function(){this.eB()};nc.bgg=function(){var iy={};iy.name=bD.dV(this.lD[0].value);iy.href=this.lD[1].value;var ea=/^(?:http(s)?:\/\/)[^\s].?/,Iw=/^(?:http(s)?:\/\/).*/;var cC=iy.href.search(ea),bSs=iy.href.search(Iw);if(bSs<0){this.bn("onErrorLink",0);return}if(cC<0){this.bn("onErrorLink",1);return}this.bn("onchange",iy);this.eB()};nc.bE=function(Y){Y.parent=Y.parent||document.body;Y.draggable=Y.draggable||false;Y.destroyable=Y.destroyable||false;Y.title=Y.title||"超链接";Y.mask=Y.maskclazz||true;this.bG(Y);this.lD[0].value=Y.name||"";this.gN([[this.qg[1],"click",this.bgg.Z(this)],[this.qg[0],"click",this.Bj.Z(this)],[this.lD[0],"focus",this.pZ.Z(this,"")],[this.lD[1],"focus",this.pZ.Z(this,"")]])};nc.pZ=function(fe){this.OH.innerText=fe};nc.bJ=function(){this.bN()};nc.cIC=function(){this.lD[1].focus();this.lD[1].value="http://"};var dn=bm.bX('<div><div class="u-row f-cb"><div class="u-edit f-cb"><div class="f-fl u-title">标题</div><input class="f-fl ipt" type="text" /></div></div><div class="f-cb"><div class="u-edit f-cb"><div class="f-fl u-title">链接</div><input class="f-fl ipt" type="text" value="http://" /></div></div><div class="u-error j-error"></div><div class="btn f-cb"><a class="f-fr slave j-btn"><span>取消 </span></a><a class="f-fr main right j-btn"><span>确定 </span></a></div></div>');var cv=bm.dA(".#<uispace>{padding:20px 20px 32px 20px;}.#<uispace> .u-title{color:#ccc;height:35px;line-height:35px;margin:0 8px 0 10px;}.#<uispace> .u-row{margin-bottom:10px;}.#<uispace> .u-error{color:red;padding-top:10px;}.#<uispace> .u-edit{position: relative;z-index: 101;background: #FAFAFA;border: 1px solid #DFDFDF;-webkit-box-shadow: inset 1px 1px 2px #DFDFDF;-moz-box-shadow: inset 1px 1px 2px #dfdfdf;box-shadow: inset 1px 1px 2px #DFDFDF;}.#<uispace> .ipt{display:block;font-size: 14px;position: relative;z-index: 101;line-height:35px;height:35px;width: 290px;resize: none;background: transparent;border: none;color: #444;overflow:hidden;}")})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),u=NEJ.P("nej.u"),v=NEJ.P("nej.v"),p=NEJ.P("nej.ui"),j=NEJ.P("nej.j"),eu=NEJ.P("edu.u"),oM,cIB;var m_math=["\\widetilde{ab}","\\overline{ab}","\\overbrace{ab}","\\sqrt{ab}","f'","x^{k}","\\lim_{a \\rightarrow b}","\\begin{bmatrix}a & b \\\\c & d \\end{bmatrix}","\\big(a\\big)","\\int_a^b x","\\sum_a^b x","\\prod_a^b x","\\bigcap_a^b x","\\bigvee_a^b x","\\bigotimes","\\widehat{ab}","\\underline{ab}","\\underbrace{ab}","\\sqrt[n]{ab}","\\frac{a}{b}","x_{k}","\\frac{\\partial^nf}{\\partial x^n}","x =\\begin{cases}a & x = 0\\\\b & x > 0\\end{cases}","\\big\\{a\\big\\}","\\oint_a^b x","\\bigsqcup_a^b x","\\coprod_a^b x","\\bigcup_a^b x","\\bigwedge_a^b x","\\bigoplus"];var m_greek=["\\alpha","\\beta","\\gamma","\\delta","\\epsilon","\\varepsilon","\\zeta","\\eta","\\theta","\\vartheta","\\gamma","\\kappa","\\lambda","\\mu","\\nu","\\xi","o","\\pi","\\varpi","\\rho","\\varrho","\\sigma","\\varsigma","\\tau","\\upsilon","\\phi","\\varphi","\\chi","\\psi","\\omega","\\Gamma","\\Delta","\\Theta","\\Lambda","\\Xi","\\Pi","\\Sigma","\\Upsilon","\\Phi","\\Psi","\\Omega","\\$"];var m_rel=["\\leq","\\prec","\\preceq","\\ll","\\subset","\\subseteq","\\sqsubset","\\sqsubseteq","\\in","\\vdash",">","\\smile","\\sim","\\asymp","\\equiv","\\mid","\\neq","\\perp",":","\\geq","\\succ","\\succeq","\\gg","\\supset","\\supseteq","\\sqsupset","\\sqsupseteq","\\ni","\\dashv","<","\\frown","\\simeq","\\approx","\\parallel","\\propto"];var m_logic=["\\hat{a}","\\acute{a}","\\bar{a}","\\dot{a}","\\breve{a}","\\check{a}","\\grave{a}","\\vec{a}","\\ddot{a}","\\tilde{a}","+","\\times","\\cap","\\cup","\\vee","\\setminus","\\bigtriangleup","\\triangleright","\\oplus","\\otimes","\\odot","\\uplus","\\ast","\\circ","-","\\div","\\sqcup","\\sqcap","\\wedge","\\wr","\\bigtriangledown","\\triangleleft","\\ominus","\\oslash","\\bigcirc","\\amalg","\\star","\\bullet"];var m_symbol=["\\ldots","\\vdots","\\mp","\\times","/","|","\\imath","\\nabla","\\top","\\forall","\\neg","\\partial","\\Re","\\aleph","\\ell","\\wp","\\prime","\\surd","\\natural","\\clubsuit","\\cdots","\\ddots","\\pm","\\div","\\backslash","\\|","\\jmath","\\triangle","\\bot","\\exists","\\flat","\\infty","\\Im","\\hbar","\\emptyset",".","\\angle","\\sharp","\\Diamond","\\spadesuit"];var m_arrow=["\\leftarrow","\\Leftarrow","\\leftrightarrow","\\mapsto","\\leftharpoonup","\\rightharpoonup","\\longleftarrow","\\Longleftarrow","\\longleftrightarrow","\\uparrow","\\downarrow","\\updownarrow","\\rightleftharpoons","\\nearrow","\\searrow","\\rightarrow","\\Rightarrow","\\Leftrightarrow","\\leftharpoondown","\\rightharpoondown","\\longrightarrow","\\Longrightarrow","\\Longleftrightarrow","\\Uparrow","\\Downarrow","\\Updownarrow","\\nwarrow","\\swarrow"];var m_math_rect=["2,2,29,47","31,2,58,47","60,2,87,47","89,2,119,47","121,2,148,47","150,2,177,47","179,2,214,47","216,2,314,47","316,2,344,47","346,2,378,47","380,2,420,47","422,2,459,47","461,2,493,47","495,2,527,47","529,2,556,47","2,49,29,94","31,49,58,94","60,49,87,94","89,49,119,94","121,49,148,94","150,49,177,94","179,49,214,94","216,49,314,94","316,49,344,94","346,49,378,94","380,49,420,94","422,49,459,94","461,49,493,94","495,49,527,94","529,49,556,94"];var m_greek_rect=["2,2,29,22","31,2,58,22","60,2,87,22","89,2,116,22","118,2,145,22","147,2,174,22","176,2,203,22","205,2,232,22","234,2,261,22","263,2,290,22","292,2,319,22","321,2,348,22","350,2,377,22","379,2,406,22","408,2,435,22","437,2,464,22","466,2,493,22","495,2,522,22","524,2,551,22","553,2,580,22","582,2,609,22","2,24,29,44","31,24,58,44","60,24,87,44","89,24,116,44","118,24,145,44","147,24,174,44","176,24,203,44","205,24,232,44","234,24,261,44","263,24,290,44","292,24,319,44","321,24,348,44","350,24,377,44","379,24,406,44","408,24,435,44","437,24,464,44","466,24,493,44","495,24,522,44","524,24,551,44","553,24,580,44","582,24,609,44"];var m_rel_rect=["2,2,29,28","31,2,58,28","60,2,87,28","89,2,116,28","118,2,145,28","147,2,174,28","176,2,203,28","205,2,232,28","234,2,261,28","263,2,290,28","292,2,319,28","321,2,348,28","350,2,377,28","379,2,406,28","408,2,435,28","437,2,464,28","466,2,493,28","2,30,29,51","31,30,58,51","60,30,87,51","89,30,116,51","118,30,145,51","147,30,174,51","176,30,203,51","205,30,232,51","234,30,261,51","263,30,290,51","292,30,319,51","321,30,348,51","350,30,377,51","379,30,406,51","408,30,435,51","437,30,464,51","466,30,493,51","495,30,522,51"];var m_logic_rect=["2,2,29,24","31,2,58,24","60,2,87,24","89,2,116,24","118,2,145,24","147,2,174,24","176,2,203,24","205,2,232,24","234,2,261,24","263,2,290,24","292,2,319,24","321,2,348,24","350,2,377,24","379,2,406,24","408,2,435,24","437,2,464,24","466,2,493,24","495,2,522,24","524,2,551,24","2,26,29,52","31,26,58,52","60,26,87,52","89,26,116,52","118,26,145,52","147,26,174,52","176,26,203,52","205,26,232,52","234,26,261,52","263,26,290,52","292,26,319,52","321,26,348,52","350,26,377,52","379,26,406,52","408,26,435,52","437,26,464,52","466,26,493,52","495,26,522,52","524,26,551,52"];var m_symbol_rect=["2,2,29,26","31,2,58,26","60,2,87,26","89,2,116,26","118,2,145,26","147,2,174,26","176,2,203,26","205,2,232,26","234,2,261,26","263,2,290,26","292,2,319,26","321,2,348,26","350,2,377,26","379,2,406,26","408,2,435,26","437,2,464,26","466,2,493,26","495,2,522,26","524,2,551,26","553,2,580,26","2,28,29,54","31,28,58,54","60,28,87,54","89,28,116,54","118,28,145,54","147,28,174,54","176,28,203,54","205,28,232,54","234,28,261,54","263,28,290,54","292,28,319,54","321,28,348,54","350,28,377,54","379,28,406,54","408,28,435,54","437,28,464,54","466,28,493,54","495,28,522,54","524,28,551,54","553,28,580,54"];var m_arrow_rect=["2,2,29,25","31,2,58,25","60,2,87,25","89,2,116,25","118,2,145,25","147,2,174,25","176,2,214,25","216,2,254,25","256,2,294,25","296,2,323,25","325,2,352,25","354,2,381,25","383,2,410,25","412,2,439,25","2,27,29,50","31,27,58,50","60,27,87,50","89,27,116,50","118,27,145,50","147,27,174,50","176,27,214,50","216,27,254,50","256,27,294,50","296,27,323,50","325,27,352,50","354,27,381,50","383,27,410,50","412,27,439,50"];var s_algebra=["\\left(x-1\\right)\\left(x+3\\right)","\\sqrt{a^2+b^2}","x = a_0 + \\frac{1}{a_1 + \\frac{1}{a_2 + \\frac{1}{a_3 + a_4}}}","x = a_0 + \\frac{1}{\\displaystyle a_1 + \\frac{1}{\\displaystyle a_2 + \\frac{1}{\\displaystyle a_3 + a_4}}}","\\sqrt{\\frac{x^2}{k+1}}\\qquad\nx^{\\frac{2}{k+1}}\\qquad\n\\frac{\\partial^2f}{\\partial x^2}"];var s_calculus=["\\frac{\\partial y}{\\partial x}","\\frac{d}{dx}c^n=nx^{n-1}","\\frac{d}{dx}e^{ax}=a\\,e^{ax}","\\frac{d}{dx}\\ln(x)=\\frac{1}{x}","\\frac{d}{dx}\\sin x=\\cos x","a_i^2 + b_j^2 = c_k^2"];var s_stats=["{^n}C_r","\\frac{n!}{r!(n-r)!}","\\sum_{i=1}^{n}{X_i}","\\sum_{i=1}^{n}{X_i^2}","\\sum_{i=1}^{n}{(X_i - \\overline{X})^2}","X_1, \\cdots,X_n","\\frac{x-\\mu}{\\sigma}"];var s_set=["\\bigcup_{i=1}^{n}{X_i}","\\bigcap_{i=1}^{n}{X_i}"];var s_trig=["\\cos^{-1}\\theta","\\sin^{-1}\\theta","e^{i \\theta}","\\left(\\frac{\\pi}{2}-\\theta \\right )","\\lim_{x \\to a} \\frac{f(x) - f(a)}{x - a}","\\int_{0}^{\\pi} \\sin x \\, dx = 2"];var s_physics=["\\vec{F}=m\\vec{a}","e=m c^2","\\vec{F}=m \\frac{d \\vec{v}}{dt} + \\vec{v}\\frac{dm}{dt}","\\oint \\vec{F} \\cdot d\\vec{s}=0","\\vec{F}_g=-F\\frac{m_1 m_2}{r^2} \\vec{e}_r"];var s_matrices=["\\begin{pmatrix}\n a_{11} & a_{12} \\\\\n a_{21} & a_{22}\n \\end{pmatrix}","\\begin{pmatrix}\n a_{11} & a_{12} & a_{13}\\\\\n a_{21} & a_{22} & a_{23}\\\\\n a_{31} & a_{32} & a_{33}\n \\end{pmatrix}","\\begin{pmatrix}\n a_{11} & \\cdots & a_{1n}\\\\\n \\vdots & \\ddots & \\vdots\\\\\n a_{m1} & \\cdots & a_{mn}\n \\end{pmatrix}","\\begin{pmatrix}\n 1 & 0 \\\\\n 0 & 1\n \\end{pmatrix}","\\mathbf{X} = \\left(\n\\begin{array}{ccc}\nx_1 & x_2 & \\ldots \\\\\nx_3 & x_4 & \\ldots \\\\\n\\vdots & \\vdots & \\ddots\n\\end{array} \\right)"];var s_chemistry=["_{10}^{5}C^{16}","2H_2 + O_2 {\\overset{n,m}{\\longrightarrow}} 2H_2O","A\\underset{b}{\\overset{a}{\\longleftrightarrow}}B","A\\underset{0}{\\overset{a}{\\rightleftharpoons}}B","A\\underset{0^{\\circ}C }{\\overset{100^{\\circ}C}{\\rightleftharpoons}}B"];var samples=["\\left(x-1\\right)\\left(x+3\\right)","\\sqrt{a^2+b^2}","a_i^2 + b_j^2 = c_k^2","\\sum_{i=1}^{n} x_{i}^{2}","x = a_0 + \\frac{1}{a_1 + \\frac{1}{a_2 + \\frac{1}{a_3 + a_4}}}","x = a_0 + \\frac{1}{\\displaystyle a_1 + \\frac{1}{\\displaystyle a_2 + \\frac{1}{\\displaystyle a_3 + a_4}}}","\\lim_{x \\to a} \\frac{f(x) - f(a)}{x - a}","\\int_{0}^{\\pi} \\sin x \\, dx = 2","\\frac{d}{d\\theta} \\sin(\\theta) = \\cos(\\theta)","\\mathbf{X} = \\left(\n\\begin{array}{ccc}\nx_1 & x_2 & \\ldots \\\\\nx_3 & x_4 & \\ldots \\\\\n\\vdots & \\vdots & \\ddots\n\\end{array} \\right)"];var m_normal_img={math:"http://img2.ph.126.net/G3MYoLa9g8WpKl0TWAYyWg==/2019301483022554715.png",greek:"http://img2.ph.126.net/EbQDQuKuBYrlS0rZFWpbkg==/6608780665003467926.png",rel:"http://img0.ph.126.net/Vt7_hp2xQXJwCaN-oTa8LQ==/6598205562169887885.png",symbol:"http://img2.ph.126.net/crG-r_w69oeg_2wCfkWEww==/6597704184867699980.png",logic:"http://img0.ph.126.net/whnMeWV_WxAoCQg7SHssvQ==/3190237386138797667.png",arrow:"http://img2.ph.126.net/VxmY-43B8jqHNx22w8cG4g==/6597543656170048310.png",Algebra_1:"http://img2.ph.126.net/UQihbSjorHPa6M66y7-liQ==/4791830003622446441.png",Algebra_2:"http://img0.ph.126.net/IzWfQsPlWxSi1QXN-RYc1w==/1448470230253357794.png",Algebra_3:"http://img1.ph.126.net/b0ogK2TTM1hypDoGyOBfeQ==/6597202807565753503.png",Algebra_4:"http://img1.ph.126.net/b0ogK2TTM1hypDoGyOBfeQ==/6597202807565753503.png",Algebra_5:"http://img1.ph.126.net/jEloIOEsTGw5hrHl-DTjvA==/1882223169364789588.png",Calculus_1:"http://img2.ph.126.net/qi61tho2IlM3J5q118SkiA==/2053359955204861724.png",Calculus_2:"http://img0.ph.126.net/7hITU95jGVKjr5lvcxVDEg==/3159838088654437749.png",Calculus_3:"http://img2.ph.126.net/mHoke2y1Q7QjOy7SdSZ_bA==/87820192833871898.png",Calculus_4:"http://img2.ph.126.net/fI37iu4MldT2mdoABt9K6w==/2854156263946906340.png",Calculus_5:"http://img2.ph.126.net/jtOULAW0EmkntU4MvuHnsg==/2633479882122969578.png",Calculus_6:"http://img1.ph.126.net/qzuBICz13K1qpSzoQFEhgw==/6597497476680500014.png",Stats_1:"http://img2.ph.126.net/dpDV5xCKNH050M7BIW6T6A==/4835177150035861754.png",Stats_2:"http://img0.ph.126.net/oFsmSZ2k1P_oCgRuNRrEtA==/6598094511495507735.png",Stats_3:"http://img1.ph.126.net/F6cGevZA6tOMA477y-EJIw==/1139410705825566685.png",Stats_4:"http://img1.ph.126.net/hkUSozEU_O-rw6zo0P3jqw==/708191041504319116.png",Stats_5:"http://img2.ph.126.net/Ou4e4KkpHL2y22aAPI1GfA==/6597477685471200077.png",Stats_6:"http://img0.ph.126.net/HIIq-iI-LoFZuouian8VrA==/1334191389626577906.png",Stats_7:"http://img1.ph.126.net/-AMAzTlNvtLoSvcAAq4xag==/6597636015146779870.png",Set_1:"http://img2.ph.126.net/aWNb4VxJOD7Pn0C7csEFiQ==/6597900997449074369.png",Set_2:"http://img2.ph.126.net/N1hBtCFPi4_hNZMTGF-lqg==/6598112103681548699.png",Trig_1:"http://img1.ph.126.net/QQQjrBesRuHbT8rOcZhhRw==/1825365224069039284.png",Trig_2:"http://img0.ph.126.net/zaRh16mtMcmxj5WPl7iq_A==/6608681708956968093.png",Trig_3:"http://img0.ph.126.net/JUJwy5K4ydQjL45U33jIDA==/6608636628980229456.png",Trig_4:"http://img0.ph.126.net/Fa6bgqR8qKjyPn-9OCQAlw==/1984680060887425938.png",Trig_5:"http://img1.ph.126.net/dTjZ0NFeHdeETG0neihOVg==/6598164880239685021.png",Trig_6:"http://img1.ph.126.net/kx9we2exD1W7hnP8s2-ArA==/6608426622260169550.png",Physics_1:"http://img2.ph.126.net/43GWnpj4030o8j0wGJYLiw==/720294465502878278.png",Physics_2:"http://img1.ph.126.net/CgJGzVVVHP8gocLayZ6sUg==/6608487095398851985.png",Physics_3:"http://img1.ph.126.net/ZtYA5oW2muRdKSN1XjGm9Q==/1745707805659777441.png",Physics_4:"http://img2.ph.126.net/_jnhyNKizoeocDqpCVyOvg==/1756685329751488529.png",Physics_5:"http://img0.ph.126.net/DQ9-kxDlyFrdFuQDGyNAbg==/6597675597565382544.png",Matrices_1:"http://img0.ph.126.net/To5ah5g69Lp1LdoU5yguiA==/2262495862900545069.png",Matrices_2:"http://img2.ph.126.net/72lTyMExzTUXky6BddxNLQ==/1413848808118630055.png",Matrices_3:"http://img1.ph.126.net/oDZp9cT2eCZzOvx2uG7NNg==/6597141234914598082.png",Matrices_4:"http://img0.ph.126.net/AJBcQbQzSAxZOnf6RD23ZQ==/6597198409519248396.png",Matrices_5:"http://img2.ph.126.net/jQ8sb2aftHq6wamn_l4PPQ==/6608562961701168488.png",Chemistry_1:"http://img1.ph.126.net/vJN63vEddPmjwgWa7dqtAg==/1916000166570022513.png",Chemistry_2:"http://img2.ph.126.net/h6ZPvjlo7HAwJ_iLQK2uQw==/2057863554832177238.png",Chemistry_3:"http://img1.ph.126.net/uMzxgfryIOeJE1K7yXSDJw==/1709679008641115020.png",Chemistry_4:"http://img0.ph.126.net/ADxwUfbFWhPc18OCkDSh-Q==/6597869111611873233.png",Chemistry_5:"http://img0.ph.126.net/cO7plxf5gtWSbNAL8yuF3g==/1409908158444404259.png"};var dv=e.dL('<div class="m-mathedit f-cb"><div class="u-equation j-equation f-pr"><div class="f-cb eqitems"><div class="item f-fl j-item f-cb f-pr"><div class="itemname f-f0">数学</div><div class="j-eqitem eqitem eqitem-1 f-pa" style="display:none;"></div></div><div class="item f-fl j-item f-cb f-pr"><div class="itemname f-f0">希腊</div><div class="j-eqitem eqitem eqitem-2 f-pa" style="display:none;"></div></div><div class="item f-fl j-item f-cb f-pr"><div class="itemname f-f0">关系</div><div class="j-eqitem eqitem eqitem-3 f-pa" style="display:none;"></div></div><div class="item f-fl j-item f-cb f-pr"><div class="itemname f-f0">符号</div><div class="j-eqitem eqitem eqitem-4 f-pa" style="display:none;"></div></div><div class="item f-fl j-item f-cb f-pr"><div class="itemname f-f0">逻辑</div><div class="j-eqitem eqitem eqitem-5 f-pa" style="display:none;"></div></div><div class="item f-fl j-item f-cb f-pr"><div class="itemname f-f0">矩形</div><div class="j-eqitem eqitem eqitem-6 f-pa" style="display:none;"></div></div><div class="item f-fl j-item f-cb f-pr"><div class="itemname f-f0">代数</div><div class="j-eqitem eqitem eqitem-7 f-pa" style="display:none;"></div></div><div class="item f-fl j-item f-cb f-pr"><div class="itemname f-f0">微积分</div><div class="j-eqitem eqitem eqitem-8 f-pa" style="display:none;"></div></div><div class="item f-fl j-item f-cb f-pr"><div class="itemname f-f0">统计学</div><div class="j-eqitem eqitem eqitem-9 f-pa" style="display:none;"></div></div><div class="item f-fl j-item f-cb f-pr"><div class="itemname f-f0">集合</div><div class="j-eqitem eqitem eqitem-10 f-pa" style="display:none;"></div></div><div class="item f-fl j-item f-cb f-pr"><div class="itemname f-f0">三角</div><div class="j-eqitem eqitem eqitem-11 f-pa" style="display:none;"></div></div><div class="item f-fl j-item f-cb f-pr"><div class="itemname f-f0">物理</div><div class="j-eqitem eqitem eqitem-12 f-pa" style="display:none;"></div></div><div class="item f-fl j-item f-cb f-pr"><div class="itemname f-f0">矩阵</div><div class="j-eqitem eqitem eqitem-13 f-pa" style="display:none;"></div></div><div class="item f-fl j-item f-cb f-pr"><div class="itemname f-f0">化学</div><div class="j-eqitem eqitem eqitem-14 f-pa" style="display:none;"></div></div></div><div class="imgsrea f-pa"></div></div><div class="u-latex j-latex"><p class="f-f0 latextip">latex编辑区域：</p><p class="f-f0 chinatip" style="dispaly:block;">暂不支持中文字符，请不要输入中文字符</p><div class="latexarea"><textarea class="j-latexSrc latexSrc"></textarea></div><div class="latexlen"><span class="j-latexMsg latexMsg"></span><span class="tipinfo">注意：超过200字符长度 无法解析出图片</span></div><a class="j-preview u-btn u-btn-preview">预览</a><div class="imgshow"><span class="imginfo f-f0">公式图片：</span><img src="" class="j-latexImg latexImg" /></div><p class="f-f0 savetip">提示： 确定前请点击预览查看效果<p></div></div>');p.bnX=NEJ.C();oM=p.bnX.bt(p.sn,true);cIB=p.bnX.cH;oM.bU=function(){this.bW=e.bX(e.bS(dv))};oM.bL=function(){this.bO();this.kp=e.bc(this.bb,"j-item");this.rl=e.bc(this.bb,"j-eqitem");this.Fy=e.bc(this.bb,"j-latexSrc")[0];this.Po=e.bc(this.bb,"j-latexMsg")[0];this.Jp=e.bc(this.bb,"j-latexImg")[0];this.kD=e.bc(this.bb,"j-preview")[0];v.bd(this.kD,"click",this.cIA.Z(this))};oM.bJ=function(){this.Jp.src="";this.Fy.value="";this.Po.innerText="";u.bw(this.rl,function(bo,bf){bo.innerHTML=""}.Z(this));this.bN()};oM.bE=function(Y){this.bG(Y);this.cIz();eu.bs(this.Jp)};oM.cIz=function(){this.XY(this.rl[0],m_math,m_math_rect,"math");this.XY(this.rl[1],m_greek,m_greek_rect,"greek");this.XY(this.rl[2],m_rel,m_rel_rect,"rel");this.XY(this.rl[3],m_symbol,m_symbol_rect,"symbol");this.XY(this.rl[4],m_logic,m_logic_rect,"logic");this.XY(this.rl[5],m_arrow,m_arrow_rect,"arrow");u.bw(this.kp,function(bo,bf){v.bd(bo,"mouseover",this.cfb.Z(this,true,bf));v.bd(bo,"mouseout",this.cfb.Z(this,false,bf))}.Z(this));this.cIx=e.bc(this.bb,"j-areaitem");u.bw(this.cIx,function(bo,bf){v.bd(bo,"click",this.cfa.Z(this,bo))}.Z(this));this.rl[6].innerHTML=this.Me(s_algebra,"Algebra");this.rl[7].innerHTML=this.Me(s_calculus,"Calculus");this.rl[8].innerHTML=this.Me(s_stats,"Stats");this.rl[9].innerHTML=this.Me(s_set,"Set");this.rl[10].innerHTML=this.Me(s_trig,"Trig");this.rl[11].innerHTML=this.Me(s_physics,"Physics");this.rl[12].innerHTML=this.Me(s_matrices,"Matrices");this.rl[13].innerHTML=this.Me(s_chemistry,"Chemistry");this.cIv=e.bc(this.bb,"j-sample");u.bw(this.cIv,function(bo,bf){v.bd(bo,"mouseover",this.ceZ.Z(this,true,bo));v.bd(bo,"mouseout",this.ceZ.Z(this,false,bo));v.bd(bo,"click",this.cIt.Z(this,bo))}.Z(this));v.bd(this.Fy,"keyup",function(){this.Po.innerHTML=this.Fy.value.length+" 字符"}.Z(this))};oM.cfa=function(bo){this.ceY(this.Fy,bo.title)};oM.cfb=function(da,bf){if(!!da){e.bK(e.cJ(this.kp[bf])[0],"selected");this.rl[bf].style.display="block"}else{e.bZ(e.cJ(this.kp[bf])[0],"selected");this.rl[bf].style.display="none"}};oM.djI=function(da,bf){if(!!da){e.bK(this.cIq[bf],"selected");this.cIo[bf].style.display="block"}else{e.bZ(this.cIq[bf],"selected");this.cIo[bf].style.display="none"}};oM.cIt=function(bo){var ch=e.ho(bo,"name");var bf=e.ho(bo,"index");var s="";if(ch=="Algebra")s=s_algebra[bf];else if(ch=="Calculus")s=s_calculus[bf];else if(ch=="Stats")s=s_stats[bf];else if(ch=="Set")s=s_set[bf];else if(ch=="Trig")s=s_trig[bf];else if(ch=="Physics")s=s_physics[bf];else if(ch=="Matrices")s=s_matrices[bf];else if(ch=="Chemistry")s=s_chemistry[bf];this.ceY(this.Fy,s)};oM.ceZ=function(da,bo){if(!!da){bo.style.border="1px solid #65a200"}else{bo.style.border="1px solid #ddd"}};oM.ceY=function(d,g){if(document.selection){d.focus();var e=document.selection.createRange();e.text=g;d.focus()}else{if(d.selectionStart||d.selectionStart===0){if(d.value){g=" "+g+" "}else{g=g+" "}var h=d.value.length;var b=d.selectionStart;var a=d.selectionEnd;var f=d.scrollTop;d.value=d.value.substring(0,b)+g+d.value.substring(a,d.value.length);d.focus();d.selectionStart=b+g.length;d.selectionEnd=b+g.length;d.scrollTop=f}else{if(d.value){g=" "+g}var h=d.value.length;d.value+=g;d.focus()}}};oM.cIA=function(){if(!this.Fy.value){this.Po.innerHTML="";this.cIn();return}var cIm="bg,s,"+"FFFFFF"+"80";var djJ="&chf="+encodeURIComponent(cIm)+"&chco="+"000000";if(this.Fy.value.length>200){this.Po.innerHTML="公式长度已经超过200个字符";e.bK(this.Po,"warninfo");this.Jp.src="";eu.bs(this.Jp);this.bn("onGetImgSrc",this.Jp.src)}else{this.Po.innerHTML=this.Fy.value.length+" 字符";e.bZ(this.Po,"warninfo");window.resultShow=this.cIk();var cG="http://capture.srv.icourse163.org/image/latex.do?latex="+encodeURIComponent(this.Fy.value)+"&size=18&callback=resultShow";this.cIj(cG)}};oM.cIj=function(src){var script=document.createElement("script");script.setAttribute("type","text/javascript");script.src=src;document.body.appendChild(script)};oM.cIk=function(){var bnC=this;return function(W){bnC.Jp.src=W.url;eu.bv(bnC.Jp);bnC.bn("onGetImgSrc",bnC.Jp.src)}};oM.cIn=function(){this.Jp.src="";this.Fy.value=""};oM.cIi=function(cT){return cT};oM.XY=function(dO,arr,arr2,name){var img=document.createElement("img");e.ho(img,"src",m_normal_img[name]);e.ho(img,"usemap","#map_"+name);var map=document.createElement("map");e.ho(map,"name","map_"+name);for(var i=0;i<arr2.length;i++){var myarea=document.createElement("area");e.ho(myarea,"shape","rect");e.ho(myarea,"title",this.cIi(arr[i]));e.ho(myarea,"coords",arr2[i]);myarea.onclick=this.cfa.Z(this,myarea);map.appendChild(myarea)}dO.appendChild(img);dO.appendChild(map)};oM.Me=function(arr,name){var s="";for(var i=0;i<arr.length;i++){var cIe=name+"_"+(i+1);s+='<div class="f-fl j-sample samright" name="'+name+'" index="'+i+'"><span class="verticalAlign"></span><img src="'+m_normal_img[cIe]+'"></div>'}return s}})();
(function(){var bp=NEJ.P,de=NEJ.O,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cA=bp("nej.ui.cmd"),cd=bp("nej.v"),QM,cIc;bq.bnu=NEJ.C();QM=bq.bnu.bt(cA.Mi);cIc=bq.bnu.cH;var dn=bm.bX('<div class="u-richeditor-math"><div class="j-equation"></div><input type="hidden" class="j-ipt" /><input type="hidden" class="j-ipt" /><div class="btns f-cb"><a class="f-fr u-btn u-btn-primary j-btn">取消</a><a class="f-fr u-btn u-btn-default j-btn">确定</a></div></div>');QM.hk=function(Y){Y=Y||{};Y.onErrorLink=this.bns.Z(this);this.hu(Y)};QM.bns=function(bz){};QM.bE=function(Y){Y=Y||{};Y.title="公式编辑";Y.clazz=Y.clazz||"m-basewin u-window-math";Y.draggable=false;Y.align="center middle";Y.maskclazz=Y.maskclazz||"m-editorwin";this.bvQ=bq.bnX.bh({parent:this.cHW,onGetImgSrc:function(bH){this.lD[1].value=bH}.Z(this)});this.bG(Y)};QM.bJ=function(){if(!!this.bvQ){this.bvQ=bq.bnX.bg(this.bvQ)}this.bN()};QM.bL=function(){this.bO();this.cHW=bm.bc(this.bb,"j-equation")[0];this.lD=bm.bc(this.bb,"j-ipt")};QM.bU=function(){this.bW=dn}})();
(function(){var bp=NEJ.P,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cd=bp("nej.v"),XR,cHT;if(!!bq.bnj)return;bq.bnj=NEJ.C();XR=bq.bnj.bt(bq.Ye);cHT=bq.bnj.cH;XR.bE=function(Y){this.bG(Y);this.eR.addListener("selectionchange",function(type,causeByUi,uiReady){var il=this.eR.queryCommandState(this.kF);if(il==-1){this.jN(true)}else{if(!uiReady){this.jN(false)}}}.Z(this))};XR.bL=function(){this.bO();this.kF="insertimage"};XR.bgt=function(bvX){if(!bvX)return;if(!!bvX.href){this.eR.execCommand(this.kF,{src:bvX.href})}};XR.ll=function(){if(this.vg){return}this.eR.focus();this.bnh=bq.bnu.bh(this.boA);this.bnh.fI()};XR.bJ=function(){if(!!this.bnh){this.bnh=bq.bnu.bg(this.bnh)}this.bN()}})();
(function(){var dC=window,bp=NEJ.P,de=NEJ.O,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cd=bp("nej.v"),nc,boq;var dn='<div class="u-richeditor-link"><div class="row f-cb"><div class="txtwrap f-cb"><div class="f-fl title">标题</div><input class="f-fl ipt j-ipt" type="text" /></div></div><div class="row f-cb"><div class="txtwrap f-cb"><div class="f-fl title">链接</div><input class="f-fl ipt j-ipt" type="text" value="http://"/></div></div><div class="error j-error"></div><div class="btns f-cb">$btn_html_str</div></div>';var cv=bm.dA("");bq.Mi=NEJ.C();nc=bq.Mi.bt(bq.HS);boq=bq.Mi.cH;nc.bU=function(){this.ds=cv;this.bW=bm.bX(this.bwa())};nc.bwa=function(){var cHS=dC.eduEditor_options.isStudy?'<a class="f-fr cancel btn j-btn"><span>取消</span></a><a class="f-fr ok btn j-btn"><span>确定</span></a>':'<a class="f-fr u-btn u-btn-primary j-btn">取消</a><a class="f-fr u-btn u-btn-default j-btn">确定</a>';return dn.replace("$btn_html_str",cHS)};nc.bL=function(){this.bO();this.qg=bm.bc(this.bb,"j-btn");this.lD=bm.bc(this.bb,"j-ipt");this.OH=bm.bc(this.bb,"j-error")[0]};nc.Bj=function(){this.eB()};nc.bgg=function(){var iy={};iy.name=bD.dV(this.lD[0].value);iy.href=this.lD[1].value;var ea=/^(?:http(s)?:\/\/)[^\s].?/,Iw=/^(?:http(s)?:\/\/).*/;var cC=iy.href.search(ea),bSs=iy.href.search(Iw);if(bSs<0){this.bns(0);return}if(cC<0){this.bns(1);return}this.bn("onchange",iy);this.eB()};nc.bns=function(bz){if(bz==0){this.pZ("请输入合法的链接地址（http://或https://）")}else{this.pZ("请输入合法的链接地址")}};nc.bE=function(Y){Y=Y||{};Y.clazz=Y.clazz||"m-basewin u-editor-linkCard";Y.maskclazz=Y.maskclazz||"m-editor-mask";Y.parent=Y.parent||document.body;Y.draggable=Y.draggable||false;Y.destroyable=Y.destroyable||false;Y.title=Y.title||"超链接";Y.mask=Y.mask||true;this.bG(Y);this.gN([[this.qg[1],"click",this.bgg.Z(this)],[this.qg[0],"click",this.Bj.Z(this)],[this.lD[0],"focus",this.pZ.Z(this,"")],[this.lD[1],"focus",this.pZ.Z(this,"")]]);this.lD[0].value=Y.name||"";this.lD[1].value=""};nc.cIC=function(){this.lD[1].focus();this.lD[1].value=""};nc.pZ=function(fe){this.OH.innerText=fe};nc.bJ=function(){this.bN()}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cd=bp("nej.v"),XP,cHR;bq.bwf=NEJ.C();XP=bq.bwf.bt(bq.Ye);cHR=bq.bwf.cH;XP.bE=function(Y){this.bG(Y);this.eR.addListener("selectionchange",function(type,causeByUi,uiReady){var il=this.eR.queryCommandState(this.kF);if(il==-1){this.jN(true)}else{if(!uiReady){this.jN(false)}}}.Z(this))};XP.bJ=function(){this.bN()};XP.bL=function(){this.bO();this.kF="link"};XP.ll=function(){if(this.vg){return}bq.Mi.bh(this.boA).fI()};XP.bgt=function(W){this.eR.execCommand(this.kF,{href:W.href,textValue:W.name,target:"_blank"})}})();
(function(){var bp=NEJ.P,de=NEJ.O,bm=bp("nej.e"),bD=bp("nej.u"),cd=bp("nej.v"),ej=bp("nej.x"),bq=bp("nej.ut"),bM;if(!!bq.jk)return;bq.jk=NEJ.C();bM=bq.jk.bt(bq.hW);bM.bE=function(Y){this.bG(Y);this.fO=Y.event||"click";this.ov=Y.selected||"js-selected";this.kY=Y.disabled||"js-disabled";this.ceU=!!Y.inverse;this.cHP(Y.list);this.ceT(Y.index||0)};bM.bJ=function(){var cHM=function(bB){this.bwq(bB,!1)};return function(){this.bN();bD.bw(this.dI,cHM,this);delete this.dI;delete this.fO;delete this.dk;delete this.kY;delete this.ov;delete this.ceU}}();bM.cHP=function(){var bww=function(bo){if(!bo)return;this.dI.push(bo);var bf=this.dI.length-1,ec=this.bwx[bf];if(!ec){ec=this.ceT.Z(this,bf);this.bwx[bf]=ec}this.gN([[bo,this.fO,ec]])};return function(bF){this.dI=[];if(!this.bwx)this.bwx=[];bD.bw(bF,bww,this)}}();bM.bwq=function(bA,zZ){!!zZ&&!this.ceU?bm.bK(bA,this.ov):bm.bZ(bA,this.ov)};bM.ceT=function(bf,cHL){var bA=this.dI[bf];if(cHL!=!0&&(bf==this.dk||!bA||bm.hv(bA,this.kY))){cd.RW(arguments[1]);return this}var bj={index:bf,last:this.dk,list:this.MR(),data:bm.dj(bA,"value")};this.dk=bf;bA=this.dI[bj.last];if(!!bA)this.bwq(bA,!1);bA=this.dI[this.dk];this.bwq(bA,!0);this.bn("onchange",bj);if(!bj.nostop)cd.RW(arguments[1]);return this};bM.bmS=function(){return this.dk};bM.MR=function(){return this.dI};bm.cHJ=ej.cHJ=function(dO,Y){var bV=bm.mq(dO);if(!bV)return null;if(!bq.brT(bV,bq.jk)){Y=Y||{};Y.list=!Y.clazz?bm.cJ(bV):bm.bc(bV,Y.clazz);delete Y.clazz}return bq.brT(bV,bq.jk,Y||de)};ej.isChange=!0})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cd=bp("nej.v"),dC=window,nW,cHH;var dn='<div class="u-richeditor-uploadCard"><div class="tab"><a class="f-ib tabitem j-tab"><span>上传图片</span></a><a class="f-ib tabitem j-tab"><span>引用站外图片</span></a><image class="hideimage j-image"/></div><div class="cnt j-cnt"><div class="f-pr uploadcon">$btn1_html_str<div class="j-choosefile f-pa"></div></div><p class="desc j-desc"></p></div><div class="cnt j-cnt"><div class="f-cb webcon"><div class="f-fl txtwrap"><input class="txt j-ipturl" type="text"/></div>$btn2_html_str</div><p class="desc j-desc"></p></div><div class="error j-error"></div></div>';var cv=bm.dA("");bq.bwK=NEJ.C();nW=bq.bwK.bt(bq.HS);cHH=bq.bwK.cH;nW.hk=function(Y){Y=Y||{};this.cHG=Y.swfUrl||dC.imageUrlMap.image_upload_swf||"/res/swf/imageUpload.swf";this.cHC=Y.baseUrl||dC.eduEditor_options.imageUploadUrl||"http://upload.icourse163.org/api/photoUpload2.do?_upload_mth_=sync_parse&";this.cHB=Y.flashWidth||92;this.cHA=Y.flashHeight||34;this.bmG=Y.namespace||"edu.ut";this.cHz=Y.userdefinesize||"520x520x0x90;520x520x0x85";this.cHx=Y.saveorigin||"false";this.cHu=Y.responsetype||"xml";this.cHt=Y.rotatedegree||"0";this.cHp=Y.stamptype||"";this.cHo=Y.stampstring||"";this.cHm=Y.sitefrom||"study";this.cHj=Y.fDesc||"支持JPG、JPEG、GIF、BMP格式的图片，文件需小于10M";this.cHh=Y.oDesc||"网络图片不能超过2M";this.hu(Y);this.cHg=this.cHC+"userdefinesize="+this.cHz+"&saveorigin="+this.cHx+"&responsetype="+this.cHu+"&rotatedegree="+this.cHt+"&stamptype="+this.cHp+"&stampstring="+encodeURIComponent(this.cHo)+"&sitefrom="+this.cHm;this.cHf(this.bmG);bm.Jm({src:this.cHG,hidden:false,parent:this.cHe,width:this.cHB,height:this.cHA,params:{flashvars:"cbNameSpace="+this.bmG+"&uploadExif=true&uploadUrl="+encodeURIComponent(this.cHg),allowscriptaccess:"always",wmode:"transparent"},onready:this.cHd.Z(this)})};nW.cHd=function(lM){this.lO=lM};nW.cHc=function(){this.bxC.src=this.bmw.value.trim()};nW.cHb=function(){this.pZ("无法获取链接中的图片，请检查链接或稍后重试")};nW.cGY=function(){var uB={};uB.resultcode=999;uB.userDef2Url=this.bmw.value;this.bpl("webimg",uB.resultcode,uB)};nW.bE=function(Y){Y=Y||{};Y.clazz=Y.clazz||"m-basewin u-window-upload";Y.maskclazz=Y.maskclazz||"m-editorwin";Y.parent=Y.parent||document.body;Y.draggable=Y.draggable||false;Y.destroyable=Y.destroyable||false;Y.title=Y.title||"选择图片";Y.mask=true;this.bG(Y);this.pZ("")};nW.bJ=function(){if(!!this.bxQ){this.bxQ=eF.jk.bg(this.bxQ)}this.bN()};nW.bL=function(){this.bO();this.ceJ=bm.bc(this.bb,"j-desc");this.ceJ[0].innerText=this.cHj||"支持JPG、JPEG、GIF、BMP格式的图片，文件需小于10M";this.ceJ[1].innerText=this.cHh||"网络图片不能超过2M";this.ew=bm.bc(this.bb,"j-tab");this.cHe=bm.bc(this.bb,"j-choosefile")[0];this.XE=bm.bc(this.bb,"j-cnt");this.bmw=bm.bc(this.bb,"j-ipturl")[0];this.cGW=bm.bc(this.bb,"j-smturl")[0];this.OH=bm.bc(this.bb,"j-error")[0];this.bxC=bm.bc(this.bb,"j-image")[0];this.bxQ=eF.jk.bh({list:this.ew,selected:"j-selected",onchange:this.cGV.Z(this)});cd.bd(this.cGW,"click",this.cHc.Z(this));cd.bd(this.bxC,"error",this.cHb.Z(this));cd.bd(this.bxC,"load",this.cGY.Z(this));cd.bd(this.bmw,"focus",this.pZ.Z(this,""))};nW.bU=function(){this.ds=cv;this.bW=bm.bX(this.bwa())};nW.bwa=function(){var cGU=dC.eduEditor_options.isStudy?'<a class="btn choosebtn f-pa"><span>选择图片</span></a>':'<a class="u-btn f-pa">选择图片</a>';var cGT=dC.eduEditor_options.isStudy?'<a class="btn f-fl okbtn j-smturl"><span>确定</span></a>':'<a class="u-btn f-fl j-smturl">确定</a>';return dn.replace("$btn1_html_str",cGU).replace("$btn2_html_str",cGT)};nW.cHf=function(cGQ){this.cGO=bD.fb(2);this.bmG=cGQ+this.cGO;var yV=NEJ.P(this.bmG);yV.uploadStart=this.byF.Z(this);yV.uploadComplete=this.bpl.Z(this);yV.uploadError=this.byJ.Z(this);yV.showProgress=this.cGK.Z(this)};nW.byF=function(){this.cGI()};nW.bpl=function(bV,nl,uB){if(nl!=999){this.pZ("图片上传失败");this.byq()}else{this.pZ("");this.bn("onchange",uB);this.byq();this.eB()}};nW.pZ=function(fe){this.OH.innerText=fe};nW.cGI=function(){if(dC.eduEditor_options){if(typeof dC.eduEditor_options.showLoadingFn=="function"){dC.eduEditor_options.showLoadingFn()}}};nW.byq=function(){if(dC.eduEditor_options){if(typeof dC.eduEditor_options.hideLoadingFn=="function"){dC.eduEditor_options.hideLoadingFn()}}};nW.cGK=dm;nW.byJ=function(cQj,bhh,cQi){if(bhh==12){this.pZ("图片格式不正确，上传失败")}else if(bhh==0){this.pZ("图片过大，上传失败，请重新选择")}else{this.pZ("上传失败，请重试")}this.byq()};nW.cGV=function(bj){this.pZ("");var bf=bj.index;if(!bf){this.XE[0].style.display="";this.XE[1].style.display="none"}else{this.bmw.value="";this.XE[1].style.display="";this.XE[0].style.display="none"}}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cd=bp("nej.v"),XB,cGB;bq.byx=NEJ.C();XB=bq.byx.bt(bq.Ye);cGB=bq.byx.cH;XB.bE=function(Y){this.bG(Y);this.eR.addListener("selectionchange",function(type,causeByUi,uiReady){var il=this.eR.queryCommandState(this.kF);if(il==-1){this.jN(true)}else{if(!uiReady){this.jN(false)}}}.Z(this))};XB.bJ=function(){this.bN()};XB.bL=function(){this.bO();this.kF="insertimage"};XB.ll=function(){if(this.vg){return}bq.bwK.bh(this.boA).fI()};XB.bgt=function(uB){this.hw=0;if(!!uB.ourl&&uB.ourl.indexOf(".gif")>0){this.lw=uB.ourl;if(!!uB.photoGarbageIds){var byz=uB.photoGarbageIds.split(",");bD.bw(byz,function(bo,bf){if(bo.search("ourl")>=0)this.hw=bo.split(":")[1]},this)}}else{this.lw=uB.userDef2Url;if(!!uB.photoGarbageIds){var byz=uB.photoGarbageIds.split(",");bD.bw(byz,function(bo,bf){if(bo.search("userdef2url")>=0)this.hw=bo.split(":")[1]},this)}}this.eR.execCommand(this.kF,{src:this.lw,id:this.hw})}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cd=bp("nej.v");var byC=[];function cGz(){for(var i=0;i<byC.length;i++){var ceB=byC[i];if(!!ceB.bmj){ceB.bmj()}}}cd.bd(document,"mousedown",cGz);var byI,cGx;bq.bmg=NEJ.C();byI=bq.bmg.bt(bq.sn);cGx=bq.bmg.cH;byI.hk=function(){this.hu();byC.push(this)};byI.bmj=function(){}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cd=bp("nej.v"),ky,bHI;var dv='<div class="zdlitm zbg"><div class="up j-up f-thide"></div><div class="down f-bg j-list"></div></div>';bq.eW=NEJ.C();ky=bq.eW.bt(bq.bmg);bHI=bq.eW.cH;ky.bL=function(){this.bO();this.Iv=bm.bc(this.bb,"j-up")[0];this.nP=bm.bc(this.bb,"j-list")[0]};ky.bU=function(){this.bW=bm.bX(dv)};ky.bE=function(Y){this.bG(Y);this.eR=Y.editor;this.kY=false;this.XA(this.bme);this.AA=Y.data;this.beX();this.bHV(this.AA);cd.bd(this.nP,"mousedown",function(qf){cd.dG(qf)});this.gN([[this.bb,"mouseup",function(bj){if(!this.kY){this.bHX(bj)}}.Z(this)]]);this.jN(false);this.eR.addListener("selectionchange",function(type,causeByUi,uiReady){var il=this.eR.queryCommandState(this.kF);if(il==-1){this.jN(true)}else{this.jN(false);this.ceA()}}.Z(this));this.eR.addListener("focus",function(){this.beX()}.Z(this))};ky.bHV=function(W){this.nP.innerHTML="";if(!W){return}for(var i in W){if(!!W[i]){var OS=W[i];var bIm=this.byX(i,W[i]);var dy=bm.hU(bIm);this.gN([[dy,"mouseup",this.zJ.Z(this,i)]]);this.nP.appendChild(dy)}}};ky.byX=function(bR,bH){return'<div class="f-thide list" title="'+bD.dV(bR.toString())+'">'+bD.dV(bH.toString())+"</div>"};ky.zJ=function(W,bj){if(!!bj){cd.dG(bj)}this.Jn=W;this.XA(this.AA[this.Jn]);this.beX()};ky.jN=function(bjc){if(!!bjc){bm.bK(this.bb,"js-disabled")}else{bm.bZ(this.bb,"js-disabled")}this.kY=!!bjc};ky.ceA=function(){var bH=this.eR.queryCommandValue(this.kF);if(!!bH){this.XA(bH)}else{this.XA(this.bme)}};ky.XA=function(bH){this.Iv.innerText=bH};ky.bHX=function(bj){if(!!bj)cd.dG(bj);if(this.nP.style.display!="block"){this.nP.style.display="block"}else{this.beX()}};ky.beX=function(){this.nP.style.display="none"};ky.bJ=function(){this.bN()};ky.bmj=ky.beX})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cd=bp("nej.v"),Xz,cez;bq.bza=NEJ.C();Xz=bq.bza.bt(bq.eW);cez=bq.bza.cH;Xz.bL=function(){this.bO();this.kF="insertcode"};Xz.bE=function(Y){this.bme="代码语言";this.bG(Y);this.nP.style.width="135px"};Xz.ceA=function(){var bH=this.eR.queryCommandValue(this.kF);if(!!bH){this.XA(this.AA[bH])}else{this.XA(this.bme)}};Xz.zJ=function(W,bj){cez.zJ.apply(this,arguments);this.eR.execCommand(this.kF,this.Jn)};Xz.bJ=function(){this.bN()}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cd=bp("nej.v"),Xy,cey;bq.bze=NEJ.C();Xy=bq.bze.bt(bq.eW);cey=bq.bze.cH;Xy.bL=function(){this.bO();this.kF="FontSize"};Xy.bE=function(Y){this.bme="字号";this.bG(Y);this.nP.style.width="108px"};Xy.byX=function(bR,bH){return'<div class="f-thide list" style="font-size:'+bD.dV(bH.toString())+';">'+bD.dV(bH.toString())+"</div>"};Xy.zJ=function(W,bj){cey.zJ.apply(this,arguments);this.eR.execCommand(this.kF,this.AA[this.Jn])};Xy.bJ=function(){this.bN()}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cd=bp("nej.v"),bma,cGq;var dv='<div class="zitm zbg"><div class="zicn zbg j-up f-thide"></div><div class="down f-bg j-list"></div></div>';bq.blZ=NEJ.C();bma=bq.blZ.bt(bq.eW);cGq=bq.blZ.cH;bma.bU=function(){this.bW=bm.bX(dv)};bma.bE=function(Y){this.bG(Y);this.hP=Y.title||"";this.bb.title=this.hP;this.Iv.innerText=""};bma.bJ=function(){this.bN()}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cd=bp("nej.v"),Xx,cex;bq.blU=NEJ.C();Xx=bq.blU.bt(bq.blZ);cex=bq.blU.cH;Xx.bL=function(){this.bO()};Xx.bE=function(Y){Y.title=Y.data.title||"";Y.data=Y.data.list;this.bG(Y);this.nP.style.width="85px";if(Y.title=="段前距"){this.kF="top"}else{this.kF="bottom"}};Xx.byX=function(bR,bH){return'<div class="f-thide list">'+bD.dV(bH.toString())+"px</div>"};Xx.zJ=function(W,bj){cex.zJ.apply(this,arguments);this.eR.execCommand("rowspacing",this.AA[this.Jn],this.kF)};Xx.bJ=function(){this.bN()}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cd=bp("nej.v"),beS,cew;bq.bzo=NEJ.C();beS=bq.bzo.bt(bq.blZ);cew=bq.bzo.cH;beS.bL=function(){this.bO()};beS.bE=function(Y){Y.title=Y.data.title||"";Y.data=Y.data.list;this.bG(Y);this.nP.style.width="85px";this.kF="lineheight"};beS.zJ=function(W,bj){cew.zJ.apply(this,arguments);this.eR.execCommand(this.kF,this.AA[this.Jn])};beS.bJ=function(){this.bN()}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cd=bp("nej.v"),Hz,cGm;var dv='<div class="u-ecolorpicker"><a class="clear j-clearcolor">无颜色</a><div class="colors j-colors"></div></div>';bq.blR=NEJ.C();Hz=bq.blR.bt(bq.sn);cGm=bq.blR.cH;Hz.hk=function(){this.hu()};Hz.bE=function(Y){this.bG(Y)};Hz.bJ=function(){this.bN()};Hz.bU=function(){this.bW=bm.bX(dv)};Hz.bL=function(){this.bO();this.cev=["#E53333","#E56600","#FF9900","#64451D","#DFC5A4","#FFE500","#009900","#006600","#99BB00","#B8D100","#60D978","#00D5FF","#337FE5","#003399","#4C33E5","#9933E5","#CC33E5","#EE33EE","#ffffff","#cccccc","#999999","#666666","#333333","#000000"];this.Xv=null;this.cGi=bm.bc(this.bb,"j-clearcolor")[0];this.cGh=bm.bc(this.bb,"j-colors")[0];cd.bd(this.cGi,"mouseup",this.cGg.Z(this));this.cGf()};Hz.cGf=function(){var dN="";for(var i=this.cev.length-1;i>=0;i--){dN+='<a class="colorbtn j-colorbtn" title="'+this.cev[i]+'"><span></span></a>'}this.cGh.innerHTML=dN;this.blL=bm.bc(this.bb,"j-colorbtn");cd.bd(this.bb,"mousedown",function(qf){cd.dG(qf)});bD.bw(this.blL,function(bo,bf){bm.fm(bo.childNodes[0],"background-color",bo.title);cd.bd(bo,"mouseup",this.cGe.Z(this,bf))}.Z(this))};Hz.cGg=function(qf){if(!!qf){cd.dG(qf)}if(this.Xv!=null){bm.bZ(this.blL[this.Xv],"selected")}this.Xv=null;this.bn("onClearColor")};Hz.cGe=function(bf,qf){if(!!qf){cd.dG(qf)}if(this.Xv!=null){bm.bZ(this.blL[this.Xv],"selected")}this.Xv=bf;var bB=this.blL[bf];var cGd=bB.title;bm.bK(bB,"selected");this.bn("onColorPick",cGd)}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cd=bp("nej.v"),uz,cGb;var dv='<div class="zitm zbg colorbtn" title=""><div class="zicn zbg"></div><div class="colordown j-down"></div></div>';bq.blD=NEJ.C();uz=bq.blD.bt(bq.bmg);cGb=bq.blD.cH;uz.hk=function(){this.hu()};uz.bE=function(Y){this.bG(Y);this.hP=Y.title||"";this.eR=Y.editor;this.bb.title=this.hP;this.jN(false);this.eR.addListener("selectionchange",function(){var jV=this.eR.queryCommandState(this.kF);if(jV==-1){this.jN(true)}else{this.jN(false)}}.Z(this));this.eR.addListener("focus",function(){this.beM()}.Z(this))};uz.bJ=function(){if(this.bly){this.bly=bq.blR.bg(this.bly)}this.bN()};uz.bU=function(){this.bW=bm.bX(dv)};uz.bL=function(){this.bO();this.kF="forecolor";this.vg=false;this.ux=bm.bc(this.bb,"j-down")[0];cd.bd(this.bb,"mouseup",this.ll.Z(this))};uz.jN=function(EM){this.vg=EM;if(EM){bm.bK(this.bb,"js-disabled")}else{bm.bZ(this.bb,"js-disabled")}};uz.cfi=function(){return this.vg};uz.ll=function(qf){if(this.vg){return}if(!this.bly){this.bly=bq.blR.bh({parent:this.ux,onColorPick:this.cGa.Z(this),onClearColor:this.cFZ.Z(this)})}if(bm.tJ(this.ux,"display")=="block"){this.beM()}else{this.cFY()}};uz.cFY=function(){this.ux.style.display="block"};uz.beM=function(){this.ux.style.display="none"};uz.cGa=function(gQ){this.beM();this.eR.execCommand(this.kF,gQ)};uz.cFZ=function(){this.beM();this.eR.execCommand(this.kF,"default")};uz.bmj=uz.beM})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cd=bp("nej.v"),Xr,cFU;var dn=bm.bX('<div class="u-snapscreen-install"><div class="content"><p>截图功能需要首先安装UEditor截图插件！</p><div class="f-fs0"><div><a href="http://ueditor.baidu.com/ueditor/third-party/snapscreen/UEditorSnapscreen.exe" target="_blank" id="downlink">点此下载</a></div><div>第一步，下载UEditor截图插件并运行安装。</div><div>第二步，插件安装完成后即可使用，如不生效，请重启浏览器后再试！</div></div><div class="b-20"></div><div><a class="j-btn button tiny">确认</a></div></div></div>');var cv=bm.dA("");bq.bzT=NEJ.C();Xr=bq.bzT.bt(bq.HS);cFU=bq.bzT.cH;Xr.bU=function(){this.ds=cv;this.bW=dn};Xr.bL=function(){this.bO();this.qg=bm.bc(this.bb,"j-btn")};Xr.bgg=function(){this.eB()};Xr.bE=function(Y){Y=Y||{};Y.clazz=Y.clazz||"m-basewin u-editor-snapscreenDialog";Y.maskclazz=Y.maskclazz||"m-editor-mask";Y.parent=Y.parent||document.body;Y.draggable=Y.draggable||false;Y.destroyable=Y.destroyable||false;Y.title=Y.title||"截图";Y.mask=Y.mask||true;this.bG(Y);this.gN([[this.qg[0],"click",this.bgg.Z(this)]])};Xr.bJ=function(){this.bN()}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),cd=bp("nej.v"),OO,cFT;bq.bzX=NEJ.C();OO=bq.bzX.bt(bq.Ye);cFT=bq.bzX.cH;OO.bE=function(Y){this.bG(Y);this.eR.addListener("selectionchange",function(type,causeByUi,uiReady){var il=this.eR.queryCommandState(this.kF);if(il==-1){this.jN(true)}else{if(!uiReady){this.jN(false)}}}.Z(this))};OO.bJ=function(){this.bN()};OO.bL=function(){this.bO();this.kF="snapscreen"};OO.ll=function(){if(this.vg){return}this.cFS()};OO.cFS=function(){var me=this.eR,doc,snapplugin,lang=me.getLang("snapScreen_plugin");if(!snapplugin){var container=me.container;doc=container.ownerDocument||container.document;snapplugin=doc.createElement("object");try{snapplugin.type="application/x-pluginbaidusnap"}catch(e){return}snapplugin.style.cssText="position:absolute;left:-9999px;";snapplugin.setAttribute("width","0");snapplugin.setAttribute("height","0");container.appendChild(snapplugin)}var editorOptions=me.options;var onSuccess=function(rs){try{rs=eval("("+rs+")")}catch(e){alert(lang.callBackErrorMsg);return}if(!!rs.state&&rs.state!="SUCCESS"){alert(rs.state);return}me.execCommand("insertimage",{src:editorOptions.snapscreenPath+rs.url,floatStyle:editorOptions.snapscreenImgAlign,kd:editorOptions.snapscreenPath+rs.url})};var onStartUpload=function(){};var onError=function(){alert(lang.uploadErrorMsg)};try{var port=editorOptions.snapscreenServerPort+"";editorOptions.snapscreenServerUrl=editorOptions.snapscreenServerUrl.split(editorOptions.snapscreenHost);editorOptions.snapscreenServerUrl=editorOptions.snapscreenServerUrl[1]||editorOptions.snapscreenServerUrl[0];if(editorOptions.snapscreenServerUrl.indexOf(":"+port)===0){editorOptions.snapscreenServerUrl=editorOptions.snapscreenServerUrl.substring(port.length+1)}var ret=snapplugin.saveSnapshot(editorOptions.snapscreenHost,editorOptions.snapscreenServerUrl,port);onSuccess(ret)}catch(e){bq.bzT.bh(this.boA).fI()}};OO.bgt=function(W){this.eR.execCommand(this.kF,{href:W.href,textValue:W.name,target:"_blank"})}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),Al,cFR;var dv='<div class="f-cb"></div>';var cv=bm.dA("");bq.blm=NEJ.C();Al=bq.blm.bt(bq.sn);cFR=bq.blm.cH;Al.hk=function(){this.hu()};Al.bE=function(Y){this.bG(Y);this.cet=false;this.eR=Y.editor;this.Xq=Y.showCmds||["cleardoc","undo","redo","bold","italic","underline","strikethrough","insertorderedlist","insertunorderedlist","image","math","link","insertcode","fontsize","fontcolor"];this.eR.ready(function(djR){if(!this.cet){this.cFO();this.cFN();this.cFM();this.cFL();this.cet=true}}.Z(this))};Al.bJ=function(){if(this.Pp){for(var jx in this.Pp){if(this.Pp[jx]){this.Pp[jx]=bq.bgA.bg(this.Pp[jx])}}}if(this.Ps){for(var wo in this.Ps){if(this.Ps[wo]){this.Ps[wo]=this.Ps[wo].constructor.bg(this.Ps[wo])}}}if(this.Pw){for(var wo in this.Pw){if(this.Pw[wo]){this.Pw[wo]=this.Pw[wo].constructor.bg(this.Pw[wo])}}}if(this.Px){for(var wo in this.Px){if(this.Px[wo]){this.Px[wo]=bq.blD.bg(this.Px[wo])}}}if(this.bey){for(var i=0;i<this.bey.length;i++){bm.wX(this.bey[i])}}this.bN()};Al.bU=function(){this.ds=cv;this.bW=bm.bX(dv)};Al.bL=function(){this.bO();this.cFK=[{name:"cleardoc",title:"labelMap.cleardoc",clazz:"z-i-11",cmd:"cleardoc"},{name:"undo",title:"labelMap.undo",clazz:"z-i-9",cmd:"undo"},{name:"redo",title:"labelMap.redo",clazz:"z-i-10",cmd:"redo"},{name:"zisp"},{name:"bold",title:"labelMap.bold",clazz:"z-i-0",cmd:"bold"},{name:"italic",title:"labelMap.italic",clazz:"z-i-1",cmd:"italic"},{name:"underline",title:"labelMap.underline",clazz:"z-i-2",cmd:"underline"},{name:"strikethrough",title:"labelMap.strikethrough",clazz:"z-i-3",cmd:"strikethrough"},{name:"insertorderedlist",title:"labelMap.insertorderedlist",clazz:"z-i-4",cmd:"insertorderedlist",value:"decimal"},{name:"insertunorderedlist",title:"labelMap.insertunorderedlist",clazz:"z-i-5",cmd:"insertunorderedlist",value:"disc"}];this.cFJ=[{name:"fontcolor",title:"labelMap.forecolor",clazz:"z-i-12"},{name:"zisp"}];this.ces=[{name:"justifyleft",title:"labelMap.justifyleft",clazz:"z-i-0",cmd:"justify",value:"left"},{name:"justifycenter",title:"labelMap.justifycenter",clazz:"z-i-0",cmd:"justify",value:"center"},{name:"justifyright",title:"labelMap.justifyright",clazz:"z-i-0",cmd:"justify",value:"right"}];this.cFG=[{name:"link",title:"labelMap.link",clazz:"z-i-6",constructor:bq.bwf},{name:"image",title:"labelMap.insertimage",clazz:"z-i-7",constructor:bq.byx},{name:"math",title:"labelMap.math",clazz:"z-i-8",constructor:bq.bnj},{name:"snapscreen",title:"labelMap.snapscreen",clazz:"z-i-13",constructor:bq.bzX,cmd:"snapscreen"},{name:"zisp"}];this.cFF=[{name:"insertcode",title:"insertcode",clazz:"z-i-code",constructor:bq.bza,type:"map"},{name:"fontsize",title:"fontsize",clazz:"z-i-size",constructor:bq.bze,type:"list"},{name:"rowspacingtop",title:"rowspacingtop",clazz:"z-i-0",constructor:bq.blU,type:"list"},{name:"lineheight",title:"lineheight",clazz:"z-i-0",constructor:bq.bzo,type:"list"},{name:"rowspacingbottom",title:"rowspacingbottom",clazz:"z-i-0",constructor:bq.blU,type:"list"}]};Al.beu=function(){var ceq=bm.hU('<div class="zisp"></div>');this.bb.appendChild(ceq);if(!this.bey){this.bey=[]}this.bey.push(ceq)};Al.cFO=function(){this.Pp={};var pJ=this.eR;var dO=this.bb;var BV=0;bD.bw(this.cFK,function(bo,bf){if(bo.name=="zisp"&&BV>0){this.beu();return}if(bD.nZ(this.Xq,bo.name)==-1){return}this.Pp[bo.name]=function(jx){var uq=bq.bgA.bh({parent:dO,title:pJ.getLang(jx.title),clazz:jx.clazz,onclick:function(){pJ.execCommand(jx.cmd,jx.value)}.Z(this)});pJ.addListener("selectionchange",function(type,causeByUi,uiReady){var il=pJ.queryCommandState(jx.cmd);if(il==-1){uq.jN(true);uq.boK(false)}else{if(!uiReady){uq.jN(false);uq.boK(il)}}});return uq}(bo);BV++}.Z(this));BV=0;bD.bw(this.ces,function(bo,bf){if(bo.name=="zisp"&&BV>0){this.beu();return}if(bD.nZ(this.ces,bo.name)==-1){return}this.Pp[bo.name]=function(jx){var uq=bq.bgA.bh({parent:dO,title:pJ.getLang(jx.title),clazz:jx.clazz,onclick:function(){pJ.execCommand(jx.cmd,jx.value)}.Z(this)});pJ.addListener("selectionchange",function(type,causeByUi,uiReady){uq.jN(pJ.queryCommandState(jx.cmd)==-1);uq.boK(pJ.queryCommandValue(jx.cmd)==jx.value&&!uiReady)});return uq}(bo);BV++}.Z(this))};Al.cFM=function(){this.Ps={};var pJ=this.eR;var dO=this.bb;var BV=0;bD.bw(this.cFG,function(bo,bf){if(bo.name=="zisp"&&BV>0){this.beu();return}if(bD.nZ(this.Xq,bo.name)==-1){return}this.Ps[bo.name]=function(jx){var uq=jx.constructor.bh({parent:dO,title:pJ.getLang(jx.title),clazz:jx.clazz,editor:pJ});return uq}(bo);BV++}.Z(this))};Al.cFL=function(){this.Pw={};var pJ=this.eR;var dO=this.bb;var BV=0;bD.bw(this.cFF,function(bo,bf){if(bo.name=="zisp"&&BV>0){this.beu();return}if(bD.nZ(this.Xq,bo.name)==-1){return}this.Pw[bo.name]=function(jx){var uq=jx.constructor.bh({parent:dO,data:pJ.getLang(jx.title),editor:pJ,clazz:jx.clazz});return uq}(bo);BV++}.Z(this))};Al.cFN=function(){this.Px={};var pJ=this.eR;var dO=this.bb;bD.bw(this.cFJ,function(bo,bf){if(bo.name=="zisp"&&this.Px.length>0){this.beu();return}if(bD.nZ(this.Xq,bo.name)==-1){return}this.Px[bo.name]=function(jx){var uq=bq.blD.bh({parent:dO,title:pJ.getLang(jx.title),editor:pJ,clazz:jx.clazz});return uq}(bo)}.Z(this))}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,dC=window,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),sM,cFD;var dv='<div class="u-richeditor"><div class="ztbar j-toolbar"></div><div class="zarea j-area"></div></div>';var cv=bm.dA("");var cFC=".view{ font-size:12px; border:0; text-align:left; color:#666; line-height:22px; word-break:break-word; word-wrap:break-word;}.view em{ font-style:italic;}.view p{ margin:0; padding:0;}.view div{ margin:10px 0; padding:0;}.view sup, .view blockquote{ border-left:3px solid #D0E5F2; font-style:normal; padding: 0 0 0 10px; vertical-align:baseline; margin:0; font-size:14px;}.viewimg{ max-height:520px; max-width:520px; vertical-align:middle;}.view code{ min-height:25px; font-family:monospace; white-space:pre-wrap; margin:.5em 0; padding:.4em .6em; border-radius:8px; background:#EFEFEF;}.view table{ border-collapse:collapse; border-spacing:0; border:1px solid #E4E4E4}.view table th, .view table td{ border:1px solid #E4E4E4; padding:5px;}";bq.fG=NEJ.C();sM=bq.fG.bt(bq.sn);cFD=bq.fG.cH;sM.hk=function(){this.hu()};sM.bE=function(Y){this.bG(Y);this.pU=NEJ.X(dC.eduEditor_options||{},Y||{});this.nu=this.pU.height||200;this.cep=this.pU.content;this.bel=this.pU.focus||false;this.Xq=this.pU.showCmds;this.cFA();this.cFz();this.eR.ready(function(dmh){this.bnW(this.nu);if(this.cep)this.hK(this.cep);if(this.bel)this.bkX()}.Z(this))};sM.bJ=function(){if(!!this.bBm){this.bBm=bq.blm.bg(this.bBm)}this.eR.fireEvent("destroy");this.bBn.innerHTML="";for(var cem in this.eR){if(this.eR.hasOwnProperty(cem)){delete this.eR[cem]}}this.eR=undefined;this.bN()};sM.bU=function(){this.ds=cv;this.bW=bm.bX(dv)};sM.bL=function(){this.bO();this.cFr=bm.bc(this.bb,"j-toolbar")[0];this.bBn=bm.bc(this.bb,"j-area")[0]};sM.cFA=function(){var cFq={UEDITOR_HOME_URL:"/",iframeCssUrl:undefined,initialStyle:cFC,initialFrameWidth:"100%",snapscreenHost:"upload.icourse163.org",snapscreenServerUrl:"/common/photo/upload.htm?_upload_mth_=sync_parse",snapscreenPath:"",snapscreenServerPort:location.port};this.cFp=NEJ.X(cFq,this.pU.coreOptions||{});this.eR=new UE.Editor(this.cFp);var cFo=dC.baidu.editor.utils;cFo.domReady(function(){if(this.buK){clearInterval(this.buK)}this.buK=setInterval(function(){if(!!this.bBn.offsetWidth){if(this.buK){clearInterval(this.buK)}this.eR.render(this.bBn)}}.Z(this),10)}.Z(this))};sM.cFz=function(){this.bBm=bq.blm.bh({parent:this.cFr,editor:this.eR,showCmds:this.Xq})};sM.bkX=function(){return this.eR.focus()};sM.ca=function(){return this.eR.getContent()};sM.djT=function(){return this.eR.getContentTxt()};sM.hK=function(cX){this.eR.setContent(cX);return this};sM.bnW=function(iQ){this.eR.setHeight(iQ);return this};sM.fI=function(){this.bb.style.display="";return this};sM.eB=function(){this.bb.style.display="none";return this};sM.ze=function(){var hp=function(bo){if(bo.id!=0)this.bBD.push(bo.id+"@"+bo.src)};return function(){this.bBD=[];var cek=[],cX=this.eR.getContent(),yP=document.createElement("div");yP.innerHTML=cX;var za=bm.bQ(yP),bF=za.getElementsByTagName("img");bD.bw(bF,hp,this);var cFk=this.bBD.length;for(var i=0;i<cFk;i++){cek.push(this.bBD[i])}return cek}}()})();
(function(){var XRegExp;if(XRegExp){throw Error("can't load XRegExp twice in the same frame")}(function(undefined){XRegExp=function(pattern,flags){var output=[],currScope=XRegExp.OUTSIDE_CLASS,pos=0,context,tokenResult,match,chr,regex;if(XRegExp.isRegExp(pattern)){if(flags!==undefined)throw TypeError("can't supply flags when constructing one RegExp from another");return clone(pattern)}if(isInsideConstructor)throw Error("can't call the XRegExp constructor within token definition functions");flags=flags||"";context={hasNamedCapture:false,captureNames:[],hasFlag:function(flag){return flags.indexOf(flag)>-1},setFlag:function(flag){flags+=flag}};while(pos<pattern.length){tokenResult=runTokens(pattern,pos,currScope,context);if(tokenResult){output.push(tokenResult.output);pos+=tokenResult.match[0].length||1}else{if(match=nativ.exec.call(nativeTokens[currScope],pattern.slice(pos))){output.push(match[0]);pos+=match[0].length}else{chr=pattern.charAt(pos);if(chr==="[")currScope=XRegExp.INSIDE_CLASS;else if(chr==="]")currScope=XRegExp.OUTSIDE_CLASS;output.push(chr);pos++}}}regex=RegExp(output.join(""),nativ.replace.call(flags,flagClip,""));regex.QQ={source:pattern,captureNames:context.hasNamedCapture?context.captureNames:null};return regex};XRegExp.version="1.5.1";XRegExp.INSIDE_CLASS=1;XRegExp.OUTSIDE_CLASS=2;var replacementToken=/\$(?:(\d\d?|[$&`'])|{([$\w]+)})/g,flagClip=/[^gimy]+|([\s\S])(?=[\s\S]*\1)/g,quantifier=/^(?:[?*+]|{\d+(?:,\d*)?})\??/,isInsideConstructor=false,tokens=[],nativ={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},compliantExecNpcg=nativ.exec.call(/()??/,"")[1]===undefined,compliantLastIndexIncrement=function(){var x=/^/g;nativ.test.call(x,"");return!x.lastIndex}(),hasNativeY=RegExp.prototype.sticky!==undefined,nativeTokens={};nativeTokens[XRegExp.INSIDE_CLASS]=/^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/;nativeTokens[XRegExp.OUTSIDE_CLASS]=/^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/;XRegExp.addToken=function(regex,handler,scope,trigger){tokens.push({pattern:clone(regex,"g"+(hasNativeY?"y":"")),handler:handler,scope:scope||XRegExp.OUTSIDE_CLASS,trigger:trigger||null})};XRegExp.cache=function(pattern,flags){var key=pattern+"/"+(flags||"");return XRegExp.cache[key]||(XRegExp.cache[key]=XRegExp(pattern,flags))};XRegExp.copyAsGlobal=function(regex){return clone(regex,"g")};XRegExp.escape=function(str){return str.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};XRegExp.execAt=function(str,regex,pos,anchored){var r2=clone(regex,"g"+(anchored&&hasNativeY?"y":"")),match;r2.lastIndex=pos=pos||0;match=r2.exec(str);if(anchored&&match&&match.index!==pos)match=null;if(regex.global)regex.lastIndex=match?r2.lastIndex:0;return match};XRegExp.freezeTokens=function(){XRegExp.addToken=function(){throw Error("can't run addToken after freezeTokens")}};XRegExp.isRegExp=function(o){return Object.prototype.toString.call(o)==="[object RegExp]"};XRegExp.iterate=function(str,regex,callback,context){var r2=clone(regex,"g"),i=-1,match;while(match=r2.exec(str)){if(regex.global)regex.lastIndex=r2.lastIndex;callback.call(context,match,++i,str,regex);if(r2.lastIndex===match.index)r2.lastIndex++}if(regex.global)regex.lastIndex=0};XRegExp.matchChain=function(str,chain){return function recurseChain(values,level){var item=chain[level].regex?chain[level]:{regex:chain[level]},regex=clone(item.regex,"g"),matches=[],i;for(i=0;i<values.length;i++){XRegExp.iterate(values[i],regex,function(match){matches.push(item.backref?match[item.backref]||"":match[0])})}return level===chain.length-1||!matches.length?matches:recurseChain(matches,level+1)}([str],0)};RegExp.prototype.apply=function(context,args){return this.exec(args[0])};RegExp.prototype.call=function(context,str){return this.exec(str)};RegExp.prototype.exec=function(str){var match,name,r2,origLastIndex;if(!this.global)origLastIndex=this.lastIndex;match=nativ.exec.apply(this,arguments);if(match){if(!compliantExecNpcg&&match.length>1&&indexOf(match,"")>-1){r2=RegExp(this.source,nativ.replace.call(getNativeFlags(this),"g",""));nativ.replace.call((str+"").slice(match.index),r2,function(){for(var i=1;i<arguments.length-2;i++){if(arguments[i]===undefined)match[i]=undefined}})}if(this.QQ&&this.QQ.captureNames){for(var i=1;i<match.length;i++){name=this.QQ.captureNames[i-1];if(name)match[name]=match[i]}}if(!compliantLastIndexIncrement&&this.global&&!match[0].length&&this.lastIndex>match.index)this.lastIndex--}if(!this.global)this.lastIndex=origLastIndex;return match};RegExp.prototype.test=function(str){var match,origLastIndex;if(!this.global)origLastIndex=this.lastIndex;match=nativ.exec.call(this,str);if(match&&!compliantLastIndexIncrement&&this.global&&!match[0].length&&this.lastIndex>match.index)this.lastIndex--;if(!this.global)this.lastIndex=origLastIndex;return!!match};String.prototype.match=function(regex){if(!XRegExp.isRegExp(regex))regex=RegExp(regex);if(regex.global){var result=nativ.match.apply(this,arguments);regex.lastIndex=0;return result}return regex.exec(this)};String.prototype.replace=function(search,replacement){var isRegex=XRegExp.isRegExp(search),captureNames,result,str,origLastIndex;if(isRegex){if(search.QQ)captureNames=search.QQ.captureNames;if(!search.global)origLastIndex=search.lastIndex}else{search=search+""}if(Object.prototype.toString.call(replacement)==="[object Function]"){result=nativ.replace.call(this+"",search,function(){if(captureNames){arguments[0]=new String(arguments[0]);for(var i=0;i<captureNames.length;i++){if(captureNames[i])arguments[0][captureNames[i]]=arguments[i+1]}}if(isRegex&&search.global)search.lastIndex=arguments[arguments.length-2]+arguments[0].length;return replacement.apply(null,arguments)})}else{str=this+"";result=nativ.replace.call(str,search,function(){var args=arguments;return nativ.replace.call(replacement+"",replacementToken,function($0,$1,$2){if($1){switch($1){case"$":return"$";case"&":return args[0];case"`":return args[args.length-1].slice(0,args[args.length-2]);case"'":return args[args.length-1].slice(args[args.length-2]+args[0].length);default:var literalNumbers="";$1=+$1;if(!$1)return $0;while($1>args.length-3){literalNumbers=String.prototype.slice.call($1,-1)+literalNumbers;$1=Math.floor($1/10)}return($1?args[$1]||"":"$")+literalNumbers}}else{var n=+$2;if(n<=args.length-3)return args[n];n=captureNames?indexOf(captureNames,$2):-1;return n>-1?args[n+1]:$0}})})}if(isRegex){if(search.global)search.lastIndex=0;else search.lastIndex=origLastIndex}return result};String.prototype.split=function(s,limit){if(!XRegExp.isRegExp(s))return nativ.split.apply(this,arguments);var str=this+"",output=[],lastLastIndex=0,match,lastLength;if(limit===undefined||+limit<0){limit=Infinity}else{limit=Math.floor(+limit);if(!limit)return[]}s=XRegExp.copyAsGlobal(s);while(match=s.exec(str)){if(s.lastIndex>lastLastIndex){output.push(str.slice(lastLastIndex,match.index));if(match.length>1&&match.index<str.length)Array.prototype.push.apply(output,match.slice(1));lastLength=match[0].length;lastLastIndex=s.lastIndex;if(output.length>=limit)break}if(s.lastIndex===match.index)s.lastIndex++}if(lastLastIndex===str.length){if(!nativ.test.call(s,"")||lastLength)output.push("")}else{output.push(str.slice(lastLastIndex))}return output.length>limit?output.slice(0,limit):output};function clone(regex,additionalFlags){if(!XRegExp.isRegExp(regex))throw TypeError("type RegExp expected");var x=regex.QQ;regex=XRegExp(regex.source,getNativeFlags(regex)+(additionalFlags||""));if(x){regex.QQ={source:x.source,captureNames:x.captureNames?x.captureNames.slice(0):null}}return regex}function getNativeFlags(regex){return(regex.global?"g":"")+(regex.ignoreCase?"i":"")+(regex.multiline?"m":"")+(regex.extended?"x":"")+(regex.sticky?"y":"")}function runTokens(pattern,index,scope,context){var i=tokens.length,result,match,t;isInsideConstructor=true;try{while(i--){t=tokens[i];if(scope&t.scope&&(!t.trigger||t.trigger.call(context))){t.pattern.lastIndex=index;match=t.pattern.exec(pattern);if(match&&match.index===index){result={output:t.handler.call(context,match,scope),match:match};break}}}}catch(err){throw err}finally{isInsideConstructor=false}return result}function indexOf(array,item,from){if(Array.prototype.indexOf)return array.indexOf(item,from);for(var i=from||0;i<array.length;i++){if(array[i]===item)return i}return-1}XRegExp.addToken(/\(\?#[^)]*\)/,function(match){return nativ.test.call(quantifier,match.input.slice(match.index+match[0].length))?"":"(?:)"});XRegExp.addToken(/\((?!\?)/,function(){this.captureNames.push(null);return"("});XRegExp.addToken(/\(\?<([$\w]+)>/,function(match){this.captureNames.push(match[1]);this.hasNamedCapture=true;return"("});XRegExp.addToken(/\\k<([\w$]+)>/,function(match){var index=indexOf(this.captureNames,match[1]);return index>-1?"\\"+(index+1)+(isNaN(match.input.charAt(match.index+match[0].length))?"":"(?:)"):match[0]});XRegExp.addToken(/\[\^?]/,function(match){return match[0]==="[]"?"\\b\\B":"[\\s\\S]"});XRegExp.addToken(/^\(\?([imsx]+)\)/,function(match){this.setFlag(match[1]);return""});XRegExp.addToken(/(?:\s+|#.*)+/,function(match){return nativ.test.call(quantifier,match.input.slice(match.index+match[0].length))?"":"(?:)"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("x")});XRegExp.addToken(/\./,function(){return"[\\s\\S]"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("s")})})();if(typeof SyntaxHighlighter=="undefined")var SyntaxHighlighter=function(){if(typeof require!="undefined"&&typeof XRegExp=="undefined"){XRegExp=require("XRegExp").XRegExp}var sh={defaults:{"class-name":"","first-line":1,"pad-line-numbers":false,highlight:false,title:null,"smart-tabs":true,"tab-size":4,gutter:true,toolbar:true,"quick-code":false,collapse:false,"auto-links":false,light:false,unindent:true,"html-script":false},config:{space:"&nbsp;",useScriptTags:true,bloggerMode:false,stripBrs:false,tagName:"code",strings:{expandSource:"expand source",help:"?",alert:"SyntaxHighlighter\n\n",noBrush:"Can't find brush for: ",brushNotHtmlScript:"Brush wasn't configured for html-script option: ",aboutDialog:"@ABOUT@"}},vars:{discoveredBrushes:null,highlighters:{}},brushes:{},regexLib:{multiLineCComments:/\/\*[\s\S]*?\*\//gm,singleLineCComments:/\/\/.*$/gm,singleLinePerlComments:/#.*$/gm,doubleQuotedString:/"([^\\"\n]|\\.)*"/g,singleQuotedString:/'([^\\'\n]|\\.)*'/g,multiLineDoubleQuotedString:new XRegExp('"([^\\\\"]|\\\\.)*"',"gs"),multiLineSingleQuotedString:new XRegExp("'([^\\\\']|\\\\.)*'","gs"),xmlComments:/(&lt;|<)!--[\s\S]*?--(&gt;|>)/gm,url:/\w+:\/\/[\w-.\/?%&=:@;#]*/g,phpScriptTags:{left:/(&lt;|<)\?(?:=|php)?/g,right:/\?(&gt;|>)/g,eof:true},aspScriptTags:{left:/(&lt;|<)%=?/g,right:/%(&gt;|>)/g},scriptScriptTags:{left:/(&lt;|<)\s*script.*?(&gt;|>)/gi,right:/(&lt;|<)\/\s*script\s*(&gt;|>)/gi}},toolbar:{getHtml:function(highlighter){var html='<div class="toolbar">',items=sh.toolbar.items,list=items.list;function defaultGetHtml(highlighter,name){return sh.toolbar.getButtonHtml(highlighter,name,sh.config.strings[name])}for(var i=0;i<list.length;i++)html+=(items[list[i]].getHtml||defaultGetHtml)(highlighter,list[i]);html+="</div>";return html},getButtonHtml:function(highlighter,commandName,label){return'<span><a href="#" class="toolbar_item'+" command_"+commandName+" "+commandName+'">'+label+"</a></span>"},handler:function(e){var target=e.target,className=target.className||"";function getValue(name){var r=new RegExp(name+"_(\\w+)"),match=r.exec(className);return match?match[1]:null}var highlighter=getHighlighterById(findParentElement(target,".syntaxhighlighter").id),commandName=getValue("command");if(highlighter&&commandName)sh.toolbar.items[commandName].execute(highlighter);e.preventDefault()},items:{list:["expandSource","help"],expandSource:{getHtml:function(highlighter){if(highlighter.getParam("collapse")!=true)return"";var title=highlighter.getParam("title");return sh.toolbar.getButtonHtml(highlighter,"expandSource",title?title:sh.config.strings.expandSource)},execute:function(highlighter){var div=getHighlighterDivById(highlighter.id);removeClass(div,"collapsed")}},help:{execute:function(highlighter){var wnd=popup("","_blank",500,250,"scrollbars=0"),doc=wnd.document;doc.write(sh.config.strings.aboutDialog);doc.close();wnd.focus()}}}},findElements:function(globalParams,element){var elements=element?[element]:toArray(document.getElementsByTagName(sh.config.tagName)),conf=sh.config,result=[];if(conf.useScriptTags)elements=elements.concat(getSyntaxHighlighterScriptTags());if(elements.length===0)return result;for(var i=0;i<elements.length;i++){var item={target:elements[i],params:!!globalParams?merge(globalParams,parseParams(elements[i].className)):parseParams(elements[i].className)};if(item.params["brush"]==null)continue;result.push(item)}return result},highlight:function(globalParams,element){var elements=this.findElements(globalParams,element),propertyName="innerHTML",highlighter=null,conf=sh.config;if(elements.length===0)return;for(var i=0;i<elements.length;i++){var element=elements[i],target=element.target,params=element.params,brushName=params.brush,code;if(brushName==null)continue;if(params["html-script"]=="true"||sh.defaults["html-script"]==true){highlighter=new sh.HtmlScript(brushName);brushName="htmlscript"}else{var brush=findBrush(brushName);if(brush)highlighter=new brush;else continue}code=target[propertyName];if(conf.useScriptTags)code=stripCData(code);if((target.title||"")!="")params.title=target.title;params["brush"]=brushName;highlighter.init(params);element=highlighter.getDiv(code);if((target.id||"")!="")element.id=target.id;var tmp=element.firstChild.firstChild;tmp.className=element.firstChild.className;target.parentNode.replaceChild(tmp,target)}},all:function(params){attachEvent(window,"load",function(){sh.highlight(params)})}};function hasClass(target,className){return target.className.indexOf(className)!=-1}function addClass(target,className){if(!hasClass(target,className))target.className+=" "+className}function removeClass(target,className){target.className=target.className.replace(className,"")}function toArray(source){var result=[];for(var i=0;i<source.length;i++)result.push(source[i]);return result}function splitLines(block){function isIE78(){if(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.match(/MSIE/)){return navigator.userAgent.split(";")[1].toLowerCase().indexOf("msie 7.0")=="-1"&&navigator.userAgent.split(";")[1].toLowerCase().indexOf("msie 8.0")=="-1"?false:true}return false}var ie78Bool=block.match("^(&nbsp;)*<span(.*)>([wW]*)");if(isIE78()&&!ie78Bool){return block.split(/\r?\n?\s/)}else{return block.split(/\r?\n/)}}function getHighlighterId(id){var prefix="highlighter_";return id.indexOf(prefix)==0?id:prefix+id}function getHighlighterById(id){return sh.vars.highlighters[getHighlighterId(id)]}function getHighlighterDivById(id){return document.getElementById(getHighlighterId(id))}function storeHighlighter(highlighter){sh.vars.highlighters[getHighlighterId(highlighter.id)]=highlighter}function findElement(target,search,reverse){if(target==null)return null;var nodes=reverse!=true?target.childNodes:[target.parentNode],propertyToFind={"#":"id",".":"className"}[search.substr(0,1)]||"nodeName",expectedValue,found;expectedValue=propertyToFind!="nodeName"?search.substr(1):search.toUpperCase();if((target[propertyToFind]||"").indexOf(expectedValue)!=-1)return target;for(var i=0;nodes&&i<nodes.length&&found==null;i++)found=findElement(nodes[i],search,reverse);return found}function findParentElement(target,className){return findElement(target,className,true)}function indexOf(array,searchElement,fromIndex){fromIndex=Math.max(fromIndex||0,0);for(var i=fromIndex;i<array.length;i++)if(array[i]==searchElement)return i;return-1}function guid(prefix){return(prefix||"")+Math.round(Math.random()*1e6).toString()}function merge(obj1,obj2){var result={},name;for(name in obj1)result[name]=obj1[name];for(name in obj2)result[name]=obj2[name];return result}function toBoolean(value){var result={"true":true,"false":false}[value];return result==null?value:result}function popup(url,name,width,height,options){var x=(screen.width-width)/2,y=(screen.height-height)/2;options+=", left="+x+", top="+y+", width="+width+", height="+height;options=options.replace(/^,/,"");var win=window.open(url,name,options);win.focus();return win}function attachEvent(obj,type,func,scope){function handler(e){e=e||window.event;if(!e.target){e.target=e.srcElement;e.preventDefault=function(){this.returnValue=false}}func.call(scope||window,e)}if(obj.attachEvent){obj.attachEvent("on"+type,handler)}else{obj.addEventListener(type,handler,false)}}function alert(str){window.alert(sh.config.strings.alert+str)}function findBrush(alias,showAlert){var brushes=sh.vars.discoveredBrushes,result=null;if(brushes==null){brushes={};for(var brush in sh.brushes){var info=sh.brushes[brush],aliases=info.aliases;if(aliases==null)continue;info.brushName=brush.toLowerCase();for(var i=0;i<aliases.length;i++)brushes[aliases[i]]=brush}sh.vars.discoveredBrushes=brushes}result=sh.brushes[brushes[alias]];if(result==null&&showAlert)alert(sh.config.strings.noBrush+alias);return result}function eachLine(str,callback){var lines=splitLines(str);for(var i=0;i<lines.length;i++)lines[i]=callback(lines[i],i);return lines.join("\r\n")}function trimFirstAndLastLines(str){return str.replace(/^[ ]*[\n]+|[\n]*[ ]*$/g,"")}function parseParams(str){var match,result={},arrayRegex=new XRegExp("^\\[(?<values>(.*?))\\]$"),regex=new XRegExp("(?<name>[\\w-]+)"+"\\s*:\\s*"+"(?<value>"+"[\\w-%#]+|"+"\\[.*?\\]|"+'".*?"|'+"'.*?'"+")\\s*;?","g");while((match=regex.exec(str))!=null){var value=match.value.replace(/^['"]|['"]$/g,"");if(value!=null&&arrayRegex.test(value)){var m=arrayRegex.exec(value);value=m.values.length>0?m.values.split(/\s*,\s*/):[]}result[match.name]=value}return result}function wrapLinesWithCode(str,css){if(str==null||str.length==0||str=="\n")return str;str=str.replace(/</g,"&lt;");str=str.replace(/ {2,}/g,function(m){var spaces="";for(var i=0;i<m.length-1;i++)spaces+=sh.config.space;return spaces+" "});if(css!=null)str=eachLine(str,function(line){if(line.length==0)return"";var spaces="";line=line.replace(/^(&nbsp;| )+/,function(s){spaces=s;return""});if(line.length==0)return spaces;return spaces+'<span class="'+css+'">'+line+"</span>"});return str}function padNumber(number,length){var result=number.toString();while(result.length<length)result="0"+result;return result}function processTabs(code,tabSize){var tab="";for(var i=0;i<tabSize;i++)tab+=" ";return code.replace(/\t/g,tab)}function processSmartTabs(code,tabSize){var lines=splitLines(code),tab="\t",spaces="";for(var i=0;i<50;i++)spaces+="                    ";function insertSpaces(line,pos,count){return line.substr(0,pos)+spaces.substr(0,count)+line.substr(pos+1,line.length)}code=eachLine(code,function(line){if(line.indexOf(tab)==-1)return line;var pos=0;while((pos=line.indexOf(tab))!=-1){var spaces=tabSize-pos%tabSize;line=insertSpaces(line,pos,spaces)}return line});return code}function fixInputString(str){var br=/<br\s*\/?>|&lt;br\s*\/?&gt;/gi;if(sh.config.bloggerMode==true)str=str.replace(br,"\n");if(sh.config.stripBrs==true)str=str.replace(br,"");return str}function trim(str){return str.replace(/^\s+|\s+$/g,"")}function unindent(str){var lines=splitLines(fixInputString(str)),indents=new Array,regex=/^\s*/,min=1e3;for(var i=0;i<lines.length&&min>0;i++){var line=lines[i];if(trim(line).length==0)continue;var matches=regex.exec(line);if(matches==null)return str;min=Math.min(matches[0].length,min)}if(min>0)for(var i=0;i<lines.length;i++)lines[i]=lines[i].substr(min);return lines.join("\n")}function matchesSortCallback(m1,m2){if(m1.index<m2.index)return-1;else if(m1.index>m2.index)return 1;else{if(m1.length<m2.length)return-1;else if(m1.length>m2.length)return 1}return 0}function getMatches(code,regexInfo){function defaultAdd(match,regexInfo){return match[0]}var index=0,match=null,matches=[],func=regexInfo.func?regexInfo.func:defaultAdd;while((match=regexInfo.regex.exec(code))!=null){var resultMatch=func(match,regexInfo);if(typeof resultMatch=="string")resultMatch=[new sh.Match(resultMatch,match.index,regexInfo.css)];matches=matches.concat(resultMatch)}return matches}function processUrls(code){var gt=/(.*)((&gt;|&lt;).*)/;return code.replace(sh.regexLib.url,function(m){var suffix="",match=null;if(match=gt.exec(m)){m=match[1];suffix=match[2]}return'<a href="'+m+'">'+m+"</a>"+suffix})}function getSyntaxHighlighterScriptTags(){var tags=document.getElementsByTagName("script"),result=[];for(var i=0;i<tags.length;i++)if(tags[i].type=="syntaxhighlighter")result.push(tags[i]);return result}function stripCData(original){var left="<![CDATA[",right="]]>",copy=trim(original),changed=false,leftLength=left.length,rightLength=right.length;if(copy.indexOf(left)==0){copy=copy.substring(leftLength);changed=true}var copyLength=copy.length;if(copy.indexOf(right)!=-1&&copy.indexOf(right)==copyLength-rightLength){copy=copy.substring(0,copyLength-rightLength);changed=true}return changed?copy:original}function quickCodeHandler(e){var target=e.target,highlighterDiv=findParentElement(target,".syntaxhighlighter"),container=findParentElement(target,".container"),textarea=document.createElement("textarea"),highlighter;if(!container||!highlighterDiv||findElement(container,"textarea"))return;highlighter=getHighlighterById(highlighterDiv.id);addClass(highlighterDiv,"source");var lines=container.childNodes,code=[];for(var i=0;i<lines.length;i++)code.push(lines[i].innerText||lines[i].textContent);code=code.join("\r");code=code.replace(/\u00a0/g," ");textarea.appendChild(document.createTextNode(code));container.appendChild(textarea);textarea.focus();textarea.select();attachEvent(textarea,"blur",function(e){textarea.parentNode.removeChild(textarea);removeClass(highlighterDiv,"source")})}sh.Match=function(value,index,css){this.value=value;this.index=index;this.length=value.length;this.css=css;this.brushName=null};sh.Match.prototype.toString=function(){return this.value};sh.HtmlScript=function(scriptBrushName){var brushClass=findBrush(scriptBrushName),scriptBrush,xmlBrush=new sh.brushes.Xml,bracketsRegex=null,ref=this,methodsToExpose="getDiv getHtml init".split(" ");if(brushClass==null)return;scriptBrush=new brushClass;for(var i=0;i<methodsToExpose.length;i++)(function(){var name=methodsToExpose[i];ref[name]=function(){return xmlBrush[name].apply(xmlBrush,arguments)}})();if(scriptBrush.htmlScript==null){alert(sh.config.strings.brushNotHtmlScript+scriptBrushName);return}xmlBrush.regexList.push({regex:scriptBrush.htmlScript.code,func:process});function offsetMatches(matches,offset){for(var j=0;j<matches.length;j++)matches[j].index+=offset}function process(match,info){var code=match.code,matches=[],regexList=scriptBrush.regexList,offset=match.index+match.left.length,htmlScript=scriptBrush.htmlScript,result;for(var i=0;i<regexList.length;i++){result=getMatches(code,regexList[i]);offsetMatches(result,offset);matches=matches.concat(result)}if(htmlScript.left!=null&&match.left!=null){result=getMatches(match.left,htmlScript.left);offsetMatches(result,match.index);matches=matches.concat(result)}if(htmlScript.right!=null&&match.right!=null){result=getMatches(match.right,htmlScript.right);offsetMatches(result,match.index+match[0].lastIndexOf(match.right));matches=matches.concat(result)}for(var j=0;j<matches.length;j++)matches[j].brushName=brushClass.brushName;return matches}};sh.Highlighter=function(){};sh.Highlighter.prototype={getParam:function(name,defaultValue){var result=this.params[name];return toBoolean(result==null?defaultValue:result)},create:function(name){return document.createElement(name)},findMatches:function(regexList,code){var result=[];if(regexList!=null)for(var i=0;i<regexList.length;i++)if(typeof regexList[i]=="object")result=result.concat(getMatches(code,regexList[i]));return this.removeNestedMatches(result.sort(matchesSortCallback))},removeNestedMatches:function(matches){for(var i=0;i<matches.length;i++){if(matches[i]===null)continue;var itemI=matches[i],itemIEndPos=itemI.index+itemI.length;for(var j=i+1;j<matches.length&&matches[i]!==null;j++){var itemJ=matches[j];if(itemJ===null)continue;else if(itemJ.index>itemIEndPos)break;else if(itemJ.index==itemI.index&&itemJ.length>itemI.length)matches[i]=null;else if(itemJ.index>=itemI.index&&itemJ.index<itemIEndPos)matches[j]=null}}return matches},figureOutLineNumbers:function(code){var lines=[],firstLine=parseInt(this.getParam("first-line"));eachLine(code,function(line,index){lines.push(index+firstLine)});return lines},isLineHighlighted:function(lineNumber){var list=this.getParam("highlight",[]);if(typeof list!="object"&&list.push==null)list=[list];return indexOf(list,lineNumber.toString())!=-1},getLineHtml:function(lineIndex,lineNumber,code){var classes=["line","number"+lineNumber,"index"+lineIndex,"alt"+(lineNumber%2==0?1:2).toString()];if(this.isLineHighlighted(lineNumber))classes.push("highlighted");if(lineNumber==0)classes.push("break");return'<li class="'+classes.join(" ")+'">'+code+"</li>"},getLineNumbersHtml:function(code,lineNumbers){var html="",count=splitLines(code).length,firstLine=parseInt(this.getParam("first-line")),pad=this.getParam("pad-line-numbers");if(pad==true)pad=(firstLine+count-1).toString().length;else if(isNaN(pad)==true)pad=0;for(var i=0;i<count;i++){var lineNumber=lineNumbers?lineNumbers[i]:firstLine+i,code=lineNumber==0?sh.config.space:padNumber(lineNumber,pad);html+=this.getLineHtml(i,lineNumber,code)}return html},getCodeLinesHtml:function(html,lineNumbers){html=trim(html);var lines=splitLines(html),padLength=this.getParam("pad-line-numbers"),firstLine=parseInt(this.getParam("first-line")),html="",brushName=this.getParam("brush");for(var i=0;i<lines.length;i++){var line=lines[i],indent=/^(&nbsp;|\s)+/.exec(line),spaces=null,lineNumber=lineNumbers?lineNumbers[i]:firstLine+i;if(indent!=null){spaces=indent[0].toString();line=line.substr(spaces.length);spaces=spaces.replace(" ",sh.config.space)}line=trim(line);if(line.length==0)line=sh.config.space;html+=this.getLineHtml(i,lineNumber,(spaces!=null?'<span class="'+brushName+' spaces">'+spaces+"</span>":"")+line)}return html},getTitleHtml:function(title){return title?"<caption>"+title+"</caption>":""},getMatchesHtml:function(code,matches){var pos=0,result="",brushName=this.getParam("brush","");function getBrushNameCss(match){var result=match?match.brushName||brushName:brushName;return result?result+" ":""}for(var i=0;i<matches.length;i++){var match=matches[i],matchBrushName;if(match===null||match.length===0)continue;matchBrushName=getBrushNameCss(match);result+=wrapLinesWithCode(code.substr(pos,match.index-pos),matchBrushName+"plain")+wrapLinesWithCode(match.value,matchBrushName+match.css);pos=match.index+match.length+(match.offset||0)}result+=wrapLinesWithCode(code.substr(pos),getBrushNameCss()+"plain");return result},getHtml:function(code){var html="",classes=["syntaxhighlighter"],tabSize,matches,lineNumbers;if(this.getParam("light")==true)this.params.toolbar=this.params.gutter=false;className="syntaxhighlighter";if(this.getParam("collapse")==true)classes.push("collapsed");if((gutter=this.getParam("gutter"))==false)classes.push("nogutter");classes.push(this.getParam("class-name"));classes.push(this.getParam("brush"));code=trimFirstAndLastLines(code).replace(/\r/g," ");tabSize=this.getParam("tab-size");code=this.getParam("smart-tabs")==true?processSmartTabs(code,tabSize):processTabs(code,tabSize);if(this.getParam("unindent"))code=unindent(code);if(gutter)lineNumbers=this.figureOutLineNumbers(code);matches=this.findMatches(this.regexList,code);html=this.getMatchesHtml(code,matches);html=this.getCodeLinesHtml(html,lineNumbers);if(this.getParam("auto-links"))html=processUrls(html);if(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.match(/MSIE/))classes.push("ie");html='<div id="'+getHighlighterId(this.id)+'" class="'+classes.join(" ")+'">'+(this.getParam("toolbar")?sh.toolbar.getHtml(this):"")+"<div>"+this.getTitleHtml(this.getParam("title"))+"<ol>"+html+"</ol>"+"</div>"+"</div>";return html},getDiv:function(code){if(code===null)code="";this.code=code;var div=this.create("div");div.innerHTML=this.getHtml(code);if(this.getParam("toolbar"))attachEvent(findElement(div,".toolbar"),"click",sh.toolbar.handler);if(this.getParam("quick-code"))attachEvent(findElement(div,".code"),"dblclick",quickCodeHandler);return div},init:function(params){this.id=guid();storeHighlighter(this);this.params=merge(sh.defaults,params||{});if(this.getParam("light")==true)this.params.toolbar=this.params.gutter=false},getKeywords:function(str){str=str.replace(/^\s+|\s+$/g,"").replace(/\s+/g,"|");return"\\b(?:"+str+")\\b"},forHtmlScript:function(regexGroup){var regex={end:regexGroup.right.source};if(regexGroup.eof)regex.end="(?:(?:"+regex.end+")|$)";this.htmlScript={left:{regex:regexGroup.left,css:"script"},right:{regex:regexGroup.right,css:"script"},code:new XRegExp("(?<left>"+regexGroup.left.source+")"+"(?<code>.*?)"+"(?<right>"+regex.end+")","sgi")}}};return sh}();typeof exports!="undefined"?exports.SyntaxHighlighter=SyntaxHighlighter:null;(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var inits="class interface function package";var keywords="-Infinity ...rest Array as AS3 Boolean break case catch const continue Date decodeURI "+"decodeURIComponent default delete do dynamic each else encodeURI encodeURIComponent escape "+"extends false final finally flash_proxy for get if implements import in include Infinity "+"instanceof int internal is isFinite isNaN isXMLName label namespace NaN native new null "+"Null Number Object object_proxy override parseFloat parseInt private protected public "+"return set static String super switch this throw true try typeof uint undefined unescape "+"use void while with";this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.multiLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/\b([\d]+(\.[\d]+)?|0x[a-f0-9]+)\b/gi,css:"value"},{regex:new RegExp(this.getKeywords(inits),"gm"),css:"color3"},{regex:new RegExp(this.getKeywords(keywords),"gm"),css:"keyword"},{regex:new RegExp("var","gm"),css:"variable"},{regex:new RegExp("trace","gm"),css:"color1"}];this.forHtmlScript(SyntaxHighlighter.regexLib.scriptScriptTags)}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["actionscript3","as3"];SyntaxHighlighter.brushes.AS3=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var keywords="after before beginning continue copy each end every from return get global in local named of set some that the then times to where whose with without";var ordinals="first second third fourth fifth sixth seventh eighth ninth tenth last front back middle";var specials="activate add alias AppleScript ask attachment boolean class constant delete duplicate empty exists false id integer list make message modal modified new no paragraph pi properties quit real record remove rest result reveal reverse run running save string true word yes";this.regexList=[{regex:/(--|#).*$/gm,css:"comments"},{regex:/\(\*(?:[\s\S]*?\(\*[\s\S]*?\*\))*[\s\S]*?\*\)/gm,css:"comments"},{regex:/"[\s\S]*?"/gm,css:"string"},{regex:/(?:,|:|¬|'s\b|\(|\)|\{|\}|«|\b\w*»)/g,css:"color1"},{regex:/(-)?(\d)+(\.(\d)?)?(E\+(\d)+)?/g,css:"color1"},{regex:/(?:&(amp;|gt;|lt;)?|=|� |>|<|≥|>=|≤|<=|\*|\+|-|\/|÷|\^)/g,css:"color2"},{regex:/\b(?:and|as|div|mod|not|or|return(?!\s&)(ing)?|equals|(is(n't| not)? )?equal( to)?|does(n't| not) equal|(is(n't| not)? )?(greater|less) than( or equal( to)?)?|(comes|does(n't| not) come) (after|before)|is(n't| not)?( in)? (back|front) of|is(n't| not)? behind|is(n't| not)?( (in|contained by))?|does(n't| not) contain|contain(s)?|(start|begin|end)(s)? with|((but|end) )?(consider|ignor)ing|prop(erty)?|(a )?ref(erence)?( to)?|repeat (until|while|with)|((end|exit) )?repeat|((else|end) )?if|else|(end )?(script|tell|try)|(on )?error|(put )?into|(of )?(it|me)|its|my|with (timeout( of)?|transaction)|end (timeout|transaction))\b/g,css:"keyword"},{regex:/\b\d+(st|nd|rd|th)\b/g,css:"keyword"},{regex:/\b(?:about|above|against|around|at|below|beneath|beside|between|by|(apart|aside) from|(instead|out) of|into|on(to)?|over|since|thr(ough|u)|under)\b/g,css:"color3"},{regex:/\b(?:adding folder items to|after receiving|choose( ((remote )?application|color|folder|from list|URL))?|clipboard info|set the clipboard to|(the )?clipboard|entire contents|display(ing| (alert|dialog|mode))?|document( (edited|file|nib name))?|file( (name|type))?|(info )?for|giving up after|(name )?extension|quoted form|return(ed)?|second(?! item)(s)?|list (disks|folder)|text item(s| delimiters)?|(Unicode )?text|(disk )?item(s)?|((current|list) )?view|((container|key) )?window|with (data|icon( (caution|note|stop))?|parameter(s)?|prompt|properties|seed|title)|case|diacriticals|hyphens|numeric strings|punctuation|white space|folder creation|application(s( folder)?| (processes|scripts position|support))?|((desktop )?(pictures )?|(documents|downloads|favorites|home|keychain|library|movies|music|public|scripts|sites|system|users|utilities|workflows) )folder|desktop|Folder Action scripts|font(s| panel)?|help|internet plugins|modem scripts|(system )?preferences|printer descriptions|scripting (additions|components)|shared (documents|libraries)|startup (disk|items)|temporary items|trash|on server|in AppleTalk zone|((as|long|short) )?user name|user (ID|locale)|(with )?password|in (bundle( with identifier)?|directory)|(close|open for) access|read|write( permission)?|(g|s)et eof|using( delimiters)?|starting at|default (answer|button|color|country code|entr(y|ies)|identifiers|items|name|location|script editor)|hidden( answer)?|open(ed| (location|untitled))?|error (handling|reporting)|(do( shell)?|load|run|store) script|administrator privileges|altering line endings|get volume settings|(alert|boot|input|mount|output|set) volume|output muted|(fax|random )?number|round(ing)?|up|down|toward zero|to nearest|as taught in school|system (attribute|info)|((AppleScript( Studio)?|system) )?version|(home )?directory|(IPv4|primary Ethernet) address|CPU (type|speed)|physical memory|time (stamp|to GMT)|replacing|ASCII (character|number)|localized string|from table|offset|summarize|beep|delay|say|(empty|multiple) selections allowed|(of|preferred) type|invisibles|showing( package contents)?|editable URL|(File|FTP|News|Media|Web) [Ss]ervers|Telnet hosts|Directory services|Remote applications|waiting until completion|saving( (in|to))?|path (for|to( (((current|frontmost) )?application|resource))?)|POSIX (file|path)|(background|RGB) color|(OK|cancel) button name|cancel button|button(s)?|cubic ((centi)?met(re|er)s|yards|feet|inches)|square ((kilo)?met(re|er)s|miles|yards|feet)|(centi|kilo)?met(re|er)s|miles|yards|feet|inches|lit(re|er)s|gallons|quarts|(kilo)?grams|ounces|pounds|degrees (Celsius|Fahrenheit|Kelvin)|print( (dialog|settings))?|clos(e(able)?|ing)|(de)?miniaturized|miniaturizable|zoom(ed|able)|attribute run|action (method|property|title)|phone|email|((start|end)ing|home) page|((birth|creation|current|custom|modification) )?date|((((phonetic )?(first|last|middle))|computer|host|maiden|related) |nick)?name|aim|icq|jabber|msn|yahoo|address(es)?|save addressbook|should enable action|city|country( code)?|formatte(r|d address)|(palette )?label|state|street|zip|AIM [Hh]andle(s)?|my card|select(ion| all)?|unsaved|(alpha )?value|entr(y|ies)|group|(ICQ|Jabber|MSN) handle|person|people|company|department|icon image|job title|note|organization|suffix|vcard|url|copies|collating|pages (across|down)|request print time|target( printer)?|((GUI Scripting|Script menu) )?enabled|show Computer scripts|(de)?activated|awake from nib|became (key|main)|call method|of (class|object)|center|clicked toolbar item|closed|for document|exposed|(can )?hide|idle|keyboard (down|up)|event( (number|type))?|launch(ed)?|load (image|movie|nib|sound)|owner|log|mouse (down|dragged|entered|exited|moved|up)|move|column|localization|resource|script|register|drag (info|types)|resigned (active|key|main)|resiz(e(d)?|able)|right mouse (down|dragged|up)|scroll wheel|(at )?index|should (close|open( untitled)?|quit( after last window closed)?|zoom)|((proposed|screen) )?bounds|show(n)?|behind|in front of|size (mode|to fit)|update(d| toolbar item)?|was (hidden|miniaturized)|will (become active|close|finish launching|hide|miniaturize|move|open|quit|(resign )?active|((maximum|minimum|proposed) )?size|show|zoom)|bundle|data source|movie|pasteboard|sound|tool(bar| tip)|(color|open|save) panel|coordinate system|frontmost|main( (bundle|menu|window))?|((services|(excluded from )?windows) )?menu|((executable|frameworks|resource|scripts|shared (frameworks|support)) )?path|(selected item )?identifier|data|content(s| view)?|character(s)?|click count|(command|control|option|shift) key down|context|delta (x|y|z)|key( code)?|location|pressure|unmodified characters|types|(first )?responder|playing|(allowed|selectable) identifiers|allows customization|(auto saves )?configuration|visible|image( name)?|menu form representation|tag|user(-| )defaults|associated file name|(auto|needs) display|current field editor|floating|has (resize indicator|shadow)|hides when deactivated|level|minimized (image|title)|opaque|position|release when closed|sheet|title(d)?)\b/g,css:"color3"},{regex:new RegExp(this.getKeywords(specials),"gm"),css:"color3"},{regex:new RegExp(this.getKeywords(keywords),"gm"),css:"keyword"},{regex:new RegExp(this.getKeywords(ordinals),"gm"),css:"keyword"}]}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["applescript"];SyntaxHighlighter.brushes.AppleScript=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var keywords="if fi then elif else for do done until while break continue case esac function return in eq ne ge le";var commands="alias apropos awk basename bash bc bg builtin bzip2 cal cat cd cfdisk chgrp chmod chown chroot"+"cksum clear cmp comm command cp cron crontab csplit cut date dc dd ddrescue declare df "+"diff diff3 dig dir dircolors dirname dirs du echo egrep eject enable env ethtool eval "+"exec exit expand export expr false fdformat fdisk fg fgrep file find fmt fold format "+"free fsck ftp gawk getopts grep groups gzip hash head history hostname id ifconfig "+"import install join kill less let ln local locate logname logout look lpc lpr lprint "+"lprintd lprintq lprm ls lsof make man mkdir mkfifo mkisofs mknod more mount mtools "+"mv netstat nice nl nohup nslookup open op passwd paste pathchk ping popd pr printcap "+"printenv printf ps pushd pwd quota quotacheck quotactl ram rcp read readonly renice "+"remsync rm rmdir rsync screen scp sdiff sed select seq set sftp shift shopt shutdown "+"sleep sort source split ssh strace su sudo sum symlink sync tail tar tee test time "+"times touch top traceroute trap tr true tsort tty type ulimit umask umount unalias "+"uname unexpand uniq units unset unshar useradd usermod users uuencode uudecode v vdir "+"vi watch wc whereis which who whoami Wget xargs yes";this.regexList=[{regex:/^#!.*$/gm,css:"preprocessor bold"},{regex:/\/[\w-\/]+/gm,css:"plain"},{regex:SyntaxHighlighter.regexLib.singleLinePerlComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:new RegExp(this.getKeywords(keywords),"gm"),css:"keyword"},{regex:new RegExp(this.getKeywords(commands),"gm"),css:"functions"}]}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["bash","shell","sh"];SyntaxHighlighter.brushes.Bash=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var funcs="Abs ACos AddSOAPRequestHeader AddSOAPResponseHeader AjaxLink AjaxOnLoad ArrayAppend ArrayAvg ArrayClear ArrayDeleteAt "+"ArrayInsertAt ArrayIsDefined ArrayIsEmpty ArrayLen ArrayMax ArrayMin ArraySet ArraySort ArraySum ArraySwap ArrayToList "+"Asc ASin Atn BinaryDecode BinaryEncode BitAnd BitMaskClear BitMaskRead BitMaskSet BitNot BitOr BitSHLN BitSHRN BitXor "+"Ceiling CharsetDecode CharsetEncode Chr CJustify Compare CompareNoCase Cos CreateDate CreateDateTime CreateObject "+"CreateODBCDate CreateODBCDateTime CreateODBCTime CreateTime CreateTimeSpan CreateUUID DateAdd DateCompare DateConvert "+"DateDiff DateFormat DatePart Day DayOfWeek DayOfWeekAsString DayOfYear DaysInMonth DaysInYear DE DecimalFormat DecrementValue "+"Decrypt DecryptBinary DeleteClientVariable DeserializeJSON DirectoryExists DollarFormat DotNetToCFType Duplicate Encrypt "+"EncryptBinary Evaluate Exp ExpandPath FileClose FileCopy FileDelete FileExists FileIsEOF FileMove FileOpen FileRead "+"FileReadBinary FileReadLine FileSetAccessMode FileSetAttribute FileSetLastModified FileWrite Find FindNoCase FindOneOf "+"FirstDayOfMonth Fix FormatBaseN GenerateSecretKey GetAuthUser GetBaseTagData GetBaseTagList GetBaseTemplatePath "+"GetClientVariablesList GetComponentMetaData GetContextRoot GetCurrentTemplatePath GetDirectoryFromPath GetEncoding "+"GetException GetFileFromPath GetFileInfo GetFunctionList GetGatewayHelper GetHttpRequestData GetHttpTimeString "+"GetK2ServerDocCount GetK2ServerDocCountLimit GetLocale GetLocaleDisplayName GetLocalHostIP GetMetaData GetMetricData "+"GetPageContext GetPrinterInfo GetProfileSections GetProfileString GetReadableImageFormats GetSOAPRequest GetSOAPRequestHeader "+"GetSOAPResponse GetSOAPResponseHeader GetTempDirectory GetTempFile GetTemplatePath GetTickCount GetTimeZoneInfo GetToken "+"GetUserRoles GetWriteableImageFormats Hash Hour HTMLCodeFormat HTMLEditFormat IIf ImageAddBorder ImageBlur ImageClearRect "+"ImageCopy ImageCrop ImageDrawArc ImageDrawBeveledRect ImageDrawCubicCurve ImageDrawLine ImageDrawLines ImageDrawOval "+"ImageDrawPoint ImageDrawQuadraticCurve ImageDrawRect ImageDrawRoundRect ImageDrawText ImageFlip ImageGetBlob ImageGetBufferedImage "+"ImageGetEXIFTag ImageGetHeight ImageGetIPTCTag ImageGetWidth ImageGrayscale ImageInfo ImageNegative ImageNew ImageOverlay ImagePaste "+"ImageRead ImageReadBase64 ImageResize ImageRotate ImageRotateDrawingAxis ImageScaleToFit ImageSetAntialiasing ImageSetBackgroundColor "+"ImageSetDrawingColor ImageSetDrawingStroke ImageSetDrawingTransparency ImageSharpen ImageShear ImageShearDrawingAxis ImageTranslate "+"ImageTranslateDrawingAxis ImageWrite ImageWriteBase64 ImageXORDrawingMode IncrementValue InputBaseN Insert Int IsArray IsBinary "+"IsBoolean IsCustomFunction IsDate IsDDX IsDebugMode IsDefined IsImage IsImageFile IsInstanceOf IsJSON IsLeapYear IsLocalHost "+"IsNumeric IsNumericDate IsObject IsPDFFile IsPDFObject IsQuery IsSimpleValue IsSOAPRequest IsStruct IsUserInAnyRole IsUserInRole "+"IsUserLoggedIn IsValid IsWDDX IsXML IsXmlAttribute IsXmlDoc IsXmlElem IsXmlNode IsXmlRoot JavaCast JSStringFormat LCase Left Len "+"ListAppend ListChangeDelims ListContains ListContainsNoCase ListDeleteAt ListFind ListFindNoCase ListFirst ListGetAt ListInsertAt "+"ListLast ListLen ListPrepend ListQualify ListRest ListSetAt ListSort ListToArray ListValueCount ListValueCountNoCase LJustify Log "+"Log10 LSCurrencyFormat LSDateFormat LSEuroCurrencyFormat LSIsCurrency LSIsDate LSIsNumeric LSNumberFormat LSParseCurrency LSParseDateTime "+"LSParseEuroCurrency LSParseNumber LSTimeFormat LTrim Max Mid Min Minute Month MonthAsString Now NumberFormat ParagraphFormat ParseDateTime "+"Pi PrecisionEvaluate PreserveSingleQuotes Quarter QueryAddColumn QueryAddRow QueryConvertForGrid QueryNew QuerySetCell QuotedValueList Rand "+"Randomize RandRange REFind REFindNoCase ReleaseComObject REMatch REMatchNoCase RemoveChars RepeatString Replace ReplaceList ReplaceNoCase "+"REReplace REReplaceNoCase Reverse Right RJustify Round RTrim Second SendGatewayMessage SerializeJSON SetEncoding SetLocale SetProfileString "+"SetVariable Sgn Sin Sleep SpanExcluding SpanIncluding Sqr StripCR StructAppend StructClear StructCopy StructCount StructDelete StructFind "+"StructFindKey StructFindValue StructGet StructInsert StructIsEmpty StructKeyArray StructKeyExists StructKeyList StructKeyList StructNew "+"StructSort StructUpdate Tan TimeFormat ToBase64 ToBinary ToScript ToString Trim UCase URLDecode URLEncodedFormat URLSessionFormat Val "+"ValueList VerifyClient Week Wrap Wrap WriteOutput XmlChildPos XmlElemNew XmlFormat XmlGetNodeType XmlNew XmlParse XmlSearch XmlTransform "+"XmlValidate Year YesNoFormat";var keywords="cfabort cfajaximport cfajaxproxy cfapplet cfapplication cfargument cfassociate cfbreak cfcache cfcalendar "+"cfcase cfcatch cfchart cfchartdata cfchartseries cfcol cfcollection cfcomponent cfcontent cfcookie cfdbinfo "+"cfdefaultcase cfdirectory cfdiv cfdocument cfdocumentitem cfdocumentsection cfdump cfelse cfelseif cferror "+"cfexchangecalendar cfexchangeconnection cfexchangecontact cfexchangefilter cfexchangemail cfexchangetask "+"cfexecute cfexit cffeed cffile cfflush cfform cfformgroup cfformitem cfftp cffunction cfgrid cfgridcolumn "+"cfgridrow cfgridupdate cfheader cfhtmlhead cfhttp cfhttpparam cfif cfimage cfimport cfinclude cfindex "+"cfinput cfinsert cfinterface cfinvoke cfinvokeargument cflayout cflayoutarea cfldap cflocation cflock cflog "+"cflogin cfloginuser cflogout cfloop cfmail cfmailparam cfmailpart cfmenu cfmenuitem cfmodule cfNTauthenticate "+"cfobject cfobjectcache cfoutput cfparam cfpdf cfpdfform cfpdfformparam cfpdfparam cfpdfsubform cfpod cfpop "+"cfpresentation cfpresentationslide cfpresenter cfprint cfprocessingdirective cfprocparam cfprocresult "+"cfproperty cfquery cfqueryparam cfregistry cfreport cfreportparam cfrethrow cfreturn cfsavecontent cfschedule "+"cfscript cfsearch cfselect cfset cfsetting cfsilent cfslider cfsprydataset cfstoredproc cfswitch cftable "+"cftextarea cfthread cfthrow cftimer cftooltip cftrace cftransaction cftree cftreeitem cftry cfupdate cfwddx "+"cfwindow cfxml cfzip cfzipparam";var operators="all and any between cross in join like not null or outer some";this.regexList=[{regex:new RegExp("--(.*)$","gm"),css:"comments"},{regex:SyntaxHighlighter.regexLib.xmlComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:new RegExp(this.getKeywords(funcs),"gmi"),css:"functions"},{regex:new RegExp(this.getKeywords(operators),"gmi"),css:"color1"},{regex:new RegExp(this.getKeywords(keywords),"gmi"),css:"keyword"}]}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["coldfusion","cf"];SyntaxHighlighter.brushes.ColdFusion=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var datatypes="ATOM BOOL BOOLEAN BYTE CHAR COLORREF DWORD DWORDLONG DWORD_PTR "+"DWORD32 DWORD64 FLOAT HACCEL HALF_PTR HANDLE HBITMAP HBRUSH "+"HCOLORSPACE HCONV HCONVLIST HCURSOR HDC HDDEDATA HDESK HDROP HDWP "+"HENHMETAFILE HFILE HFONT HGDIOBJ HGLOBAL HHOOK HICON HINSTANCE HKEY "+"HKL HLOCAL HMENU HMETAFILE HMODULE HMONITOR HPALETTE HPEN HRESULT "+"HRGN HRSRC HSZ HWINSTA HWND INT INT_PTR INT32 INT64 LANGID LCID LCTYPE "+"LGRPID LONG LONGLONG LONG_PTR LONG32 LONG64 LPARAM LPBOOL LPBYTE LPCOLORREF "+"LPCSTR LPCTSTR LPCVOID LPCWSTR LPDWORD LPHANDLE LPINT LPLONG LPSTR LPTSTR "+"LPVOID LPWORD LPWSTR LRESULT PBOOL PBOOLEAN PBYTE PCHAR PCSTR PCTSTR PCWSTR "+"PDWORDLONG PDWORD_PTR PDWORD32 PDWORD64 PFLOAT PHALF_PTR PHANDLE PHKEY PINT "+"PINT_PTR PINT32 PINT64 PLCID PLONG PLONGLONG PLONG_PTR PLONG32 PLONG64 POINTER_32 "+"POINTER_64 PSHORT PSIZE_T PSSIZE_T PSTR PTBYTE PTCHAR PTSTR PUCHAR PUHALF_PTR "+"PUINT PUINT_PTR PUINT32 PUINT64 PULONG PULONGLONG PULONG_PTR PULONG32 PULONG64 "+"PUSHORT PVOID PWCHAR PWORD PWSTR SC_HANDLE SC_LOCK SERVICE_STATUS_HANDLE SHORT "+"SIZE_T SSIZE_T TBYTE TCHAR UCHAR UHALF_PTR UINT UINT_PTR UINT32 UINT64 ULONG "+"ULONGLONG ULONG_PTR ULONG32 ULONG64 USHORT USN VOID WCHAR WORD WPARAM WPARAM WPARAM "+"char bool short int __int32 __int64 __int8 __int16 long float double __wchar_t "+"clock_t _complex _dev_t _diskfree_t div_t ldiv_t _exception _EXCEPTION_POINTERS "+"FILE _finddata_t _finddatai64_t _wfinddata_t _wfinddatai64_t __finddata64_t "+"__wfinddata64_t _FPIEEE_RECORD fpos_t _HEAPINFO _HFILE lconv intptr_t "+"jmp_buf mbstate_t _off_t _onexit_t _PNH ptrdiff_t _purecall_handler "+"sig_atomic_t size_t _stat __stat64 _stati64 terminate_function "+"time_t __time64_t _timeb __timeb64 tm uintptr_t _utimbuf "+"va_list wchar_t wctrans_t wctype_t wint_t signed";var keywords="auto break case catch class const decltype __finally __exception __try "+"const_cast continue private public protected __declspec "+"default delete deprecated dllexport dllimport do dynamic_cast "+"else enum explicit extern if for friend goto inline "+"mutable naked namespace new noinline noreturn nothrow "+"register reinterpret_cast return selectany "+"sizeof static static_cast struct switch template this "+"thread throw true false try typedef typeid typename union "+"using uuid virtual void volatile whcar_t while";var functions="assert isalnum isalpha iscntrl isdigit isgraph islower isprint"+"ispunct isspace isupper isxdigit tolower toupper errno localeconv "+"setlocale acos asin atan atan2 ceil cos cosh exp fabs floor fmod "+"frexp ldexp log log10 modf pow sin sinh sqrt tan tanh jmp_buf "+"longjmp setjmp raise signal sig_atomic_t va_arg va_end va_start "+"clearerr fclose feof ferror fflush fgetc fgetpos fgets fopen "+"fprintf fputc fputs fread freopen fscanf fseek fsetpos ftell "+"fwrite getc getchar gets perror printf putc putchar puts remove "+"rename rewind scanf setbuf setvbuf sprintf sscanf tmpfile tmpnam "+"ungetc vfprintf vprintf vsprintf abort abs atexit atof atoi atol "+"bsearch calloc div exit free getenv labs ldiv malloc mblen mbstowcs "+"mbtowc qsort rand realloc srand strtod strtol strtoul system "+"wcstombs wctomb memchr memcmp memcpy memmove memset strcat strchr "+"strcmp strcoll strcpy strcspn strerror strlen strncat strncmp "+"strncpy strpbrk strrchr strspn strstr strtok strxfrm asctime "+"clock ctime difftime gmtime localtime mktime strftime time";this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.multiLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/^ *#.*/gm,css:"preprocessor"},{regex:new RegExp(this.getKeywords(datatypes),"gm"),css:"color1 bold"},{regex:new RegExp(this.getKeywords(functions),"gm"),css:"functions bold"},{regex:new RegExp(this.getKeywords(keywords),"gm"),css:"keyword bold"}]}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["cpp","c"];SyntaxHighlighter.brushes.Cpp=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var keywords="abstract as base bool break byte case catch char checked class const "+"continue decimal default delegate do double else enum event explicit volatile "+"extern false finally fixed float for foreach get goto if implicit in int "+"interface internal is lock long namespace new null object operator out "+"override params private protected public readonly ref return sbyte sealed set "+"short sizeof stackalloc static string struct switch this throw true try "+"typeof uint ulong unchecked unsafe ushort using virtual void while var "+"from group by into select let where orderby join on equals ascending descending";function fixComments(match,regexInfo){var css=match[0].indexOf("///")==0?"color1":"comments";return[new SyntaxHighlighter.Match(match[0],match.index,css)]}this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLineCComments,func:fixComments},{regex:SyntaxHighlighter.regexLib.multiLineCComments,css:"comments"},{regex:/@"(?:[^"]|"")*"/g,css:"string"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/^\s*#.*/gm,css:"preprocessor"},{regex:new RegExp(this.getKeywords(keywords),"gm"),css:"keyword"},{regex:/\bpartial(?=\s+(?:class|interface|struct)\b)/g,css:"keyword"},{regex:/\byield(?=\s+(?:return|break)\b)/g,css:"keyword"}];this.forHtmlScript(SyntaxHighlighter.regexLib.aspScriptTags)}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["c#","c-sharp","csharp"];SyntaxHighlighter.brushes.CSharp=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){function getKeywordsCSS(str){return"\\b([a-z_]|)"+str.replace(/ /g,"(?=:)\\b|\\b([a-z_\\*]|\\*|)")+"(?=:)\\b"}function getValuesCSS(str){return"\\b"+str.replace(/ /g,"(?!-)(?!:)\\b|\\b()")+":\\b"}var keywords="ascent azimuth background-attachment background-color background-image background-position "+"background-repeat background baseline bbox border-collapse border-color border-spacing border-style border-top "+"border-right border-bottom border-left border-top-color border-right-color border-bottom-color border-left-color "+"border-top-style border-right-style border-bottom-style border-left-style border-top-width border-right-width "+"border-bottom-width border-left-width border-width border bottom cap-height caption-side centerline clear clip color "+"content counter-increment counter-reset cue-after cue-before cue cursor definition-src descent direction display "+"elevation empty-cells float font-size-adjust font-family font-size font-stretch font-style font-variant font-weight font "+"height left letter-spacing line-height list-style-image list-style-position list-style-type list-style margin-top "+"margin-right margin-bottom margin-left margin marker-offset marks mathline max-height max-width min-height min-width orphans "+"outline-color outline-style outline-width outline overflow padding-top padding-right padding-bottom padding-left padding page "+"page-break-after page-break-before page-break-inside pause pause-after pause-before pitch pitch-range play-during position "+"quotes right richness size slope src speak-header speak-numeral speak-punctuation speak speech-rate stemh stemv stress "+"table-layout text-align top text-decoration text-indent text-shadow text-transform unicode-bidi unicode-range units-per-em "+"vertical-align visibility voice-family volume white-space widows width widths word-spacing x-height z-index";var values="above absolute all always aqua armenian attr aural auto avoid baseline behind below bidi-override black blink block blue bold bolder "+"both bottom braille capitalize caption center center-left center-right circle close-quote code collapse compact condensed "+"continuous counter counters crop cross crosshair cursive dashed decimal decimal-leading-zero default digits disc dotted double "+"embed embossed e-resize expanded extra-condensed extra-expanded fantasy far-left far-right fast faster fixed format fuchsia "+"gray green groove handheld hebrew help hidden hide high higher icon inline-table inline inset inside invert italic "+"justify landscape large larger left-side left leftwards level lighter lime line-through list-item local loud lower-alpha "+"lowercase lower-greek lower-latin lower-roman lower low ltr marker maroon medium message-box middle mix move narrower "+"navy ne-resize no-close-quote none no-open-quote no-repeat normal nowrap n-resize nw-resize oblique olive once open-quote outset "+"outside overline pointer portrait pre print projection purple red relative repeat repeat-x repeat-y rgb ridge right right-side "+"rightwards rtl run-in screen scroll semi-condensed semi-expanded separate se-resize show silent silver slower slow "+"small small-caps small-caption smaller soft solid speech spell-out square s-resize static status-bar sub super sw-resize "+"table-caption table-cell table-column table-column-group table-footer-group table-header-group table-row table-row-group teal "+"text-bottom text-top thick thin top transparent tty tv ultra-condensed ultra-expanded underline upper-alpha uppercase upper-latin "+"upper-roman url visible wait white wider w-resize x-fast x-high x-large x-loud x-low x-slow x-small x-soft xx-large xx-small yellow";var fonts="[mM]onospace [tT]ahoma [vV]erdana [aA]rial [hH]elvetica [sS]ans-serif [sS]erif [cC]ourier mono sans serif";this.regexList=[{regex:SyntaxHighlighter.regexLib.multiLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/\#[a-fA-F0-9]{3,6}/g,css:"value"},{regex:/(-?\d+)(\.\d+)?(px|em|pt|\:|\%|)/g,css:"value"},{regex:/!important/g,css:"color3"},{regex:new RegExp(getKeywordsCSS(keywords),"gm"),css:"keyword"},{regex:new RegExp(getValuesCSS(values),"g"),css:"value"},{regex:new RegExp(this.getKeywords(fonts),"g"),css:"color1"}];this.forHtmlScript({left:/(&lt;|<)\s*style.*?(&gt;|>)/gi,right:/(&lt;|<)\/\s*style\s*(&gt;|>)/gi})}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["css"];SyntaxHighlighter.brushes.CSS=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var keywords="abs addr and ansichar ansistring array as asm begin boolean byte cardinal "+"case char class comp const constructor currency destructor div do double "+"downto else end except exports extended false file finalization finally "+"for function goto if implementation in inherited int64 initialization "+"integer interface is label library longint longword mod nil not object "+"of on or packed pansichar pansistring pchar pcurrency pdatetime pextended "+"pint64 pointer private procedure program property pshortstring pstring "+"pvariant pwidechar pwidestring protected public published raise real real48 "+"record repeat set shl shortint shortstring shr single smallint string then "+"threadvar to true try type unit until uses val var varirnt while widechar "+"widestring with word write writeln xor";this.regexList=[{regex:/\(\*[\s\S]*?\*\)/gm,css:"comments"},{regex:/{(?!\$)[\s\S]*?}/gm,css:"comments"},{regex:SyntaxHighlighter.regexLib.singleLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/\{\$[a-zA-Z]+ .+\}/g,css:"color1"},{regex:/\b[\d\.]+\b/g,css:"value"},{regex:/\$[a-zA-Z0-9]+\b/g,css:"value"},{regex:new RegExp(this.getKeywords(keywords),"gmi"),css:"keyword"}]}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["delphi","pascal","pas"];SyntaxHighlighter.brushes.Delphi=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){this.regexList=[{regex:/^\+\+\+ .*$/gm,css:"color2"},{regex:/^\-\-\- .*$/gm,css:"color2"},{regex:/^\s.*$/gm,css:"color1"},{regex:/^@@.*@@.*$/gm,css:"variable"},{regex:/^\+.*$/gm,css:"string"},{regex:/^\-.*$/gm,css:"color3"}]}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["diff","patch"];SyntaxHighlighter.brushes.Diff=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var keywords="after and andalso band begin bnot bor bsl bsr bxor "+"case catch cond div end fun if let not of or orelse "+"query receive rem try when xor"+" module export import define";this.regexList=[{regex:new RegExp("[A-Z][A-Za-z0-9_]+","g"),css:"constants"},{regex:new RegExp("\\%.+","gm"),css:"comments"},{regex:new RegExp("\\?[A-Za-z0-9_]+","g"),css:"preprocessor"},{regex:new RegExp("[a-z0-9_]+:[a-z0-9_]+","g"),css:"functions"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:new RegExp(this.getKeywords(keywords),"gm"),css:"keyword"}]}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["erl","erlang"];SyntaxHighlighter.brushes.Erland=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var keywords="as assert break case catch class continue def default do else extends finally "+"if in implements import instanceof interface new package property return switch "+"throw throws try while public protected private static";var types="void boolean byte char short int long float double";var constants="null";var methods="allProperties count get size "+"collect each eachProperty eachPropertyName eachWithIndex find findAll "+"findIndexOf grep inject max min reverseEach sort "+"asImmutable asSynchronized flatten intersect join pop reverse subMap toList "+"padRight padLeft contains eachMatch toCharacter toLong toUrl tokenize "+"eachFile eachFileRecurse eachB yte eachLine readBytes readLine getText "+"splitEachLine withReader append encodeBase64 decodeBase64 filterLine "+"transformChar transformLine withOutputStream withPrintWriter withStream "+"withStreams withWriter withWriterAppend write writeLine "+"dump inspect invokeMethod print println step times upto use waitForOrKill "+"getText";this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.multiLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/""".*"""/g,css:"string"},{regex:new RegExp("\\b([\\d]+(\\.[\\d]+)?|0x[a-f0-9]+)\\b","gi"),css:"value"},{regex:new RegExp(this.getKeywords(keywords),"gm"),css:"keyword"},{regex:new RegExp(this.getKeywords(types),"gm"),css:"color1"},{regex:new RegExp(this.getKeywords(constants),"gm"),css:"constants"},{regex:new RegExp(this.getKeywords(methods),"gm"),css:"functions"}];this.forHtmlScript(SyntaxHighlighter.regexLib.aspScriptTags)}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["groovy"];SyntaxHighlighter.brushes.Groovy=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var keywords="abstract assert boolean break byte case catch char class const "+"continue default do double else enum extends "+"false final finally float for goto if implements import "+"instanceof int interface long native new null "+"package private protected public return "+"short static strictfp super switch synchronized this throw throws true "+"transient try void volatile while";this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLineCComments,css:"comments"},{regex:/\/\*([^\*][\s\S]*)?\*\//gm,css:"comments"},{regex:/\/\*(?!\*\/)\*[\s\S]*?\*\//gm,css:"preprocessor"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/\b([\d]+(\.[\d]+)?|0x[a-f0-9]+)\b/gi,css:"value"},{regex:/(?!\@interface\b)\@[\$\w]+\b/g,css:"color1"},{regex:/\@interface\b/g,css:"color2"},{regex:new RegExp(this.getKeywords(keywords),"gm"),css:"keyword"}];this.forHtmlScript({left:/(&lt;|<)%[@!=]?/g,right:/%(&gt;|>)/g})}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["java"];SyntaxHighlighter.brushes.Java=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var datatypes="Boolean Byte Character Double Duration "+"Float Integer Long Number Short String Void";var keywords="abstract after and as assert at before bind bound break catch class "+"continue def delete else exclusive extends false finally first for from "+"function if import in indexof init insert instanceof into inverse last "+"lazy mixin mod nativearray new not null on or override package postinit "+"protected public public-init public-read replace return reverse sizeof "+"step super then this throw true try tween typeof var where while with "+"attribute let private readonly static trigger";this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.multiLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:/(-?\.?)(\b(\d*\.?\d+|\d+\.?\d*)(e[+-]?\d+)?|0x[a-f\d]+)\b\.?/gi,css:"color2"},{regex:new RegExp(this.getKeywords(datatypes),"gm"),css:"variable"},{regex:new RegExp(this.getKeywords(keywords),"gm"),css:"keyword"}];this.forHtmlScript(SyntaxHighlighter.regexLib.aspScriptTags)}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["jfx","javafx"];SyntaxHighlighter.brushes.JavaFX=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var keywords="break case catch continue "+"default delete do else false  "+"for function if in instanceof "+"new null return super switch "+"this throw true try typeof var while with";var r=SyntaxHighlighter.regexLib;this.regexList=[{regex:r.multiLineDoubleQuotedString,css:"string"},{regex:r.multiLineSingleQuotedString,css:"string"},{regex:r.singleLineCComments,css:"comments"},{regex:r.multiLineCComments,css:"comments"},{regex:/\s*#.*/gm,css:"preprocessor"},{regex:new RegExp(this.getKeywords(keywords),"gm"),css:"keyword"}];this.forHtmlScript(r.scriptScriptTags)}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["js","jscript","javascript"];SyntaxHighlighter.brushes.JScript=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var funcs="abs accept alarm atan2 bind binmode chdir chmod chomp chop chown chr "+"chroot close closedir connect cos crypt defined delete each endgrent "+"endhostent endnetent endprotoent endpwent endservent eof exec exists "+"exp fcntl fileno flock fork format formline getc getgrent getgrgid "+"getgrnam gethostbyaddr gethostbyname gethostent getlogin getnetbyaddr "+"getnetbyname getnetent getpeername getpgrp getppid getpriority "+"getprotobyname getprotobynumber getprotoent getpwent getpwnam getpwuid "+"getservbyname getservbyport getservent getsockname getsockopt glob "+"gmtime grep hex index int ioctl join keys kill lc lcfirst length link "+"listen localtime lock log lstat map mkdir msgctl msgget msgrcv msgsnd "+"oct open opendir ord pack pipe pop pos print printf prototype push "+"quotemeta rand read readdir readline readlink readpipe recv rename "+"reset reverse rewinddir rindex rmdir scalar seek seekdir select semctl "+"semget semop send setgrent sethostent setnetent setpgrp setpriority "+"setprotoent setpwent setservent setsockopt shift shmctl shmget shmread "+"shmwrite shutdown sin sleep socket socketpair sort splice split sprintf "+"sqrt srand stat study substr symlink syscall sysopen sysread sysseek "+"system syswrite tell telldir time times tr truncate uc ucfirst umask "+"undef unlink unpack unshift utime values vec wait waitpid warn write "+"say";var keywords="bless caller continue dbmclose dbmopen die do dump else elsif eval exit "+"for foreach goto if import last local my next no our package redo ref "+"require return sub tie tied unless untie until use wantarray while "+"given when default "+"try catch finally "+"has extends with before after around override augment";this.regexList=[{regex:/(<<|&lt;&lt;)((\w+)|(['"])(.+?)\4)[\s\S]+?\n\3\5\n/g,css:"string"},{regex:/#.*$/gm,css:"comments"},{regex:/^#!.*\n/g,css:"preprocessor"},{regex:/-?\w+(?=\s*=(>|&gt;))/g,css:"string"},{regex:/\bq[qwxr]?\([\s\S]*?\)/g,css:"string"},{regex:/\bq[qwxr]?\{[\s\S]*?\}/g,css:"string"},{regex:/\bq[qwxr]?\[[\s\S]*?\]/g,css:"string"},{regex:/\bq[qwxr]?(<|&lt;)[\s\S]*?(>|&gt;)/g,css:"string"},{regex:/\bq[qwxr]?([^\w({<[])[\s\S]*?\1/g,css:"string"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/(?:&amp;|[$@%*]|\$#)[a-zA-Z_](\w+|::)*/g,css:"variable"},{regex:/\b__(?:END|DATA)__\b[\s\S]*$/g,css:"comments"},{regex:/(^|\n)=\w[\s\S]*?(\n=cut\s*\n|$)/g,css:"comments"},{regex:new RegExp(this.getKeywords(funcs),"gm"),css:"functions"},{regex:new RegExp(this.getKeywords(keywords),"gm"),css:"keyword"}];this.forHtmlScript(SyntaxHighlighter.regexLib.phpScriptTags)}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["perl","Perl","pl"];SyntaxHighlighter.brushes.Perl=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var funcs="abs acos acosh addcslashes addslashes "+"array_change_key_case array_chunk array_combine array_count_values array_diff "+"array_diff_assoc array_diff_key array_diff_uassoc array_diff_ukey array_fill "+"array_filter array_flip array_intersect array_intersect_assoc array_intersect_key "+"array_intersect_uassoc array_intersect_ukey array_key_exists array_keys array_map "+"array_merge array_merge_recursive array_multisort array_pad array_pop array_product "+"array_push array_rand array_reduce array_reverse array_search array_shift "+"array_slice array_splice array_sum array_udiff array_udiff_assoc "+"array_udiff_uassoc array_uintersect array_uintersect_assoc "+"array_uintersect_uassoc array_unique array_unshift array_values array_walk "+"array_walk_recursive atan atan2 atanh base64_decode base64_encode base_convert "+"basename bcadd bccomp bcdiv bcmod bcmul bindec bindtextdomain bzclose bzcompress "+"bzdecompress bzerrno bzerror bzerrstr bzflush bzopen bzread bzwrite ceil chdir "+"checkdate checkdnsrr chgrp chmod chop chown chr chroot chunk_split class_exists "+"closedir closelog copy cos cosh count count_chars date decbin dechex decoct "+"deg2rad delete ebcdic2ascii echo empty end ereg ereg_replace eregi eregi_replace error_log "+"error_reporting escapeshellarg escapeshellcmd eval exec exit exp explode extension_loaded "+"feof fflush fgetc fgetcsv fgets fgetss file_exists file_get_contents file_put_contents "+"fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype "+"floatval flock floor flush fmod fnmatch fopen fpassthru fprintf fputcsv fputs fread fscanf "+"fseek fsockopen fstat ftell ftok getallheaders getcwd getdate getenv gethostbyaddr gethostbyname "+"gethostbynamel getimagesize getlastmod getmxrr getmygid getmyinode getmypid getmyuid getopt "+"getprotobyname getprotobynumber getrandmax getrusage getservbyname getservbyport gettext "+"gettimeofday gettype glob gmdate gmmktime ini_alter ini_get ini_get_all ini_restore ini_set "+"interface_exists intval ip2long is_a is_array is_bool is_callable is_dir is_double "+"is_executable is_file is_finite is_float is_infinite is_int is_integer is_link is_long "+"is_nan is_null is_numeric is_object is_readable is_real is_resource is_scalar is_soap_fault "+"is_string is_subclass_of is_uploaded_file is_writable is_writeable mkdir mktime nl2br "+"parse_ini_file parse_str parse_url passthru pathinfo print readlink realpath rewind rewinddir rmdir "+"round str_ireplace str_pad str_repeat str_replace str_rot13 str_shuffle str_split "+"str_word_count strcasecmp strchr strcmp strcoll strcspn strftime strip_tags stripcslashes "+"stripos stripslashes stristr strlen strnatcasecmp strnatcmp strncasecmp strncmp strpbrk "+"strpos strptime strrchr strrev strripos strrpos strspn strstr strtok strtolower strtotime "+"strtoupper strtr strval substr substr_compare";var keywords="abstract and array as break case catch cfunction class clone const continue declare default die do "+"else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach "+"function global goto if implements include include_once interface instanceof insteadof namespace new "+"old_function or private protected public return require require_once static switch "+"trait throw try use var while xor ";var constants="__FILE__ __LINE__ __METHOD__ __FUNCTION__ __CLASS__";this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.multiLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/\$\w+/g,css:"variable"},{regex:new RegExp(this.getKeywords(funcs),"gmi"),css:"functions"},{regex:new RegExp(this.getKeywords(constants),"gmi"),css:"constants"},{regex:new RegExp(this.getKeywords(keywords),"gm"),css:"keyword"}];this.forHtmlScript(SyntaxHighlighter.regexLib.phpScriptTags)}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["php"];SyntaxHighlighter.brushes.Php=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["text","plain"];SyntaxHighlighter.brushes.Plain=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var keywords="while validateset validaterange validatepattern validatelength validatecount "+"until trap switch return ref process param parameter in if global: "+"function foreach for finally filter end elseif else dynamicparam do default "+"continue cmdletbinding break begin alias \\? % #script #private #local #global "+"mandatory parametersetname position valuefrompipeline "+"valuefrompipelinebypropertyname valuefromremainingarguments helpmessage ";var operators=" and as band bnot bor bxor casesensitive ccontains ceq cge cgt cle "+"clike clt cmatch cne cnotcontains cnotlike cnotmatch contains "+"creplace eq exact f file ge gt icontains ieq ige igt ile ilike ilt "+"imatch ine inotcontains inotlike inotmatch ireplace is isnot le like "+"lt match ne not notcontains notlike notmatch or regex replace wildcard";var verbs="write where wait use update unregister undo trace test tee take suspend "+"stop start split sort skip show set send select scroll resume restore "+"restart resolve resize reset rename remove register receive read push "+"pop ping out new move measure limit join invoke import group get format "+"foreach export expand exit enter enable disconnect disable debug cxnew "+"copy convertto convertfrom convert connect complete compare clear "+"checkpoint aggregate add";var commenthelp=" component description example externalhelp forwardhelpcategory forwardhelptargetname forwardhelptargetname functionality inputs link notes outputs parameter remotehelprunspace role synopsis";this.regexList=[{regex:new RegExp("^\\s*#[#\\s]*\\.("+this.getKeywords(commenthelp)+").*$","gim"),css:"preprocessor help bold"},{regex:SyntaxHighlighter.regexLib.singleLinePerlComments,css:"comments"},{regex:/(&lt;|<)#[\s\S]*?#(&gt;|>)/gm,css:"comments here"},{regex:new RegExp('@"\\n[\\s\\S]*?\\n"@',"gm"),css:"script string here"},{regex:new RegExp("@'\\n[\\s\\S]*?\\n'@","gm"),css:"script string single here"},{regex:new RegExp('"(?:\\$\\([^\\)]*\\)|[^"]|`"|"")*[^`]"',"g"),css:"string"},{regex:new RegExp("'(?:[^']|'')*'","g"),css:"string single"},{regex:new RegExp("[\\$|@|@@](?:(?:global|script|private|env):)?[A-Z0-9_]+","gi"),css:"variable"},{regex:new RegExp("(?:\\b"+verbs.replace(/ /g,"\\b|\\b")+")-[a-zA-Z_][a-zA-Z0-9_]*","gmi"),css:"functions"},{regex:new RegExp(this.getKeywords(keywords),"gmi"),css:"keyword"},{regex:new RegExp("-"+this.getKeywords(operators),"gmi"),css:"operator value"},{regex:new RegExp("\\[[A-Z_\\[][A-Z0-9_. `,\\[\\]]*\\]","gi"),css:"constants"},{regex:new RegExp("\\s+-(?!"+this.getKeywords(operators)+")[a-zA-Z_][a-zA-Z0-9_]*","gmi"),css:"color1"}]}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["powershell","ps","posh"];SyntaxHighlighter.brushes.PowerShell=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var keywords="and assert break class continue def del elif else "+"except exec finally for from global if import in is "+"lambda not or pass print raise return try yield while";var funcs="__import__ abs all any apply basestring bin bool buffer callable "+"chr classmethod cmp coerce compile complex delattr dict dir "+"divmod enumerate eval execfile file filter float format frozenset "+"getattr globals hasattr hash help hex id input int intern "+"isinstance issubclass iter len list locals long map max min next "+"object oct open ord pow print property range raw_input reduce "+"reload repr reversed round set setattr slice sorted staticmethod "+"str sum super tuple type type unichr unicode vars xrange zip";var special="None True False self cls class_";this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLinePerlComments,css:"comments"},{regex:/^\s*@\w+/gm,css:"decorator"},{regex:/(['\"]{3})([^\1])*?\1/gm,css:"comments"},{regex:/"(?!")(?:\.|\\\"|[^\""\n])*"/gm,css:"string"},{regex:/'(?!')(?:\.|(\\\')|[^\''\n])*'/gm,css:"string"},{regex:/\+|\-|\*|\/|\%|=|==/gm,css:"keyword"},{regex:/\b\d+\.?\w*/g,css:"value"},{regex:new RegExp(this.getKeywords(funcs),"gmi"),css:"functions"},{regex:new RegExp(this.getKeywords(keywords),"gm"),css:"keyword"},{regex:new RegExp(this.getKeywords(special),"gm"),css:"color1"}];this.forHtmlScript(SyntaxHighlighter.regexLib.aspScriptTags)}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["py","python"];SyntaxHighlighter.brushes.Python=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var keywords="alias and BEGIN begin break case class def define_method defined do each else elsif "+"END end ensure false for if in module new next nil not or raise redo rescue retry return "+"self super then throw true undef unless until when while yield";var builtins="Array Bignum Binding Class Continuation Dir Exception FalseClass File::Stat File Fixnum Fload "+"Hash Integer IO MatchData Method Module NilClass Numeric Object Proc Range Regexp String Struct::TMS Symbol "+"ThreadGroup Thread Time TrueClass";this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLinePerlComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/\b[A-Z0-9_]+\b/g,css:"constants"},{regex:/:[a-z][A-Za-z0-9_]*/g,css:"color2"},{regex:/(\$|@@|@)\w+/g,css:"variable bold"},{regex:new RegExp(this.getKeywords(keywords),"gm"),css:"keyword"},{regex:new RegExp(this.getKeywords(builtins),"gm"),css:"color1"}];this.forHtmlScript(SyntaxHighlighter.regexLib.aspScriptTags)}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["ruby","rails","ror","rb"];SyntaxHighlighter.brushes.Ruby=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){function getKeywordsCSS(str){return"\\b([a-z_]|)"+str.replace(/ /g,"(?=:)\\b|\\b([a-z_\\*]|\\*|)")+"(?=:)\\b"}function getValuesCSS(str){return"\\b"+str.replace(/ /g,"(?!-)(?!:)\\b|\\b()")+":\\b"}var keywords="ascent azimuth background-attachment background-color background-image background-position "+"background-repeat background baseline bbox border-collapse border-color border-spacing border-style border-top "+"border-right border-bottom border-left border-top-color border-right-color border-bottom-color border-left-color "+"border-top-style border-right-style border-bottom-style border-left-style border-top-width border-right-width "+"border-bottom-width border-left-width border-width border bottom cap-height caption-side centerline clear clip color "+"content counter-increment counter-reset cue-after cue-before cue cursor definition-src descent direction display "+"elevation empty-cells float font-size-adjust font-family font-size font-stretch font-style font-variant font-weight font "+"height left letter-spacing line-height list-style-image list-style-position list-style-type list-style margin-top "+"margin-right margin-bottom margin-left margin marker-offset marks mathline max-height max-width min-height min-width orphans "+"outline-color outline-style outline-width outline overflow padding-top padding-right padding-bottom padding-left padding page "+"page-break-after page-break-before page-break-inside pause pause-after pause-before pitch pitch-range play-during position "+"quotes right richness size slope src speak-header speak-numeral speak-punctuation speak speech-rate stemh stemv stress "+"table-layout text-align top text-decoration text-indent text-shadow text-transform unicode-bidi unicode-range units-per-em "+"vertical-align visibility voice-family volume white-space widows width widths word-spacing x-height z-index";var values="above absolute all always aqua armenian attr aural auto avoid baseline behind below bidi-override black blink block blue bold bolder "+"both bottom braille capitalize caption center center-left center-right circle close-quote code collapse compact condensed "+"continuous counter counters crop cross crosshair cursive dashed decimal decimal-leading-zero digits disc dotted double "+"embed embossed e-resize expanded extra-condensed extra-expanded fantasy far-left far-right fast faster fixed format fuchsia "+"gray green groove handheld hebrew help hidden hide high higher icon inline-table inline inset inside invert italic "+"justify landscape large larger left-side left leftwards level lighter lime line-through list-item local loud lower-alpha "+"lowercase lower-greek lower-latin lower-roman lower low ltr marker maroon medium message-box middle mix move narrower "+"navy ne-resize no-close-quote none no-open-quote no-repeat normal nowrap n-resize nw-resize oblique olive once open-quote outset "+"outside overline pointer portrait pre print projection purple red relative repeat repeat-x repeat-y rgb ridge right right-side "+"rightwards rtl run-in screen scroll semi-condensed semi-expanded separate se-resize show silent silver slower slow "+"small small-caps small-caption smaller soft solid speech spell-out square s-resize static status-bar sub super sw-resize "+"table-caption table-cell table-column table-column-group table-footer-group table-header-group table-row table-row-group teal "+"text-bottom text-top thick thin top transparent tty tv ultra-condensed ultra-expanded underline upper-alpha uppercase upper-latin "+"upper-roman url visible wait white wider w-resize x-fast x-high x-large x-loud x-low x-slow x-small x-soft xx-large xx-small yellow";var fonts="[mM]onospace [tT]ahoma [vV]erdana [aA]rial [hH]elvetica [sS]ans-serif [sS]erif [cC]ourier mono sans serif";var statements="!important !default";var preprocessor="@import @extend @debug @warn @if @for @while @mixin @include";var r=SyntaxHighlighter.regexLib;this.regexList=[{regex:r.multiLineCComments,css:"comments"},{regex:r.singleLineCComments,css:"comments"},{regex:r.doubleQuotedString,css:"string"},{regex:r.singleQuotedString,css:"string"},{regex:/\#[a-fA-F0-9]{3,6}/g,css:"value"},{regex:/\b(-?\d+)(\.\d+)?(px|em|pt|\:|\%|)\b/g,css:"value"},{regex:/\$\w+/g,css:"variable"},{regex:new RegExp(this.getKeywords(statements),"g"),css:"color3"},{regex:new RegExp(this.getKeywords(preprocessor),"g"),css:"preprocessor"},{regex:new RegExp(getKeywordsCSS(keywords),"gm"),css:"keyword"},{regex:new RegExp(getValuesCSS(values),"g"),css:"value"},{regex:new RegExp(this.getKeywords(fonts),"g"),css:"color1"}]}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["sass","scss"];SyntaxHighlighter.brushes.Sass=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var keywords="val sealed case def true trait implicit forSome import match object null finally super "+"override try lazy for var catch throw type extends class while with new final yield abstract "+"else do if return protected private this package false";var keyops="[_:=><%#@]+";this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.multiLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.multiLineSingleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.multiLineDoubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/0x[a-f0-9]+|\d+(\.\d+)?/gi,css:"value"},{regex:new RegExp(this.getKeywords(keywords),"gm"),css:"keyword"},{regex:new RegExp(keyops,"gm"),css:"keyword"}]}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["scala"];SyntaxHighlighter.brushes.Scala=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var funcs="abs avg case cast coalesce convert count current_timestamp "+"current_user day isnull left lower month nullif replace right "+"session_user space substring sum system_user upper user year";var keywords="absolute action add after alter as asc at authorization begin bigint "+"binary bit by cascade char character check checkpoint close collate "+"column commit committed connect connection constraint contains continue "+"create cube current current_date current_time cursor database date "+"deallocate dec decimal declare default delete desc distinct double drop "+"dynamic else end end-exec escape except exec execute false fetch first "+"float for force foreign forward free from full function global goto grant "+"group grouping having hour ignore index inner insensitive insert instead "+"int integer intersect into is isolation key last level load local max min "+"minute modify move name national nchar next no numeric of off on only "+"open option order out output partial password precision prepare primary "+"prior privileges procedure public read real references relative repeatable "+"restrict return returns revoke rollback rollup rows rule schema scroll "+"second section select sequence serializable set size smallint static "+"statistics table temp temporary then time timestamp to top transaction "+"translation trigger true truncate uncommitted union unique update values "+"varchar varying view when where with work";var operators="all and any between cross in join like not null or outer some";this.regexList=[{regex:/--(.*)$/gm,css:"comments"},{regex:SyntaxHighlighter.regexLib.multiLineDoubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.multiLineSingleQuotedString,css:"string"},{regex:new RegExp(this.getKeywords(funcs),"gmi"),css:"color2"},{regex:new RegExp(this.getKeywords(operators),"gmi"),css:"color1"},{regex:new RegExp(this.getKeywords(keywords),"gmi"),css:"keyword"}]}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["sql"];SyntaxHighlighter.brushes.Sql=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){var keywords="AddHandler AddressOf AndAlso Alias And Ansi As Assembly Auto "+"Boolean ByRef Byte ByVal Call Case Catch CBool CByte CChar CDate "+"CDec CDbl Char CInt Class CLng CObj Const CShort CSng CStr CType "+"Date Decimal Declare Default Delegate Dim DirectCast Do Double Each "+"Else ElseIf End Enum Erase Error Event Exit False Finally For Friend "+"Function Get GetType GoSub GoTo Handles If Implements Imports In "+"Inherits Integer Interface Is Let Lib Like Long Loop Me Mod Module "+"MustInherit MustOverride MyBase MyClass Namespace New Next Not Nothing "+"NotInheritable NotOverridable Object On Option Optional Or OrElse "+"Overloads Overridable Overrides ParamArray Preserve Private Property "+"Protected Public RaiseEvent ReadOnly ReDim REM RemoveHandler Resume "+"Return Select Set Shadows Shared Short Single Static Step Stop String "+"Structure Sub SyncLock Then Throw To True Try TypeOf Unicode Until "+"Variant When While With WithEvents WriteOnly Xor";this.regexList=[{regex:/'.*$/gm,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:/^\s*#.*$/gm,css:"preprocessor"},{regex:new RegExp(this.getKeywords(keywords),"gm"),css:"keyword"}];this.forHtmlScript(SyntaxHighlighter.regexLib.aspScriptTags)}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["vb","vbnet"];SyntaxHighlighter.brushes.Vb=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();(function(){SyntaxHighlighter=SyntaxHighlighter||(typeof require!=="undefined"?require("shCore").SyntaxHighlighter:null);function Brush(){function process(match,regexInfo){var constructor=SyntaxHighlighter.Match,code=match[0],tag=(new XRegExp("(&lt;|<)[\\s\\/\\?]*(?<name>[:\\w-\\.]+)","xg")).exec(code),result=[];if(match.attributes!=null){var attributes,regex=new XRegExp("(?<name> [\\w:\\-\\.]+)"+"\\s*=\\s*"+"(?<value> \".*?\"|'.*?'|\\w+)","xg");while((attributes=regex.exec(code))!=null){result.push(new constructor(attributes.name,match.index+attributes.index,"color1"));result.push(new constructor(attributes.value,match.index+attributes.index+attributes[0].indexOf(attributes.value),"string"))}}if(tag!=null)result.push(new constructor(tag.name,match.index+tag[0].indexOf(tag.name),"keyword"));return result}this.regexList=[{regex:new XRegExp("(\\&lt;|<)\\!\\[[\\w\\s]*?\\[(.|\\s)*?\\]\\](\\&gt;|>)","gm"),css:"color2"},{regex:SyntaxHighlighter.regexLib.xmlComments,css:"comments"},{regex:new XRegExp("(&lt;|<)[\\s\\/\\?]*(\\w+)(?<attributes>.*?)[\\s\\/\\?]*(&gt;|>)","sg"),func:process}]}Brush.prototype=new SyntaxHighlighter.Highlighter;Brush.aliases=["xml","xhtml","xslt","html"];SyntaxHighlighter.brushes.Xml=Brush;typeof exports!="undefined"?exports.Brush=Brush:null})();window.SyntaxHighlighter=SyntaxHighlighter})();
(function(){(function(){UE=window.UE||{};var isIE=!!window.ActiveXObject;var utils={removeLastbs:function(url){return url.replace(/\/$/,"")},extend:function(t,s){var a=arguments,notCover=this.isBoolean(a[a.length-1])?a[a.length-1]:false,len=this.isBoolean(a[a.length-1])?a.length-1:a.length;for(var i=1;i<len;i++){var x=a[i];for(var k in x){if(!notCover||!t.hasOwnProperty(k)){t[k]=x[k]}}}return t},isIE:isIE,cssRule:isIE?function(key,style,doc){var indexList,index;doc=doc||document;if(doc.indexList){indexList=doc.indexList}else{indexList=doc.indexList={}}var sheetStyle;if(!indexList[key]){if(style===undefined){return""}sheetStyle=doc.createStyleSheet("",index=doc.styleSheets.length);indexList[key]=index}else{sheetStyle=doc.styleSheets[indexList[key]]}if(style===undefined){return sheetStyle.cssText}sheetStyle.cssText=sheetStyle.cssText+"\n"+(style||"")}:function(key,style,doc){doc=doc||document;var head=doc.getElementsByTagName("head")[0],node;if(!(node=doc.getElementById(key))){if(style===undefined){return""}node=doc.createElement("style");node.id=key;head.appendChild(node)}if(style===undefined){return node.innerHTML}if(style!==""){node.innerHTML=node.innerHTML+"\n"+style}else{head.removeChild(node)}},domReady:function(onready){var doc=window.document;if(doc.readyState==="complete"){onready()}else{if(isIE){(function(){if(doc.isReady)return;try{doc.documentElement.doScroll("left")}catch(error){setTimeout(arguments.callee,0);return}onready()})();window.attachEvent("onload",function(){onready()})}else{doc.addEventListener("DOMContentLoaded",function(){doc.removeEventListener("DOMContentLoaded",arguments.callee,false);onready()},false);window.addEventListener("load",function(){onready()},false)}}},each:function(obj,iterator,context){if(obj==null)return;if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++){if(iterator.call(context,obj[i],i,obj)===false)return false}}else{for(var key in obj){if(obj.hasOwnProperty(key)){if(iterator.call(context,obj[key],key,obj)===false)return false}}}},inArray:function(arr,item){var index=-1;this.each(arr,function(v,i){if(v===item){index=i;return false}});return index},pushItem:function(arr,item){if(this.inArray(arr,item)==-1){arr.push(item)}},trim:function(str){return str.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},indexOf:function(array,item,start){var index=-1;start=this.isNumber(start)?start:0;this.each(array,function(v,i){if(i>=start&&v===item){index=i;return false}});return index},hasClass:function(element,className){className=className.replace(/(^[ ]+)|([ ]+$)/g,"").replace(/[ ]{2,}/g," ").split(" ");for(var i=0,ci,cls=element.className;ci=className[i++];){if(!(new RegExp("\\b"+ci+"\\b","i")).test(cls)){return false}}return i-1==className.length},addClass:function(elm,classNames){if(!elm)return;classNames=this.trim(classNames).replace(/[ ]{2,}/g," ").split(" ");for(var i=0,ci,cls=elm.className;ci=classNames[i++];){if(!(new RegExp("\\b"+ci+"\\b")).test(cls)){cls+=" "+ci}}elm.className=utils.trim(cls)},removeClass:function(elm,classNames){classNames=this.isArray(classNames)?classNames:this.trim(classNames).replace(/[ ]{2,}/g," ").split(" ");for(var i=0,ci,cls=elm.className;ci=classNames[i++];){cls=cls.replace(new RegExp("\\b"+ci+"\\b"),"")}cls=this.trim(cls).replace(/[ ]{2,}/g," ");elm.className=cls;!cls&&elm.removeAttribute("className")},on:function(element,type,handler){var types=this.isArray(type)?type:type.split(/\s+/),k=types.length;if(k)while(k--){type=types[k];if(element.addEventListener){element.addEventListener(type,handler,false)}else{if(!handler.cO){handler.cO={els:[]}}var key=type+handler.toString(),index=utils.indexOf(handler.cO.els,element);if(!handler.cO[key]||index==-1){if(index==-1){handler.cO.els.push(element)}if(!handler.cO[key]){handler.cO[key]=function(evt){return handler.call(evt.srcElement,evt||window.event)}}element.attachEvent("on"+type,handler.cO[key])}}}element=null},off:function(element,type,handler){var types=this.isArray(type)?type:type.split(/\s+/),k=types.length;if(k)while(k--){type=types[k];if(element.removeEventListener){element.removeEventListener(type,handler,false)}else{var key=type+handler.toString();try{element.detachEvent("on"+type,handler.cO?handler.cO[key]:handler)}catch(e){}if(handler.cO&&handler.cO[key]){var index=utils.indexOf(handler.cO.els,element);if(index!=-1){handler.cO.els.splice(index,1)}handler.cO.els.length==0&&delete handler.cO[key]}}}},loadFile:function(){var tmpList=[];function getItem(doc,obj){try{for(var i=0,ci;ci=tmpList[i++];){if(ci.doc===doc&&ci.url==(obj.src||obj.href)){return ci}}}catch(e){return null}}return function(doc,obj,fn){var item=getItem(doc,obj);if(item){if(item.ready){fn&&fn()}else{item.funs.push(fn)}return}tmpList.push({doc:doc,url:obj.src||obj.href,funs:[fn]});if(!doc.body){var html=[];for(var p in obj){if(p=="tag")continue;html.push(p+'="'+obj[p]+'"')}doc.write("<"+obj.tag+" "+html.join(" ")+" ></"+obj.tag+">");return}if(obj.id&&doc.getElementById(obj.id)){return}var element=doc.createElement(obj.tag);delete obj.tag;for(var p in obj){element.setAttribute(p,obj[p])}element.onload=element.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){item=getItem(doc,obj);if(item.funs.length>0){item.ready=1;for(var fi;fi=item.funs.pop();){fi()}}element.onload=element.onreadystatechange=null}};element.onerror=function(){throw Error("The load "+(obj.href||obj.src)+" fails,check the url")};doc.getElementsByTagName("head")[0].appendChild(element)}}()};utils.each(["String","Function","Array","Number","RegExp","Object","Boolean"],function(v){utils["is"+v]=function(obj){return Object.prototype.toString.apply(obj)=="[object "+v+"]"}});var parselist={};UE.parse={register:function(parseName,fn){parselist[parseName]=fn},load:function(opt){utils.each(parselist,function(v){v.call(opt,utils)})}};uParse=function(selector,opt){utils.domReady(function(){var contents;if(document.querySelectorAll){contents=document.querySelectorAll(selector)}else{if(/^#/.test(selector)){contents=[document.getElementById(selector.replace(/^#/,""))]}else if(/^\./.test(selector)){var contents=[];utils.each(document.getElementsByTagName("*"),function(node){if(node.className&&(new RegExp("\\b"+selector.replace(/^\./,"")+"\\b","i")).test(node.className)){contents.push(node)}})}else{contents=document.getElementsByTagName(selector)}}utils.each(contents,function(v){UE.parse.load(utils.extend({root:v,selector:selector},opt))})})};uParse2=function(content,selector,opt){var contents=[content];utils.each(contents,function(v){UE.parse.load(utils.extend({root:v,selector:selector},opt))})}})();Function.prototype.bind=function(){var cr=arguments,iV=arguments[0],bkh=this;return function(){var xB=[].slice.call(cr,1);[].push.apply(xB,arguments);return bkh.apply(iV||window,xB)}};UE.parse.register("insertcode",function(utils){var codeNodes=this.root.getElementsByTagName("code");if(codeNodes.length&&!!window.SyntaxHighlighter){var iP=this.root;function p(){var bF=iP.getElementsByTagName("code");utils.each(bF,function(pi){if(!!bF[0]&&/brush/i.test(bF[0].className)){SyntaxHighlighter.highlight(null,bF[0])}}.bind(this))}if(!!iP.parentNode){p()}}});UE.parse.register("background",function(utils){var me=this,root=me.root,p=root.getElementsByTagName("p"),styles;for(var i=0,ci;ci=p[i++];){styles=ci.getAttribute("data-background");if(styles){ci.parentNode.removeChild(ci)}}styles&&utils.cssRule("ueditor_background",me.selector+"{"+styles+"}",document)});UE.parse.register("list",function(utils){var customCss=[],customStyle={cn:"cn-1-",cn1:"cn-2-",cn2:"cn-3-",num:"num-1-",num1:"num-2-",num2:"num-3-",dash:"dash",dot:"dot"};utils.extend(this,{liiconpath:"http://bs.baidu.com/listicon/",listDefaultPaddingLeft:"20"});var root=this.root,ols=root.getElementsByTagName("ol"),uls=root.getElementsByTagName("ul"),selector=this.selector;if(ols.length){applyStyle.call(this,ols)}if(uls.length){applyStyle.call(this,uls)}if(ols.length||uls.length){customCss.push(selector+" .list-paddingleft-1{padding-left:0}");customCss.push(selector+" .list-paddingleft-2{padding-left:"+this.listDefaultPaddingLeft+"px}");customCss.push(selector+" .list-paddingleft-3{padding-left:"+this.listDefaultPaddingLeft*2+"px}");utils.cssRule("list",selector+" ol,"+selector+" ul{margin:0;padding:0;}"+customCss.join("\n"),document)}function applyStyle(nodes){var T=this;utils.each(nodes,function(list){if(list.className&&/custom_/i.test(list.className)){var listStyle=list.className.match(/custom_(\w+)/)[1];if(listStyle=="dash"||listStyle=="dot"){utils.pushItem(customCss,selector+" li.list-"+customStyle[listStyle]+"{background-image:url("+T.liiconpath+customStyle[listStyle]+".gif)}");utils.pushItem(customCss,selector+" ul.custom_"+listStyle+"{list-style:none;} "+selector+" ul.custom_"+listStyle+" li{background-position:0 3px;background-repeat:no-repeat}")}else{var index=1;utils.each(list.childNodes,function(li){if(li.tagName=="LI"){utils.pushItem(customCss,selector+" li.list-"+customStyle[listStyle]+index+"{background-image:url("+T.liiconpath+"list-"+customStyle[listStyle]+index+".gif)}");index++}});utils.pushItem(customCss,selector+" ol.custom_"+listStyle+"{list-style:none;}"+selector+" ol.custom_"+listStyle+" li{background-position:0 3px;background-repeat:no-repeat}")}switch(listStyle){case"cn":utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-1{padding-left:25px}");utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-2{padding-left:40px}");utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-3{padding-left:55px}");break;case"cn1":utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-1{padding-left:30px}");utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-2{padding-left:40px}");utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-3{padding-left:55px}");break;case"cn2":utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-1{padding-left:40px}");utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-2{padding-left:55px}");utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-3{padding-left:68px}");break;case"num":case"num1":utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-1{padding-left:25px}");break;case"num2":utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-1{padding-left:35px}");utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft-2{padding-left:40px}");break;case"dash":utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft{padding-left:35px}");break;case"dot":utils.pushItem(customCss,selector+" li.list-"+listStyle+"-paddingleft{padding-left:20px}")}}})}})})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,dC=window,fq=bp("nej.c"),bm=bp("nej.e"),bD=bp("nej.u");bD.kM=function(){if(!dC.uParse){return null}var cFj=0;return function(Xi,cei){if(!Xi){return}if(!!cei){Xi.innerHTML=cei}var mM;if(Xi.id){mM="#"+Xi.id}else{mM="edueditor_styleclass_"+cFj++;bm.bK(Xi,mM);mM="."+mM}dC.uParse2(Xi,mM)}}();bm.bS=bm.bS.ft(dm,function(bj){var bB=bm.hU(bj.value),bBP=bm.bc(bB,"f-richEditorText"),bBQ=bm.qw("div");if(!bBP||bBP.length<=0){return bj}try{bD.bw(bBP,function(bo){bD.kM(bo)});bBQ.appendChild(bB);bj.value=bBQ.innerHTML;delete bB;delete bBQ;return bj}catch(_error){return bj}})})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),bC=u.fb(),bBR,cFf="ck-uploadCache";d.bul=NEJ.C();bBR=d.bul.bt(d.hF);bBR.cef=function(cEQ,cEM){switch(cEQ){case 1:var cG="FileUploaderBean.getUploaderTokenByType";var ji=[cEM];break;case 2:var cG="FileUploaderBean.getUploaderTokenAndPublicBucket";var ji=[];break;case 3:var cG="FileUploaderBean.getUploaderTokenWithNoLogon";var ji=[];break}this.bI({key:cFf+bC,url:cG,param:ji,onload:this.Xg.Z(this)})};bBR.Xg=function(W){this.bn("ongetToken",W)}})();
(function(){var o=NEJ.O,g=window,f=NEJ.F,e=NEJ.P("nej.e"),dC=NEJ.P("nej.g"),v=NEJ.P("nej.v"),eu=NEJ.P("edu.u"),d=NEJ.P("edu.d"),j=NEJ.P("nej.j"),ws;var dy=e.dL('<div class="u-upload"><form class="j-uploadForm" action="" enctype="multipart/form-data"><div class="upload f-ib"><a class="j-upload showIpt u-btn u-btn-default" ><span class="j-txt">+上传</span><input name="file" type="file" class="j-upload realIpt" title=""></a></div></form></div>');eu.nY=NEJ.C();ws=eu.nY.bt(eu.cq,true);ws.bU=function(){this.bW=e.bX(e.bS(dy));};ws.bL=function(){this.bO();this.Rq=e.bc(this.bb,"j-upload");this.bdO=this.Rq[0];this.Lo=e.bc(this.bb,"j-txt")[0];this.btV=e.bc(this.bb,"j-uploadForm")[0];this.Ln=new d.bul;this.Ln.bd("ongetToken",this.Xg.Z(this))};ws.ced=function(){this.Ln.cef(this.cEJ,this.cEI)};ws.Xg=function(W){if(!!W){this.btT=W.token;if(!this.Lk){this.Lk=W.bucket}this.btS()}};ws.bdN=function(){this.bdO.innerHTML='<span class="j-txt">'+this.bdL+'</span><input name="file" type="file" class="j-upload realIpt" title="">';this.Jo=e.cJ(this.bdO)[1];this.gN([[this.Jo,"change",this.ced.Z(this)]])};ws.rL=function(){if(eu.chT()&&!!this.RT){eu.chU(this.TK)}else{j.rL(this.TK)}this.TK=null;this.bdN()};ws.cec=function(W){if(!!W){if(!!this.TK){W.reqId=this.TK}W.initOffset=W.initOffset||0;this.bn("onupdateProgress",W)}else{}};ws.wt=function(W){if(!!W){if(!W.retSuc&&W.errorCode==40){this.ced();return}W.name=this.Xc;W.bucket=this.Lk;this.bdN();this.bn("onFinishUpload",W)}};ws.ceb=function(W){if(!!W){W.name=this.Xc;this.bdN();this.bn("onUploadError",W)}};ws.btS=function(){var ip=this.Jo.value;while(ip.indexOf("\\")!=-1){ip=ip.slice(ip.lastIndexOf("\\")+1)}if(!!this.sz&&!this.sz(ip)){this.bdN();return}this.Xc=ip;var W={name:this.Xc,curTime:(new Date).getTime()};if(!!this.Xc){this.bn("beginUpload",W)}if(eu.chT()&&!!this.RT){this.TK=eu.cRn({file:this.Jo.files[0],onuploading:this.cec.Z(this),onload:this.wt.Z(this),onerror:this.ceb.Z(this),form:this.btV,token:this.btT,bucket:this.Lk});return}var Y={type:"json",mode:this.im,method:"POST",cookie:true,onuploading:this.cec.Z(this),onload:this.wt.Z(this),onerror:this.ceb.Z(this)};this.btV.action=this.cea+(this.cea.indexOf("?")>=0?"&":"?")+"_upload_mth_=sync_parse&token="+encodeURIComponent(this.btT)+"&bucket="+encodeURIComponent(this.Lk);this.TK=j.clZ(this.btV,Y)};ws.bE=function(Y){this.bG(Y);this.TK=null;this.bdL=this.Lo.innerText=Y.txt||"+上传";this.im=Y.mode||0;this.cea=this.btV.action=g.uploadHost+(Y.action||"/file/multipartUpload.htm");this.bb.title=Y.title||"";this.RT=Y.supportAnchor==false?false:true;this.sz=Y.verifyFile;this.cEJ=Y.needAuth||1;this.cEI=Y.tokenType;this.Lk=Y.bucket;this.bdN()};ws.bJ=function(){this.bN()}})();
(function(){var bp=NEJ.P,de=NEJ.O,lm=NEJ.R,bm=bp("nej.e"),bD=bp("nej.u"),bq=bp("nej.ui"),bM,cv,bCU;if(!!bq.bCV)return;bq.bCV=NEJ.C();bM=bq.bCV.bt(bq.sn);bM.bE=function(Y){this.btB=NEJ.X({},Y);this.Ch=NEJ.X({},Y);delete this.btB.onchange;this.Ch.onchange=this.jM.Z(this);this.bG(Y);this.cEE({number:Y.number,label:Y.label||de})};bM.bJ=function(){if(!!this.wv){this.wv.bg();delete this.wv}this.bN();delete this.btB;delete this.Ch;this.cED();this.bb.innerHTML="&nbsp;"};bM.bU=function(){this.ds=cv};bM.cEE=function(W){bm.deu(this.bb,bCU,W);var jI=bm.dey();this.Ch.list=bm.bc(this.bb,"js-i-"+jI);this.Ch.pbtn=(bm.bc(this.bb,"js-p-"+jI)||lm)[0];this.Ch.nbtn=(bm.bc(this.bb,"js-n-"+jI)||lm)[0]};bM.bL=function(){this.bO()};bM.djV=function(W){return bm.bS(bCU,W)};bM.jM=function(bj){if(this.cdZ)return;var bf=bj.index,fR=bj.total;this.cdZ=!0;this.Lc(bf,fR);bD.bw(this.btw,function(WY){WY.Lc(bf,fR)});this.cdZ=!1;this.bn("onchange",bj)};bM.Z=function(dO){dO=bm.bQ(dO);if(!dO)return this;var xN=NEJ.X({},this.btB);xN.parent=dO;xN.index=this.bmS();xN.total=this.brQ();var WY=this.constructor.bh(xN);WY.WU("onchange",this.Ch.onchange);if(!this.btw)this.btw=[];this.btw.push(WY);return this};bM.cED=function(){var cEz=function(WY,bf,bF){WY.bg();bF.splice(bf,1)};return function(){bD.nT(this.btw,cEz)}}();bM.qY=function(bf){if(!this.wv)return;this.wv.qY(bf)};bM.bmS=function(){if(!this.wv)return 1;return this.wv.bmS()};bM.brQ=function(){if(!this.wv)return 1;return this.wv.brQ()};bM.Lc=function(bf,fR){if(!this.wv)return;this.wv.Lc(bf,fR)};bM.bdw=function(fR){if(!this.wv)return;this.wv.bdw(fR)};cv=bm.dA(".#<uispace>{font-size:12px;line-height:160%;}.#<uispace> a{margin:0 2px;padding:2px 8px;color:#333;border:1px solid #aaa;text-decoration:none;}.#<uispace> .js-disabled{cursor:default;}.#<uispace> .js-selected{cursor:default;background:#bbb;}");bCU=bm.dL('{trim}{if !defined("noprv")||!noprv}<a href="#" class="zbtn zprv ${\'js-p-\'|seed}">${label.prev||"上一页"}</a>{/if}{list 1..number as x}<a href="#" class="zpgi zpg${x} ${\'js-i-\'|seed}"></a>{/list}{if !defined("nonxt")||!nonxt}<a href="#" class="zbtn znxt ${\'js-n-\'|seed}">${label.next||"下一页"}</a>{/if}{/trim}')})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,bm=bp("nej.e"),cd=bp("nej.v"),bD=bp("nej.u"),bq=bp("nej.ut"),bM;if(!!bq.bDv)return;bq.bDv=NEJ.C();bM=bq.bDv.bt(bq.hW);bM.bE=function(Y){this.bG(Y);this.btm=Y.pbtn;this.btl=Y.nbtn;this.bti=Y.sbtn;this.btg=Y.ebtn;this.fO=Y.event||"click";this.ov=Y.selected||"js-selected";this.kY=Y.disabled||"js-disabled";this.cEy(Y.list);this.WW=Y.limit||Infinity;this.Lc(Y.index||1,Y.total||1)};bM.bJ=function(){this.bN();delete this.dI;delete this.fO;delete this.btm;delete this.btl;delete this.bti;delete this.btg;delete this.cdY;delete this.sv;delete this.dk;delete this.bta;delete this.ov;delete this.kY};bM.cEy=function(){var bww=function(bB){this.dI.push(bB);this.gN([[bB,this.fO,this.ll.HC(this,0)]])};return function(bF){this.dI=[];this.gN([[this.btm,"click",this.ll.HC(this,-1)],[this.btl,"click",this.ll.HC(this,1)],[this.bti,"click",this.ll.HC(this,-2)],[this.btg,"click",this.ll.HC(this,2)]]);bD.bw(bF,bww,this)}}();bM.WV=function(bB,bf){if(bf==null){bB.innerText="";bm.fm(bB,"display","none");bm.bZ(bB,this.ov)}else{bB.innerText=bf;bm.fm(bB,"display","");bf==this.dk?bm.bK(bB,this.ov):bm.bZ(bB,this.ov)}};bM.cdX=function(){if(this.dk<=1){bm.bK(this.btm,this.kY);bm.bK(this.bti,this.kY)}else{bm.bZ(this.btm,this.kY);bm.bZ(this.bti,this.kY)}if(this.dk>=this.sv){bm.bK(this.btl,this.kY);bm.bK(this.btg,this.kY)}else{bm.bZ(this.btl,this.kY);bm.bZ(this.btg,this.kY)}};bM.bDP=dm;bM.bDR=function(){this.bDP();this.cdX();this.bn("onchange",{last:this.cdY,total:this.sv,index:this.dk,ext:this.bta})};bM.cdW=function(bf){bf=parseInt(bf);if(isNaN(bf)||this.sv==null)return!1;bf=Math.max(1,Math.min(bf,this.sv));this.cdY=this.dk;this.dk=bf;return!0};bM.bDU=function(fR){fR=parseInt(fR);if(isNaN(fR)||fR<1)return!1;this.sv=Math.min(fR,this.WW);return!0};bM.ll=function(bj,cC){cd.RW(bj);var bA=cd.fh(bj);if(!bA||bm.hv(bA,this.ov)||bm.hv(bA,this.kY))return;var bf=bA.innerText;switch(cC){case 1:case-1:bf=this.dk+cC;break;case 2:bf=this.sv;break;case-2:bf=1;break}this.qY(bf)};bM.bmS=function(){return this.dk};bM.qY=function(bf){var cEr=this.dk;this.cdW(bf);if(cEr!=this.dk)this.bDR();return this};bM.brQ=function(){return this.sv};bM.bKj=function(fR){if(this.bDU(fR)&&this.dk!=null){this.dk=1;this.bDR()}return this};bM.bdw=function(fR){if(this.bDU(fR)){this.bDP();this.cdX()}return this};bM.Lc=function(bf,fR){if(!this.bDU(fR)||!this.cdW(bf))return this;this.bDR();return this}})();
(function(){var bp=NEJ.P,de=NEJ.O,bm=bp("nej.e"),bD=bp("nej.u"),ej=bp("nej.x"),bq=bp("nej.ut"),bM;if(!!bq.bdl)return;bq.bdl=NEJ.C();bM=bq.bdl.bt(bq.bDv);bM.hk=function(){this.bEa=[];this.hu()};bM.bJ=function(){this.bN();this.cdU()};bM.cdU=function(){var xj=function(bB,bf,bF){bm.wX(bB);bF.splice(bf,1)};return function(){bD.nT(this.bEa,xj)}}();bM.bDP=function(){this.bta={last:!1,first:!1,list:this.dI};this.cdU();this.WV(this.dI[0],1);var oV=1,eU=this.dI.length;if(this.sv<eU){for(var mH;oV<eU;oV++){mH=oV+1;this.WV(this.dI[oV],mH>this.sv?null:mH)}return}if(this.dk>1){var dQ=Math.floor((eU-2)/2),cEk=this.sv-eU+2,sY=Math.max(2,this.dk-dQ);if(this.sv>=eU){sY=Math.min(sY,cEk)}if(sY>2){var bB=bm.qw("span","zdot");this.bEa.push(bB);bB.innerText="...";this.dI[0].insertAdjacentElement("afterEnd",bB);this.bta.first=!0}for(var bf;;oV++){bf=sY+oV-1;if(bf>this.dk)break;this.WV(this.dI[oV],bf)}}if(this.dk<this.sv){var bf,sY=this.dk+1;for(var i=0,l=eU-2;;i++,oV++){bf=sY+i;if(oV>l||bf>this.sv)break;this.WV(this.dI[oV],bf)}if(bf<this.sv){var bB=bm.qw("span","zdot");this.bEa.push(bB);bB.innerText="...";this.dI[oV].insertAdjacentElement("beforeBegin",bB);this.bta.last=!0}if(bf<=this.sv){this.WV(this.dI[oV++],this.sv)}}for(;oV<eU;oV++){this.WV(this.dI[oV])}};bm.cnj=ej.cnj=function(dO,Y){var bV=bm.mq(dO);if(!bV)return null;if(!bq.brT(bV,bq.bdl)){Y=Y||{};var bF=!Y.clazz?bm.cJ(bV):bm.bc(bV,Y.clazz);Y.pbtn=bF.shift();Y.nbtn=bF.pop();Y.list=bF;delete Y.clazz}return bq.brT(bV,bq.bdl,Y||de)};ej.isChange=!0})();
(function(){var bp=NEJ.P,de=NEJ.O,lm=NEJ.R,bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),bM,sF,dn;if(!!bq.gZ)return;bq.gZ=NEJ.C();bM=bq.gZ.bt(bq.bCV);sF=bq.gZ.cH;bM.bE=function(Y){Y.number=parseInt(Y.number)||9;this.bG(Y);this.wv=eF.bdl.bh(this.Ch)};bM.jM=function(bj){if(!!this.btB.noend){var cdS=bj.ext||de,bF=cdS.list||lm;if(cdS.last){bm.fm(bF[bF.length-1],"display","none")}}sF.jM.apply(this,arguments)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),ui=NEJ.P("nej.ui"),lP,dv='<div class="m-basepool f-cb"><div class="j-list"><div class="m-data-lists f-cb f-pr j-data-list"></div><div class="u-pager f-pr j-data-pager"></div></div><div class="j-none empty" style="display:none"><span class="f-f0 f-fc9 j-none-txt f-ib"></span></div></div>';var cv=e.dA(".#<uispace> .item-highlight{background:#E0F2E2;}.#<uispace> .m-data-lists{position:relative;z-index:100;}.#<uispace> .u-pager{position:relative;z-index:99;}");p.yF=NEJ.C();lP=p.yF.bt(eu.cq,true);lP.bU=function(){this.ds=cv;this.bW=e.bX(dv)};lP.bJ=function(){this.cdR();this.bN()};lP.cdR=function(){if(!!this.eg){for(var i in this.eg){var cU=this.eg[i];this.bsq(i,0);cU=this.yx(cU)}this.eg={}}};lP.cEf=function(){this.eg={};if(!!this.DN&&!!this.DN.list){var Tv=this.DN.list;for(var i=0;i<Tv.length;i++){this.bdc(Tv[i])}}else{this.cdP()}};lP.djX=function(){if(!!this.DN&&!!this.DN.list){return this.DN.list}else{return null}};lP.bdc=function(fp,TF){var bsg=this.cEb;if(!!this.eg[fp.id]){this.cEa(this.eg[fp.id],fp);return}if(!!TF){this.cDW=(this.yt||[]).length+101}var cU=this.yr(fp);cU.bd("onDelSubItem",this.bsb.Z(this));if(!!cU){this.eg[fp.id]=cU;var cdM=bsg.firstChild;if(!!cdM&&!!TF){cU.fV=bsg;bsg.insertBefore(cU.jW(),cdM);this.bsq(fp.id,1)}else{cU.bqx(bsg);this.bsq(fp.id,2)}}return cU};lP.cEa=function(cU,fp){if(!!this.DN&&!!this.DN.list&&!!fp){var Tv=this.DN.list;for(var i=0;i<Tv.length;i++){var bo=Tv[i];if(fp.id==bo.id){Tv.splice(i,1);Tv.splice(i,0,fp);break}}}};lP.yx=f;lP.yr=f;lP.bsb=function(fp){var bV=fp.id;this.bsq(bV,0);this.eg[bV]=null;delete this.eg[bV];this.bn("onDelItem");if(!this.cdL()){this.brM(true)}};lP.djY=function(fp){this.bn("onEditItem",fp)};lP.bsq=function(Gq,bz){this.yt=this.yt||[];Gq=""+Gq;switch(bz){case 0:var bf=u.nZ(this.yt,Gq);if(bf>=0){this.yt.splice(bf,1)}break;case 1:this.yt.splice(0,0,Gq);break;case 2:this.yt.push(Gq);break;default:break}this.cdP()};lP.cdL=function(){this.yt=this.yt||[];return this.yt.length>=1};lP.cdP=function(){if(!!this.bFq){e.bZ(this.bFq.jW(),"first");this.bFq=null}if(!!this.bFr){e.bZ(this.bFr.jW(),"last");this.bFr=null}if(this.cdL()){var cdJ=this.eg[this.yt[0]];var cdB=this.eg[this.yt[this.yt.length-1]];e.bK(cdJ.jW(),"first");e.bK(cdB.jW(),"last");this.bFq=cdJ;this.bFr=cdB;this.brM(false)}else{eu.bs(this.gF)}};lP.bL=function(){this.bO();this.cEb=e.bc(this.bb,"j-data-list")[0];this.KQ=e.bc(this.bb,"j-data-pager")[0];this.gF=e.bc(this.bb,"j-list")[0];this.bFz=e.bc(this.bb,"j-none")[0];this.cdA=e.bc(this.bb,"j-none-txt")[0];if(!!this.wx){eu.bv(this.KQ);this.eS=1;this.eO=ui.gZ.bh({parent:this.KQ,onchange:this.wA.Z(this),index:1,total:1})}else{eu.bs(this.KQ)}};lP.wA=f;lP.ru=function(dM){if(!!dM&&!!dM.list&&dM.list.length>0){this.brM(false);this.cDW=(dM&&dM.list?dM.list.length:0)+100;this.DN=dM;this.cDw(this.DN);this.cdR();this.cEf()}else{this.brM(true)}};lP.brM=function(da){if(da){eu.bs(this.gF);eu.bv(this.bFz);if(!this.cdA.innerText){eu.bs(this.bFz)}}else{eu.bs(this.bFz);eu.bv(this.gF)}};lP.bE=function(Y){this.bG(Y);this.eg={};if(!!Y.noneTxt){this.cdA.innerText=Y.noneTxt}if(!!this.KQ){eu.bs(this.KQ)}if(!!Y.dataMaps){this.ru(Y.dataMaps)}else if(!Y.notGetData){this.cdz(1)}};lP.bFS=function(bV){if(!bV||!this.eg[bV]){return null}else{return this.eg[bV]}};lP.cdz=function(ih){if(!!this.wx){this.eS=-1;this.eO.Lc(ih,ih)}};lP.cDw=function(dM){if(!!dM){var fR=1;var bf=1;if(!!dM.totlePageCount&&dM.totlePageCount>0){fR=dM.totlePageCount}if(!!dM.currentPageNo&&dM.currentPageNo>0){bf=dM.currentPageNo}this.eS=bf;if(!!this.KQ){if(fR>1&&!!this.wx){eu.bv(this.KQ);this.eO.Lc(bf,fR)}else{eu.bs(this.KQ)}}}};lP.djZ=function(bV,jD){if(!bV||!this.eg[bV]){return}var GD=this.eg[bV].jW();var gd=e.oR(GD);jD=!!jD?jD:0;window.scrollTo(gd.x,gd.y-jD);var Cv=0;var eF=g.setInterval(function(){if(e.hv(GD,"item-highlight")){e.bZ(GD,"item-highlight")}else{e.bK(GD,"item-highlight")}Cv+=300;if(Cv>1e3){g.clearInterval(eF);e.bZ(GD,"item-highlight")}},300)}})();
(function(){var bp=NEJ.P,de=NEJ.O,cd=bp("nej.v"),bm=bp("nej.e"),bq=bp("nej.ui"),bM;if(!!bq.bGe)return;var cv=bm.dA(".#<uispace>{position:absolute;background:#fff;}");bq.bGe=NEJ.C();bM=bq.bGe.bt(bq.bdg);bM.bE=function(Y){this.bG(Y);this.gN([[document,"click",this.cDr.Z(this)]]);this.cDq=!!Y.nostop;this.sD={top:Y.top,left:Y.left}};bM.bJ=function(){delete this.cdx;delete this.bGk;delete this.vP;delete this.cdw;delete this.bqP;delete this.sD;this.bN()};bM.bU=function(){this.ds=cv};bM.bL=function(){this.bO();this.bdh=this.bb;cd.bd(this.bb,"click",this.cDn.Z(this))};bM.cDr=function(bj){if(bj.button!=2)this.eB()};bM.cDn=function(bj){if(this.cDq)return;cd.ow(bj);var bA=cd.fh(bj);if(bA.tagName=="A")cd.RW(bj)};bM.cDm=function(){var ea=/\s+/i;return function(rn){rn=(rn||"").trim().toLowerCase().split(ea);rn[0]=rn[0]||"bottom";rn[1]=rn[1]||"left";this.vP=rn}}();bM.cDl=function(rn){var cN={},ql=this.bGk,dka=bm.uU(),hj=this.bb.offsetWidth,iQ=this.bb.offsetHeight;switch(rn[0]){case"top":cN.top=ql.top-iQ;cN.left=rn[1]=="right"?ql.left+ql.width-hj:ql.left;break;case"left":cN.left=ql.left-hj;cN.top=rn[1]=="bottom"?ql.top+ql.height-iQ:ql.top;break;case"right":cN.left=ql.left+ql.width;cN.top=rn[1]=="bottom"?ql.top+ql.height-iQ:ql.top;break;default:cN.top=ql.top+ql.height;cN.left=rn[1]=="right"?ql.left+ql.width-hj:ql.left;break}return cN};bM.bPn=function(){if(!this.cdw){this.vt(this.sD);return}if(!!this.bqP){this.vt(this.cdx);return}if(!!this.bGk)this.vt(this.cDl(this.vP))};bM.cDi=function(bA,gg,bj){gg=gg||de;var Eb=bm.uU(),ej=cd.OA(bj)+(gg.left||0),jD=cd.OE(bj)+(gg.top||0),hj=bA.offsetWidth+(gg.right||0),iQ=bA.offsetHeight+(gg.bottom||0),WG=Eb.scrollWidth,bGC=Eb.scrollHeight,bGD=ej+hj,bGF=jD+iQ;switch(this.vP[0]){case"top":jD=bGF>bGC?jD-iQ:jD;if(this.vP[1]=="right"){ej=ej-hj<0?0:ej-hj}else{ej=bGD>WG?WG-hj:ej}break;case"left":ej=bGD>WG?WG-hj:ej;if(this.vP[1]=="top"){jD=bGF>bGC?jD-iQ:jD}else{jD=jD-iQ<0?jD:jD-iQ}break;case"right":ej=ej-hj<0?0:ej-hj;if(this.vP[1]=="top"){jD=bGF>bGC?jD-iQ:jD}else{jD=jD-iQ<0?jD:jD-iQ}break;default:jD=jD-iQ<0?jD:jD-iQ;if(this.vP[1]=="left"){ej=bGD>WG?WG-hj:ej}else{ej=ej-hj<0?0:ej-hj}break}return{top:jD,left:ej}};bM.bGG=function(){var cDh=function(bA,gg){bA=bm.bQ(bA);if(!bA)return;gg=gg||de;var gd=bm.oR(bA);return{top:gd.y-(gg.top||0),left:gd.x-(gg.left||0),width:bA.offsetWidth+(gg.right||0),height:bA.offsetHeight+(gg.bottom||0)}};return function(Y){Y=Y||de;this.bqP=Y.event;this.cDm(Y.align);if(!!this.bqP)this.cdx=this.cDi(Y.target,Y.delta,this.bqP);this.bGk=cDh(Y.target,Y.delta);this.cdw=!!Y.fitable;this.fI();return this}}()})();
(function(){var bp=NEJ.P,de=NEJ.O,bm=bp("nej.e"),cd=bp("nej.v"),bD=bp("nej.u"),bq=bp("nej.ui"),bM,sF;if(!!bq.WD)return;bq.WD=NEJ.C();bM=bq.WD.bt(bq.bsM);sF=bq.WD.cH;bq.WD.dkc=function(){var cDe=function(bj,bV,eA,wE,bcl){var dh,bR=bV+"-i",cR=eA.GS,cds=!!wE.noclear,cdr=!!wE.toggled;if(bD.lX(wE.onbeforeclick)){var bpX=wE.noclear,cCV=wE.toggled;try{wE.onbeforeclick(wE)}catch(e){}cds=!!wE.noclear;cdr=!!wE.toggled;wE.toggled=cCV;wE.noclear=bpX}var Cm=cR[bR];if(cdr&&!!Cm){Cm.eB();return}cd.dG(bj);if(!cds){cd.bn(document,"click");dh=eA.bh(wE)}else{dh=eA.Jz(wE,!0)}cR[bR]=dh;dh.WU("onbeforerecycle",function(){delete cR[bR]});dh.bGG(bcl)};return function(bB,Y){bB=bm.bQ(bB);if(!bB)return this;if(!this.GS)this.GS={};var bV=bm.mq(bB);if(!!this.GS[bV])return this;Y=NEJ.X({},Y);var bcl=NEJ.EX({align:"",delta:null,fitable:!1},Y);bcl.target=bV;Y.destroyable=!0;if(!Y.fixed){bcl.fitable=!0;Y.parent=document.body}this.GS[bV]=[bV,Y.event||"click",cDe.HC(null,bV,this,Y,bcl)];cd.bd.apply(cd,this.GS[bV]);return this}}();bq.WD.dke=function(bB){if(!this.GS)return this;var bV=bm.mq(bB),bj=this.GS[bV];if(!bj)return this;delete this.GS[bV];cd.vd.apply(cd,bj);var dh=this.GS[bV+"-i"];if(!!dh)dh.eB();return this};bM.bQf=function(){return bq.bGe.bh(this.vw)};bM.bdm=function(){sF.bdm.apply(this,arguments);this.vw.top=null;this.vw.left=null;this.vw.nostop=!1};bM.bGG=function(Y){if(!!this.FS)this.FS.bGG(Y);return this}})();
(function(){var bp=NEJ.P,de=NEJ.O,bm=bp("nej.e"),cd=bp("nej.v"),bD=bp("nej.u"),bq=bp("nej.ut"),uL;if(!!bq.bGX)return;bq.bGX=NEJ.C();uL=bq.bGX.bt(bq.hW);uL.bE=function(Y){this.bG(Y);this.gN([[Y.mprv,"click",this.cdp.Z(this,-1)],[Y.mnxt,"click",this.cdp.Z(this,1)],[Y.yprv,"click",this.cdo.Z(this,-1)],[Y.ynxt,"click",this.cdo.Z(this,1)],[Y.wprv,"click",this.cdn.Z(this,-1)],[Y.wnxt,"click",this.cdn.Z(this,1)],[Y.wprv,"click",this.cdm.Z(this,-1)],[Y.wnxt,"click",this.cdm.Z(this,1)]]);this.Cc=Y.offset||0;this.bHl=bm.bQ(Y.year);this.bHm=bm.bQ(Y.month);this.ov=Y.selected||"js-selected";this.bHn=Y.extended||"js-extended";this.kY=Y.disabled||"js-disabled";this.cCK(Y.range);this.cCH(Y.list);this.lR(Y.date||new Date)};uL.bJ=function(){this.bN();delete this.dI;delete this.rM;delete this.bHl;delete this.bHm};uL.cCK=function(sP){this.rM=sP||[];var bH=this.rM[0];this.rM[0]=bD.biK(bH)?+bH:bH||0;var bH=this.rM[1];this.rM[1]=bD.biK(bH)?+bH:bH||0};uL.cCH=function(){var bRB=function(bB){this.dI.push(bB);this.gN([[bB,"click",this.bHs.Z(this)]])};return function(bF){this.dI=[];bD.bw(bF,bRB,this)}}();uL.bHt=function(){var EM=function(sP,cQ){var kR=sP[0],ig=sP[1];return cQ<kR||!!ig&&cQ>ig};return function(bB,iO,jr,fg){bm.dj(bB,"y",iO);bm.dj(bB,"m",jr);bm.dj(bB,"d",fg);bB.innerText=fg;if(iO==this.KG&&jr==this.zK&&fg==this.bHy){bm.bK(bB,this.ov)}else{bm.bZ(bB,this.ov)}EM(this.rM,+(new Date(iO,jr-1,fg)))?bm.bK(bB,this.kY):bm.bZ(bB,this.kY)}}();uL.bqf=function(){var Ke=[31,28,31,30,31,30,31,31,30,31,30,31];var bAy=function(iO){return!(iO%400)||!(iO%4)&&!!(iO%100)};var bsQ=function(iO,jr){return jr==2&&bAy(iO)?29:Ke[jr-1]};return function(){var iO=this.KG,jr=this.zK,fg=new Date(iO,jr-1,1),Ig=(7+fg.getDay()-this.Cc)%7,ny=Math.min(this.dI.length,Ig+bsQ(iO,jr));if(!!this.bHl){this.bHl.innerText=this.KG}if(!!this.bHm){this.bHm.innerText=this.zK}for(var i=Ig,bB;i<ny;i++){bB=this.dI[i];this.bHt(bB,iO,jr,i-Ig+1);bm.bZ(bB,this.bHn)}if(Ig>0){var fg=new Date(iO,jr-2||0,1);var bqe=fg.getFullYear();var bqc=fg.getMonth()+1;var AT=bsQ(bqe,bqc);for(var i=Ig-1,bB;i>=0;i--){bB=this.dI[i];this.bHt(bB,bqe,bqc,AT--);bm.bK(bB,this.bHn)}}var eU=this.dI.length;if(ny<eU-1){var fg=new Date(iO,jr,1);var bqe=fg.getFullYear();var bqc=fg.getMonth()+1;for(var i=ny,k=1;i<eU;i++){bB=this.dI[i];this.bHt(bB,bqe,bqc,k++);bm.bK(bB,this.bHn)}}}}();uL.cdo=function(cC){this.KG+=cC;this.bqf();this.bn("onchange",this.jS())};uL.cdp=function(cC){this.zK+=cC;if(this.zK<1){this.KG--;this.zK+=12}if(this.zK>12){this.KG+=Math.floor(this.zK/12);this.zK=(this.zK-1)%12+1}this.bqf();this.bn("onchange",this.jS())};uL.bHs=function(bj){var bA=cd.fh(bj);if(bm.hv(bA,this.kY))return;this.KG=parseInt(bm.dj(bA,"y"));this.zK=parseInt(bm.dj(bA,"m"));this.bHy=parseInt(bm.dj(bA,"d"));this.bqf();this.bn("onselect",this.jS())};uL.cdn=function(cC){};uL.cdm=function(cC){};uL.lR=function(fg){fg=bD.bQU(fg);this.KG=fg.getFullYear();this.zK=fg.getMonth()+1;this.bHy=fg.getDate();this.bqf();return this};uL.jS=function(){return new Date(this.KG,this.zK-1,this.bHy)}})();
(function(){var bp=NEJ.P,de=NEJ.O,bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),bq=bp("nej.ui"),bM,sF;if(!!bq.bcd)return;var cv,dn,cdk,cdj=bD.bho();bq.bcd=NEJ.C();bM=bq.bcd.bt(bq.WD);sF=bq.bcd.cH;bM.hk=function(){this.En={onselect:this.bHs.Z(this)};this.hu()};bM.bE=function(Y){this.bG(Y);this.En.range=Y.range;this.bpS=eF.bGX.bh(this.En);this.lR(Y.date||new Date)};bM.bJ=function(){this.bN();delete this.En.range;var cdi=this.bpS;if(!!cdi){delete this.bpS;cdi.bg()}};bM.bU=function(){this.ds=cv;this.bW=dn};bM.bL=function(){this.bO();var bF=bm.cJ(this.bb);this.En.list=bm.bc(bF[1],"js-ztag");bF=bm.cJ(bF[0]);this.En.yprv=bF[0];this.En.mprv=bF[1];this.En.ynxt=bF[2];this.En.mnxt=bF[3];this.En.year=bF[4];this.En.month=bF[5]};bM.bcs=function(){dn=bm.bX('<div class="'+cv+' zcard">'+bm.bmE(cdj)+bm.bS(cdk)+"</div>");this.bW=dn};bM.bHs=function(fg){try{this.bn("onchange",fg)}catch(e){}this.eB()};bM.lR=function(fg){fg=bD.bQU(fg);this.bpS.lR(fg);return this};bM.jS=function(){return this.bpS.jS()};cv=bm.dA(".#<uispace>{width:210px;border:1px solid #aaa;font-size:14px;text-align:center;}.#<uispace> .zact{line-height:30px;overflow:hidden;zoom:1;}.#<uispace> .zact .zfl{float:left;}.#<uispace> .zact .zfr{float:right;}.#<uispace> .zact .zbtn{padding:0 5px;cursor:pointer;}.#<uispace> .zact .ztxt{margin-left:10px;}.#<uispace> .zday{table-layout:fixed;border-collapse:collapse;width:100%;}.#<uispace> .zday th{font-weight:normal;}.#<uispace> .zday a{display:block;height:22px;line-height:22px;color:#333;text-decoration:none;}.#<uispace> .zday a:hover{background:#eee;}.#<uispace> .zday a.js-extended{color:#aaa;}.#<uispace> .zday a.js-selected,.#<uispace> .zday a.js-selected:hover{background:#DAE4E7;}.#<uispace> .zday a.js-disabled,.#<uispace> .zday a.js-disabled:hover{background:#fff;color:#eee;cursor:default;}");cdk=bm.dL('<table class="zday"><tr>{list ["日","一","二","三","四","五","六"] as x}<th>${x}</th>{/list}</tr>{list 1..6 as x}<tr>{list 1..7 as y}<td><a href="javascript:void(0);" class="js-ztag"></a></td>{/list}</tr>{/list}</table>');bm.bfr(cdj,'<div class="zact"><span class="zbtn zfl" title="上一年">&lt;&lt;</span><span class="zbtn zfl" title="上一月">&lt;</span><span class="zbtn zfr" title="下一年">&gt;&gt;</span><span class="zbtn zfr" title="下一月">&gt;</span><span class="ztxt"></span>年<span class="ztxt"></span>月</div>')})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),ui=NEJ.P("nej.ui"),tl,cCC=["00:00","00:30","01:00","01:30","02:00","02:30","03:00","03:30","04:00","04:30","05:00","05:30","06:00","06:30","07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30"];var cv=e.dA(".#<uispace> .disable{color:#aaa;}.#<uispace> .dateDay,.dateMin{border:1px solid #ccc;width:70px;height:18px;padding:4px 3px;margin:2px 5px 0 0;cursor:pointer;background-color:#fff;text-align:center;}.#<uispace> .dateMin{width:50px;margin-right:10px;background-position:41px -197px;}.#<uispace> .dateDayLayer{top:26px;left:1px;z-index:10001;}.#<uispace> .dateMinLayer{z-index:10001;top:26px;left:83px;width:57px;height:165px;background-color:#FFF;border:1px solid #ddd;box-shadow:0px 0px 4px 0px #DDD;overflow-y:scroll;font-size:13px;}.#<uispace> .dateMinLayer span{display:block;height:22px;line-height:22px;color:#999;padding:0 0 0 3px;cursor:pointer;}.#<uispace> .dateMinLayer span:hover{background-color:#ececee;}.#<uispace> .dateDayLayer .zcard{box-shadow:0px 0px 4px 0px #DDD;border:1px solid #ddd;}.#<uispace> .dateDayLayer .zact{font-size:12px;color:#333;font-family:sans-serif;}.#<uispace> .dateDayLayer .zbtn{color:#747474;}.#<uispace> .dateDayLayer .zday{ border:0;}.#<uispace> .dateDayLayer .zday .js-extended{color:#ccc;}.#<uispace> .dateDayLayer .zday th{ background:#fff !important; border:0 !important; padding:0; font-size: 12px;font-family: sans-serif;text-align:center;color:#333;}.#<uispace> .dateDayLayer .zday td{ padding:0; font-size: 12px;font-family: sans-serif;text-align:center;color:#333;}.#<uispace> .dateDayLayer .zday a{font-size:10px;font-family:sans-serif;color:#666;}.#<uispace> .dateDayLayer .zday a.js-selected{background-color:#83b600;color:#fff;}");var ev=e.bX('<div class="u-datePick"><div class="f-fl dateDay j-dateDay">日期</div><div class="f-pa dateDayLayer j-dateDayLayer"></div><div class="f-fl dateMin j-dateMin">时刻</div><div class="f-pa f-dn dateMinLayer j-dateMinLayer"></div></div>');eu.hX=NEJ.C();tl=eu.hX.bt(eu.cq,true);tl.bU=function(){this.bW=ev;this.ds=cv};tl.bL=function(){this.bO();this.wF=e.bc(this.bb,"j-dateDay")[0];this.rG=e.bc(this.bb,"j-dateMin")[0];this.cCA=e.bc(this.bb,"j-dateDayLayer")[0];this.Er=e.bc(this.bb,"j-dateMinLayer")[0]};tl.bE=function(Y){this.bG(Y);this.cdh=Y.notShowHM;this.bIa(Y.date||null);this.cdg()};tl.cdg=function(){v.dY(this.wF,"click");v.dY(this.rG,"click");v.bd(this.wF,"click",this.cCu.Z(this));v.bd(this.rG,"click",this.bIk.Z(this));v.bd(document,"click",function(){e.bK(this.Er,"f-dn")}.Z(this,null));this.Er.innerHTML="";u.bw(cCC,function(Oz,bf){this.Er.innerHTML+="<span>"+Oz+"</span>"}.Z(this));var cCt=e.cJ(this.Er);u.bw(cCt,function(bo,bf){v.bd(bo,"click",function(){this.rG.innerText=bo.innerText;var cde=bo.innerText.split(":");this.bbQ=Number(cde[0])*36e5+Number(cde[1])*6e4;this.bIk()}.Z(this))}.Z(this));if(!!this.cdh){eu.bs(this.rG);eu.bs(this.Er)}};tl.bIa=function(bps){if(!!bps&&bps>=0){var kU=new Date;kU.setTime(bps);var jL=kU.getHours(),kf=kU.getMinutes();this.wF.innerText=kU.getFullYear()+"-"+(kU.getMonth()+1)+"-"+kU.getDate();this.rG.innerText=(jL<10?"0"+jL:jL)+":"+(kf<10?"0"+kf:kf);this.bbQ=jL*36e5+kf*6e4;this.bpp=bps-this.bbQ}else{if(!!this.cdh){this.wF.innerText="选择日期"}else{this.wF.innerText="日期"}this.rG.innerText="时刻";this.bpp=0;this.bbQ=0}};tl.cCu=function(bj){if(!!bj)v.dG(bj);this.bn("onClick");this.bn("onDateClick");this.bIk();if(!this.CE){e.bK(this.wF,"selected");this.CE=ui.bcd.bh({parent:this.cCA});this.CE.bd("onchange",function(W){this.wF.innerText=W.getFullYear()+"-"+(W.getMonth()+1)+"-"+W.getDate();this.bpp=Date.parse(W)}.Z(this))}};tl.bIk=function(bj){if(!!bj){v.ow(bj);if(e.hv(this.rG,"selected")){e.bZ(this.rG,"selected");e.bK(this.Er,"f-dn")}else{e.bK(this.rG,"selected");e.bZ(this.Er,"f-dn")}this.bn("onClick");this.bn("onMinClick")}else{e.bZ(this.rG,"selected");e.bK(this.Er,"f-dn")}if(!!this.CE){e.bZ(this.wF,"selected");this.CE=ui.bcd.bg(this.CE)}};tl.jS=function(){var cCn={day:this.bpp,hour:this.bbQ,totalData:this.bpp+this.bbQ};return cCn};tl.lR=function(fg){this.bIa(fg)};tl.wc=function(){v.dY(this.wF,"click");v.dY(this.rG,"click");e.bK(this.wF,"disable");e.bK(this.rG,"disable")};tl.rE=function(){e.bZ(this.wF,"disable");e.bZ(this.rG,"disable");this.bIa(null);this.cdg()};tl.bIA=function(){e.bK(this.Er,"f-dn");e.bZ(this.rG,"selected")};tl.KD=function(){this.bIA();if(!!this.CE){this.CE.eB()}};tl.bJ=function(){e.bZ(this.wF,"disable");e.bZ(this.rG,"disable");e.bZ(this.rG,"selected");e.bK(this.Er,"f-dn");v.dY(this.wF,"click");v.dY(this.rG,"click");this.bN()}})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,bm=bp("nej.e"),cd=bp("nej.v"),bD=bp("nej.u"),bq=bp("nej.ut"),bM;if(!!bq.Ev)return;bq.Ev=NEJ.C();bM=bq.Ev.bt(bq.hW);bM.bE=function(Y){this.bG(Y);this.bb=bm.bQ(Y.body);this.eP=bm.bQ(Y.input);this.ov=Y.selected||"js-selected";this.dk=0;this.gN([[this.eP,"input",this.bIJ.Z(this)],[this.eP,"blur",this.Wx.Z(this,"blur")],[this.bb,"mouseover",this.bIN.Z(this)],[this.bb,"click",this.ll.Z(this)],[document,"keydown",this.bIO.Z(this)],[document,"keypress",this.bIR.Z(this)]])};bM.bJ=function(){this.bN();this.bbL();delete this.ov;delete this.eP;delete this.bb;delete this.bIV};bM.cCm=function(bA){return bA.flag!=null};bM.bbL=function(){var bIX=function(bB){bD.bqd(bB,"flag")};return function(){bD.bw(this.dI,bIX);delete this.dI;delete this.dk}}();bM.Wu=function(bf){if(this.dk===bf)return;this.dk=bf;bm.bK(this.dI[this.dk],this.ov)};bM.bou=function(bf){if(this.dk!==bf)return;bm.bZ(this.dI[this.dk],this.ov);delete this.dk};bM.Wx=function(bz){this.bJa=setTimeout(function(){if(!this.dI)return;var bo=this.dI[this.dk]||this.dI[0],bH=bm.dj(bo,"value")||bo.innerText;this.eP.value=bH;this.CF();this.bIV=!0;this.bn("onselect",bH,{type:bz});this.bIV=!1}.Z(this),bz=="blur"?200:0)};bM.bIJ=function(){var bH=this.eP.value.trim();if(!bH){this.CF()}else{if(this.bIV)return;this.bn("onchange",bH)}};bM.bIN=function(bj){var bA=cd.fh(bj,this.cCm);if(!!bA){this.bou(this.dk);this.Wu(bA.flag)}};bM.ll=function(){if(this.bJa){this.bJa=clearTimeout(this.bJa)}this.Wx("click")};bM.bIO=function(bj){var cC=0,nl=bj.keyCode;if(nl==38)cC=-1;if(nl==40)cC=1;if(!cC)return;cd.dG(bj);var bf=Math.max(0,Math.min(this.dk+cC,this.dI.length-1));if(bf===this.dk)return;this.bou(this.dk);this.Wu(bf)};bM.bIR=function(bj){var bz="enter";if(bj.keyCode==13)this.Wx(bz)};bM.CF=function(){var bJc=function(bB,bf){bB.flag=bf};return function(bF){this.bbL();if(!bF||!bF.length){this.bb.style.visibility="hidden";return this}this.dI=bF;var bf=bD.nZ(this.dI,function(bB){return bm.hv(bB,this.ov)});this.Wu(Math.max(0,bf));bD.bw(this.dI,bJc);this.bb.style.visibility="visible";return this}}()})();
(function(){var bp=NEJ.P,de=NEJ.O,dm=NEJ.F,bm=bp("nej.e"),cd=bp("nej.v"),bD=bp("nej.u"),bq=bp("edu.u"),bJe=bp("nej.ut"),tb,cCk;bq.bJk=NEJ.C();tb=bq.bJk.bt(bJe.Ev);cCk=bq.bJk.cH;tb.bE=function(Y){this.bG(Y);this.cdd=Y.noInputFill||false;this.ccX({})};tb.ccX=function(W){this.cnh();this.gN([[this.eP,"keyup",this.bIJ.Z(this)],[this.eP,"blur",this.bbt.Z(this)],[this.bb,"click",this.Wx.Z(this,W)],[document,"keydown",this.bIO.Z(this)],[document,"keypress",this.bIR.HC(this,W)]])};tb.bJ=function(){this.bN();this.bbL();delete this.ov;delete this.eP;delete this.bb};tb.dkg=function(bA){return bA.flag!=null};tb.bbL=function(){var bIX=function(bB){bD.bqd(bB,"flag")};return function(){bD.bw(this.dI,bIX);delete this.dI;delete this.dk}}();tb.Wu=function(bf){if(this.dk===bf)return;this.dk=bf;bm.bK(this.dI[this.dk],this.ov)};tb.bou=function(bf){if(this.dk!==bf)return;bm.bZ(this.dI[this.dk],this.ov);delete this.dk};tb.bbt=function(bj){var bB=bj.srcElement;this.bJp=setTimeout(function(){this.CF();this.bn("onblur",bB)}.Z(this),200)};tb.Wx=function(W,bj){if(!!this.bJp)this.bJp=window.clearTimeout(this.bJp);this.bJr=true;this.bbs=bj?bj.srcElement||bj.target:null;var bo=this.bbs;if(!bo){if(!!this.dI)bo=this.dI[this.dk]}if(!bo){this.bJr=false;return}var bH=bo.innerText;this.bb.style.visibility="hidden";if(!this.cdd){this.eP.value=bH}this.CF();var Qc;bD.bw(W,function(tmp,bf){if(bm.dj(bo,"id")==tmp.id||bm.dj(bo.parentNode,"id")==tmp.id){Qc=tmp}});this.bn("onselect",Qc);this.bJr=false};tb.cBZ=function(){if(this.bbq)this.bbq=window.clearTimeout(this.bbq);this.bbq=setTimeout(function(){if(!this.dI)return;var bo=this.dI[this.dk]||this.dI[0],bH=bm.dj(bo,"value")||bo.innerText;if(!this.cdd){this.eP.value=bH}this.bbq=false}.Z(this),200)};tb.bIJ=function(bj){if(!!this.bJr||this.bbq){return}var bH=this.eP.value.trim();this.bn("onchange",bH,bj)};tb.bIO=function(bj){var cC=0,nl=bj.keyCode;if(nl==38)cC=-1;if(nl==40)cC=1;if(!cC)return;cd.dG(bj);if(!this.dI)return;var bf=Math.max(0,Math.min(this.dk+cC,this.dI.length-1));if(bf===this.dk)return;this.bou(this.dk);this.Wu(bf);this.cBZ()};tb.bIR=function(bj,W){if(bj.keyCode==13)this.Wx(W)};tb.CF=function(){var bJc=function(bB,bf){bB.flag=bf};return function(bF,W){this.bbL();if(!bF||!bF.length)return;this.dI=bF;this.Wu(0);this.ccX(W);bD.bw(this.dI,bJc);this.bb.style.visibility="visible"}}()})();
(function(){var bp=NEJ.P,de=NEJ.O,bm=bp("nej.e"),bD=bp("nej.u"),eF=bp("nej.ut"),cA=bp("nej.ui"),bq=bp("edu.u"),Ey,cBY;var cv=bm.dA(".#<uispace>-parent{position:absolute;left:-1px;border:1px solid #d5d5d5;width:100%;background:#FAFAFA;z-index:999;}.#<uispace>-parent .j-cnt{width:100%;color:#444;visibility:hidden;}.#<uispace>-parent .zitm-top{width:100%;text-indent:6px;line-height:32px;cursor:pointer;}.#<uispace>-parent .zitm,.#<uispace>-parent .zitm p{width:100%;text-indent:6px;line-height:32px;cursor:pointer;}.#<uispace>-parent .zitm a{display:block;overflow:hidden;text-overflow:ellipsis;font-size:12px}.#<uispace>-parent .zitm:hover,.#<uispace>-parent .zitm:hover p{color:#10ae58;background-color:#ECECEE;}.#<uispace>-parent .js-selected,.#<uispace>-parent .js-selected p{color:#10ae58;background-color:#ECECEE;}");var dh;bq.Ev=NEJ.C();Ey=bq.Ev.bt(cA.sn);cBY=bq.Ev.cH;bq.Ev.fC=function(Y){if(!!dh){dh.wG.bg();delete dh.wG;dh.bE(Y);return dh}else{dh=bq.Ev.bh(Y);return dh}};Ey.hk=function(){this.Ez={onchange:this.jM.Z(this),onselect:this.Qm.Z(this),onblur:this.bbt.Z(this)};this.hu()};Ey.bE=function(Y){this.bG(Y);this.bnV=Y.suggestOption;this.bbo=Y.separate;this.Ez.body=this.bnV;this.Ez.input=bm.bQ(Y.input);this.Ez.input.insertAdjacentElement("afterEnd",Y.parent);this.Ez.noInputFill=Y.noInputFill;this.wG=bq.bJk.bh(this.Ez)};Ey.bJ=function(){this.bN();this.wG.bg();delete this.wG;delete this.Ez.input};Ey.bU=function(){this.ds=cv};Ey.bL=function(){this.bO()};Ey.jM=function(bH,bj){this.bn("onchange",bH,bj)};Ey.Qm=function(bH){this.bn("onselect",bH)};Ey.bbt=function(bB){this.bn("onblur",bB)};Ey.CF=function(dN,eE,dy){this.AA=dN;if(bD.jO(dN)){bD.bw(dN,function(bo,bf){if(!!bo.name)bo.name=bo.name.replace(/<br\/>/ig," ");if(!!bo.title)bo.title=bo.title||bo.name});dN=bm.bS(dy||"jst-suggest",{xlist:dN})}this.bnV.innerHTML=dN||"";this.Qp=!eE?bm.cJ(this.bnV):bm.bc(this.bnV,eE);bD.bw(this.Qp,function(bo,bf){var bV=this.AA[bf].id;if(!!bV){if(!!this.bbo&&!!this.bbo[bV]){bm.bK(bo,this.bbo[bV])}}}.Z(this));this.wG.CF(this.Qp,this.AA)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),cBX='<div class="u-insug"><div class="area"></div><div class="sug" style="display:none"><div class="f-thide s-fc6 ar j-basetxt">请选择或继续输入...</div><div class=""></div></div></div>',pX;eu.zs=NEJ.C();pX=eu.zs.bt(eu.cq,true);pX.bU=function(){this.bW=e.bX(cBX)};pX.bL=function(){this.bO();var lZ=e.cJ(this.bb);this.zn=lZ[0];this.rR=lZ[1];this.cBV=e.bc(this.bb,"j-basetxt")[0];this.cBU=e.cJ(this.rR)[1];this.fu=new p.hZ};pX.bbh=function(bF,kP,eE,dy){if(!!bF&&bF.length==0){this.wG.CF(bF);eu.bs(this.rR);return}if((!kP||kP==this.bnD)&&!this.QI){this.wG.CF(bF,eE,dy);eu.bv(this.rR)}};pX.ccU=function(cC){this.bn("onInputFocus");setTimeout(function(){if(cC){this.wG=eu.Ev.fC({input:this.eP.hm||this.eP.eP,parent:this.rR,suggestOption:this.cBU,separate:this.bbo,onchange:this.jM.Z(this),onselect:this.Qm.Z(this),onblur:this.bbt.Z(this),noInputFill:true});this.QI=false}}.Z(this),200)};pX.ccT=function(){this.wG.CF();eu.bs(this.rR)};pX.jM=function(bH,bj){switch(bj.keyCode){case 13:v.dG(bj);if(eu.xG(this.rR)){this.ccQ(bH)}return;break;case 8:v.dG(bj);if(!eu.xG(this.rR)){this.bn("onDeleteCnt");if(bH.match(".+\\s\\(.+")){bH=eu.vx(bH.split("(")[0]);this.eP.cZ(bH);return}}break}if(bH.match(".*\\s+$")){this.ccT();return}if(bH==""){this.ccT();return}var Wn=this.fu.cku(bH);this.bnD=Wn[Wn.length-1];if(!!bH){this.bn("onSuggest",this.bnD)}};pX.ccQ=function(cBF){var Wn=this.fu.cku(this.eP.ca().trim());Wn[Wn.length-1]=cBF.name;this.eP.cZ(Wn.join(" ")+" ");eu.bs(this.rR)};pX.Qm=function(bH){this.ccQ(bH);this.QI=false;if(!!bH){this.bn("onSelect",bH)}};pX.bbt=function(bB){eu.bs(this.rR);this.QI=true};pX.KA=function(){var bnk;return function(bj){if(!bj){return}if(!!bnk){bnk=g.clearTimeout(bnk)}bnk=g.setTimeout(function(){this.bn("onKeyDown",bj,this.eP.ca())}.Z(this),300)}}();pX.cZ=function(bH){this.eP.cZ(bH)};pX.bE=function(Y){this.bG(Y);this.WP=Y.critical||0;this.ccP=Y.labelText||"请输入";this.bbo=Y.separate||"";this.cBV.innerText=Y.baseText||"请选择或继续输入...";if(!this.WP){this.eP=eu.cD.bh({parent:this.zn,labelText:this.ccP,content:Y.content,width:Y.width,height:Y.height,type:"input",onInputFocus:this.ccU.Z(this,true),onInputBlur:Y.onInputBlur,onInputChange:this.KA.Z(this)})}else{this.eP=eu.ef.bh({parent:this.zn,labelText:this.ccP,filterEnter:true,type:"input",width:Y.width,height:Y.height,critical:this.WP,onInputFocus:this.ccU.Z(this,true),onInputBlur:Y.onInputBlur,onInputChange:this.KA.Z(this)})}};pX.ca=function(){return this.eP.ca()};pX.hK=function(bH){this.eP.ca(bH)};pX.kr=function(){this.eP.kr()};pX.oI=function(){this.eP.oI()};pX.bJ=function(){if(!this.WP){this.eP=eu.cD.bg(this.eP)}else{this.eP=eu.ef.bg(this.eP)}this.bN()}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),p=NEJ.P("edu.d"),bC=u.fb(),QS,bKK="ck-suggestionCache";p.bKL=NEJ.C();QS=p.bKL.bt(p.hF);QS.cBD=function(teacherName,ic){this.bI({key:bKK+bC,url:"MocSchoolBean.getSuggestLector",param:[teacherName,ic],notShowLoading:true,onload:this.cBC.Z(this)})};QS.cBC=function(W){this.bn("onGetTeacherInChargeSuggest",W)};QS.cBz=function(ch){this.bI({key:bKK+bC,url:"PublishCourseBean.listCourseByName",param:[ch],onload:this.cBy.Z(this)})};QS.cBy=function(W){this.bn("onGetSuggestCourse",W)};QS.cBw=function(ch){this.bI({key:bKK+bC,url:"MocSearchBean.getMixedCoursesSuggestList",param:[ch],onload:this.cBu.Z(this)})};QS.cBu=function(W){this.bn("onGetPreSuggestCourse",W)}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),p=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bC=u.fb(),gn,fD="ck-courseCreateCache";p.rq=NEJ.C();gn=p.rq.bt(p.hF);gn.cBt=function(bT){this.bI({key:fD+bC,url:"TermDraftBean.getTermContent",param:[bT],onload:this.bLr.Z(this)})};gn.bLr=function(W){this.bn("onGetTermDto",W)};gn.ccM=function(bT,cBq){if(!eu.dK())return;this.bI({key:fD+bC,url:"TermDraftBean.publishChapter",param:[bT,cBq],onload:this.cBn.Z(this)})};gn.cBn=function(W){this.bn("onPublishChapter",W)};gn.bmU=function(rp,Rj){if(!eu.dK())return;this.bI({key:fD+bC,url:"MocAdminQuizBean.publishTest",param:[rp,Rj],onload:this.cBl.Z(this)})};gn.cBl=function(W){this.bn("onPublishTest",W)};gn.cBk=function(cBi){if(!eu.dK())return;this.bI({key:fD+bC,url:"TermDraftBean.appendChapterInfo",param:[cBi],onload:this.cBh.Z(this)})};gn.cBh=function(W){this.bn("onAppendChapterInfo",W)};gn.cBg=function(EP){if(!eu.dK())return;this.bI({key:fD+bC,url:"TermDraftBean.updateChapterInfo",param:[EP],onload:this.baS.Z(this)})};gn.baS=function(W){this.bn("onUpdateChapterInfo",W)};gn.cBc=function(EP){if(!eu.dK())return;this.bI({key:fD+bC,url:"TermDraftBean.deleteChapterInfo",param:[EP],onload:this.bLQ.Z(this)})};gn.bLQ=function(W){this.bn("onDeleteChapterInfo",W)};gn.cBb=function(rp){if(!eu.dK())return;this.bI({key:fD+bC,url:"TermDraftBean.appendLessonInfo",param:[rp],onload:this.cBa.Z(this)})};gn.cBa=function(W){this.bn("onAppendLessonInfo",W)};gn.cAV=function(rp){if(!eu.dK())return;this.bI({key:fD+bC,url:"TermDraftBean.updateLessonInfo",param:[rp],onload:this.cAS.Z(this)})};gn.cAS=function(W){this.bn("onUpdateLessonInfo",W)};gn.cAR=function(bT,cAQ,fa){this.bI({key:fD+bC,url:"CourseBean.getLessonInfo",param:[bT,cAQ,fa],onload:this.bMe.Z(this)})};gn.bMe=function(W){this.bn("ongetLessonUnits",W)};gn.ccH=function(rp){if(!eu.dK())return;this.bI({key:fD+bC,url:"TermDraftBean.deleteLessonInfo",param:[rp],onload:this.cAK.Z(this)})};gn.cAK=function(W){this.bn("onDeleteLessonInfo",W)};gn.bMk=function(lC,bmd){if(!eu.dK())return;var cG="TermDraftBean."+(!!lC.id?"updateLessonUnit":"appendLessonUnit");this.bI({key:fD+bC,url:cG,param:[lC],onload:this.bMp.Z(this,lC,bmd)})};gn.bMp=function(lC,bmd,W){if(bmd=="name"){this.bn("onappendLessonUnit",W,lC)}else if(bmd=="content"){this.bn("onupdateLessonUnitContent",W,lC)}else{this.bn("onupdateLessonUnitJsonContent",W,lC)}};gn.cAJ=function(lC){if(!eu.dK())return;this.bI({key:fD+bC,url:"TermDraftBean.deleteLessonUnit",param:[lC],onload:this.bMr.Z(this,lC)})};gn.bMr=function(W){this.bn("ondeleteLessonUnit",W)};gn.cAI=function(lC,jm){if(!eu.dK())return;this.bI({key:fD+bC,url:"TermDraftBean.moveLessonUnit",param:[lC,jm],onload:this.cAv.Z(this)})};gn.cAv=function(lC,W){this.bn("onmoveLessonUnit",W)};gn.blQ=function(wK,bMw){this.bI({key:fD+bC,url:"CourseBean.getLessonUnitPreviewVo",param:[wK,bMw],onload:this.cAu.Z(this)})};gn.cAu=function(W){this.bn("ongetLessonUnitPreviewVo",W)};gn.bMA=function(tW){if(!eu.dK())return;this.bI({key:fD+bC,url:"MocResourceBean.saveContentForResource",param:[tW],onload:this.Kt.Z(this,tW.type)})};gn.Kt=function(bay,W){this.bn("onsaveResource",W,bay)};gn.cAt=function(baw){if(!eu.dK())return;this.bI({key:fD+bC,url:"MocAdminQuizBean.generateLessonUnitTest",param:[baw],onload:this.blt.Z(this)})};gn.blt=function(W){this.bn("onGenerateLessonUnitTest",W)};gn.cAr=function(bT){this.bI({key:fD+bC,url:"MocSettingBean.getTermTutorialDto",param:[bT],onload:this.cAp.Z(this)})};gn.cAp=function(W){this.bn("onGetTermGuideData",W)};gn.bMV=function(bT,bz){this.bI({key:fD+bC,url:"TermDraftBean.getOnlineReleaseTime",param:[bT,bz],onload:this.Kp.Z(this)})};gn.Kp=function(W){this.bn("onGetOnlineReleaseTime",W)};gn.cAm=function(bT){this.bI({key:fD+bC,url:"TermCopyBean.getTermsForCopy",param:[bT],onload:this.cAk.Z(this)})};gn.cAk=function(W){this.bn("onGetTermsForCopy",W)};gn.cAj=function(CW,bNg){this.bI({key:fD+bC,url:"TermCopyBean.copyTerm",param:[CW,bNg],onload:this.cAi.Z(this)})};gn.cAi=function(W){this.bn("onCopyTerm",W)};gn.cAh=function(CW,bNg){this.bI({key:fD+bC,url:"TermCopyBean.copySpocTerm",param:[CW,bNg],onload:this.cAg.Z(this)})};gn.cAg=function(W){this.bn("onCopySpocTerm",W)};gn.bkZ=function(bT){this.bI({key:fD+bC,url:"TermCopyBean.watchCopyTermStatus",param:[bT],notShowLoading:true,onload:this.cAf.Z(this)})};gn.cAf=function(W){this.bn("onWatchCopyTermStatus",W)};gn.cAc=function(bT,CZ){this.bI({key:fD+bC,url:"CourseBean.validateTermPassword",param:[bT,CZ],onload:this.cAb.Z(this)})};gn.cAb=function(W){this.bn("onValidateTermPassword",W)}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),p=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bC=u.fb(),IB,bkU="ck-mocResourceCache";p.VZ=NEJ.C();IB=p.VZ.bt(p.hF);IB.bMA=function(tW,fs){if(!eu.dK())return;this.bI({key:bkU+bC,url:"MocResourceBean.saveContentForResource",param:[tW,fs],onload:this.Kt.Z(this,tW.type)})};IB.Kt=function(bay,W){this.bn("onsaveResource",W,bay)};IB.ccE=function(bT,bNC){this.bI({key:bkU+bC,url:"MocResourceBean.getAllVideoResourcePagination",param:[bT,bNC],onload:this.czZ.Z(this)})};IB.czZ=function(W){this.bn("ongetVideoResource",W)};IB.czV=function(bT){this.bI({key:bkU+bC,url:"MocResourceBean.getRecentUnusedVideos",param:[bT],onload:this.czU.Z(this)})};IB.czU=function(W){this.bn("ongetRecentUnusedVideos",W)};IB.czT=function(czO,fs,bT){if(!eu.dK())return;this.bI({key:bkU+bC,url:"MocResourceBean.deleteTargetVideo",param:[czO,fs,bT],onload:this.czM.Z(this)})};IB.czM=function(W){this.bn("ondeleteTargetVideo",W)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),yp,dn=e.bX('<div class="u-progress"><div class="j-xhrProg f-dn"><div class="f-cb proArea"><div class="j-pro proBg f-fl f-pr"><div class="j-progress progress f-pa"></div></div><span class="j-proNum proNum f-fl"></span><a class="j-cancel cancelBtn f-fr f-fc9">取消</a></div><div class="j-info f-cb info"><span class="f-fl f-ib"></span><span class="f-fr f-ib"></span></div></div><div class="j-hackProg hackProg f-cb f-dn"><div class="f-fl"></div><a class="j-cancel cancelBtn f-fl f-fc9">取消</a></div></div>');eu.IJ=NEJ.C();yp=eu.IJ.bt(eu.cq,!0);yp.bU=function(){this.bW=dn};yp.bL=function(){this.bO();this.bOd=e.bc(this.bb,"j-progress")[0];this.ccA=e.bc(this.bb,"j-cancel");this.bOf=e.bc(this.bb,"j-proNum")[0];this.cV=e.cJ(e.bc(this.bb,"j-info")[0]);this.ccz=this.cV[0];this.bOk=this.cV[1];this.ccy=e.bc(this.bb,"j-xhrProg")[0];this.bOm=e.bc(this.bb,"j-hackProg")[0];this.czE=e.cJ(this.bOm)[0];v.bd(this.ccA[0],"click",this.is.Z(this));v.bd(this.ccA[1],"click",this.is.Z(this))};yp.ZQ=function(W){var czD=this.VH(parseInt(W.timeStamp.toString().substr(0,13))-this.SN),czC=(W.loaded/1e6).toFixed(1),czB=((W.loaded-W.initOffset)/1e6).toFixed(1),bOw=(czB/czD).toFixed(2),ccx=Math.ceil(((W.total-W.loaded)/1e6).toFixed(2)/(bOw>0?bOw:1)),bOz=W.loaded/W.total*100,ccw=Math.ceil(bOz);this.ccz.innerText="已上传："+czC+"MB / 速度："+bOw+"M/s";this.bOk.innerText="剩余时间："+eu.cVD(ccx<=0?1:ccx);this.bOf.innerText=(ccw==100?99:ccw)+"%";this.bOd.style.width=(bOz==100?99:bOz)+"%"};yp.bOH=function(W){this.bOk.innerText="剩余时间：00:00:00";this.bOf.innerText="100%";this.bOd.style.width="100%"};yp.ccv=function(){this.bOd.style.width=0;this.ccz.innerText="已上传：0MB /0MB 速度：0M/s";this.bOk.innerText="剩余时间：00:00:00";this.bOf.innerText="0%"};yp.is=function(){this.bn("abort")};yp.czv=function(W){this.en();if("withCredentials"in new XMLHttpRequest){e.bZ(this.ccy,"f-dn");e.bK(this.bOm,"f-dn");this.SN=W.curTime}else{e.bK(this.ccy,"f-dn");e.bZ(this.bOm,"f-dn");this.gO=eu.cz.bh({parent:this.czE});this.gO.yD("上传中···")}};yp.VH=function(cQ){if(!!cQ&&cQ>0){return Math.ceil(cQ/1e3)>0?Math.ceil(cQ/1e3):1}else{return 1}};yp.en=function(){if(!!this.gO){this.gO=eu.cz.bg(this.gO)}this.ccv()};yp.bE=function(Y){this.bG(Y);this.ZM=Y.data;this.czv(this.ZM)};yp.bJ=function(){this.en();this.bN()}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),p=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bC=u.fb(),nJ,wQ="ck-courseTestCache";p.os=NEJ.C();nJ=p.os.bt(p.hF);nJ.VP=function(dZ,Rj){this.bI({key:wQ+bC,url:"MocAdminQuizBean.getTestDraft",param:[dZ,Rj],onload:this.czt.Z(this)})};nJ.czt=function(W){this.bn("onGetTestDraft",W)};nJ.bPe=function(IR,fo,bPh){if(!eu.dK())return;this.bI({key:wQ+bC,url:"MocAdminQuizBean.manageTestContentDraft",param:[IR,fo,bPh],onload:this.czs.Z(this,fo)})};nJ.czs=function(fo,W){this.bn("onManageTestContentDraft",fo,W)};nJ.qN=function(jq,fo){if(!eu.dK())return;this.bI({key:wQ+bC,url:"MocAdminQuizBean.manageQuestionDraft",param:[jq,fo],onload:this.czr.Z(this,fo)})};nJ.czr=function(fo,W){this.bn("onManageQuestionDraft",fo,W)};nJ.dkk=function(dZ,bPh,czi){this.bI({key:wQ+bC,url:"MocAdminQuizBean.validateTestDraft",param:[dZ,bPh,czi],onload:this.czh.Z(this)})};nJ.czh=function(W){this.bn("onValidateTestDraft",W)};nJ.dkl=function(rp){if(!eu.dK())return;this.bI({key:wQ+bC,url:"MocAdminQuizBean.updateTestReleaseTime",param:[rp],onload:this.czd.Z(this)})};nJ.czd=function(W){this.bn("onUpdateTestReleaseTime",W)};nJ.bkb=function(jq,baw,fo,czb){if(!eu.dK())return;this.bI({key:wQ+bC,url:"MocAdminQuizBean.manageAnchorQuestion",param:[jq,baw,fo,czb],onload:this.cza.Z(this,fo)})};nJ.cza=function(fo,W){this.bn("onManageAnchorQuestion",fo,W)};nJ.ccq=function(bT,mT){this.bI({key:wQ+bC,url:"MocAdminQuizBean.getEvaluateTrain",param:[bT,mT],onload:this.cyY.Z(this)})};nJ.cyY=function(W){this.bn("onGetEvaluateTrain",W)};nJ.dkm=function(jq,fo){if(!eu.dK())return;this.bI({key:wQ+bC,url:"MocAdminQuizBean.manageEvaluateTrainQuestion",param:[jq,fo],onload:this.cyW.Z(this,fo)})};nJ.cyW=function(fo,W){this.bn("onManageEvaluateTrainQuestion",fo,W)};nJ.cyV=function(bT){if(!eu.dK())return;this.bI({key:wQ+bC,url:"MocAdminQuizBean.publishEvaluateTrain",param:[bT],onload:this.cyU.Z(this)})};nJ.cyU=function(W){this.bn("onPublishEvaluateTrain",W)};nJ.bry=function(bvl,bT,bf){if(!eu.dK())return;this.bI({key:wQ+bC,url:"MocAdminQuizBean.getOjCaseTextContentByNoskey",param:[bvl,bT],onload:this.cyT.Z(this,bf)})};nJ.cyT=function(bf,W){W.index=bf;this.bn("onGetOjCaseTextContentByNoskey",W)}})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),u=NEJ.P("nej.u"),t=NEJ.P("nej.ut"),v=NEJ.P("nej.v"),eu=NEJ.P("edu.u"),ui=NEJ.P("nej.ui"),Dl,bQc;var dn=e.bX('<div class="f-cb u-option"><div class="f-cb top"><div class="f-fl j-index index">1</div><div class="f-fl j-content optContent"></div><div class="f-fl f-cb"><div class="isRight j-isRight"><input type="radio" class="answerradio j-answerradio" /><label class="answerlabel j-answerlabel">正确选项</label><input type="checkbox" class="answerradio j-answerbox" /><label class="answerlabel j-boxlabel">正确选项</label></div><a class="j-delete delete f-icon f-fc6" title="删除"></a></div></div><div class="j-addanaly addanaly f-f1 f-fc6">+添加解析</div><div class="j-analysis analysis"></div></div>');var wT=["A","B","C","D","E","F","G","H","I","J","K","L","M","N"];eu.oZ=NEJ.C();Dl=eu.oZ.bt(eu.cq,true);bQc=eu.oZ.cH;Dl.bU=function(){this.bW=dn};Dl.bL=function(){this.bO();this.dk=e.bc(this.bb,"j-index")[0];this.cyS=e.bc(this.bb,"j-content")[0];this.mD=e.bc(this.bb,"j-analysis")[0];this.bQm=e.bc(this.bb,"j-addanaly")[0];this.pk=e.bc(this.bb,"j-delete")[0];this.ccp=e.bc(this.bb,"j-isRight")[0];this.VA=e.bc(this.bb,"j-answerradio")[0];this.bQq=e.bc(this.bb,"j-answerlabel")[0];this.Vz=e.bc(this.bb,"j-answerbox")[0];this.bQs=e.bc(this.bb,"j-boxlabel")[0];v.bd(this.bQm,"click",this.cyO.Z(this))};Dl.cyO=function(){if(!!this.JN){if(!!this.Do){eu.bs(this.mD);this.Do=false}else{eu.bv(this.mD);this.Do=true}return}else{this.Do=true;this.JN=eu.cD.bh({parent:this.mD,height:55,width:677})}};Dl.qY=function(bf){if(!this.Dp){this.dk.innerText=bf+1}else{this.dk.innerText=wT[bf]}this.jX=bf};Dl.biA=function(){this.zp.content=this.NH.ca();if(!!this.JN){this.zp.analyse=this.JN.ca()}if(!!this.Dp){if(this.cm==eu.CONST.TYPE_OBJECTIVE_SINGLE){this.zp.answer=this.VA.checked?true:false}else if(this.cm==eu.CONST.TYPE_OBJECTIVE_MULTI){this.zp.answer=this.Vz.checked?true:false}}return this.zp};Dl.jK=function(Y){this.NH=ui.fG.bh({parent:this.cyS,content:this.zp.content,height:30});if(!!this.zp.analyse){this.JN=eu.cD.bh({parent:this.mD,height:55,width:677});this.JN.cZ(this.zp.analyse)}if(Y.indexNum>=0){this.jX=Y.indexNum;if(!!this.Dp){this.dk.innerText=wT[parseInt(Y.indexNum)]}else{this.dk.innerText=parseInt(Y.indexNum)+1}}if(!!Y.canDelete){v.bd(this.pk,"click",function(){this.bn("deleteOption",this.jX)}.Z(this));eu.bv(this.pk)}else{eu.bs(this.pk)}if(!!this.Dp){if(this.cm==eu.CONST.TYPE_OBJECTIVE_SINGLE){this.VA.checked=this.zp.answer?true:false;this.VA.setAttribute("name",this.FG);this.VA.setAttribute("id",this.FG+this.jX);this.bQq.setAttribute("for",this.FG+this.jX)}else if(this.cm==eu.CONST.TYPE_OBJECTIVE_MULTI){this.Vz.checked=this.zp.answer?true:false;this.Vz.setAttribute("name",this.FG);this.Vz.setAttribute("id",this.FG+this.jX);this.bQs.setAttribute("for",this.FG+this.jX)}}};Dl.bE=function(Y){this.bG(Y);this.Do=false;this.zp=Y.optionDto||{};this.Dp=Y.isVideoTest||false;if(!!this.Dp){this.cm=Y.questionType;this.FG=Y.nameRandom;eu.bv(this.ccp);eu.bs(this.bQm);if(this.cm==eu.CONST.TYPE_OBJECTIVE_SINGLE){eu.bv(this.VA);eu.bv(this.bQq);eu.bs(this.Vz);eu.bs(this.bQs)}else if(this.cm==eu.CONST.TYPE_OBJECTIVE_MULTI){eu.bs(this.VA);eu.bs(this.bQq);eu.bv(this.Vz);eu.bv(this.bQs)}}else{eu.bs(this.ccp);eu.bv(this.bQm);this.zp.answer=Y.isRightAnswer||false}this.jK(Y)};Dl.gi=function(){if(!!this.NH){this.NH=ui.fG.bg(this.NH)}if(!!this.JN){this.JN=eu.cD.bg(this.JN)}};Dl.bJ=function(){this.gi();this.bN()};Dl.bix=function(){eu.bs(this.pk)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,u=NEJ.P("nej.u"),e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),NN;eu.bir=NEJ.C();NN=eu.bir.bt(eu.cq,true);NN.bL=function(){this.bO()};NN.JL=f;NN.bix=function(){if(!!this.jy&&this.jy.length){for(var i=0;i<this.jy.length;i++){if(!!this.jy[i]){this.jy[i].bix()}}}if(!!this.jA&&this.jA.length){for(var i=0;i<this.jA.length;i++){if(!!this.jA[i]){this.jA[i].bix()}}}};NN.ccn=function(){var kL=[],qm=[];if(!!this.ng){var hY=this.ng.ze();if(!!hY&&!!hY.length){for(var j=0;j<hY.length;j++){var fA=hY[j].split("@")[0];var cG=hY[j].split("@")[1];kL.push(cG);qm.push(fA)}}}if(!!this.jy&&!!this.jy.length){for(var i=0;i<this.jy.length;i++){var hY=this.jy[i].NH.ze();if(!!hY&&!!hY.length){for(var j=0;j<hY.length;j++){var fA=hY[j].split("@")[0];var cG=hY[j].split("@")[1];kL.push(cG);qm.push(fA)}}}}if(!!this.jA&&!!this.jA.length){for(var i=0;i<this.jA.length;i++){var hY=this.jA[i].NH.ze();if(!!hY&&!!hY.length){for(var j=0;j<hY.length;j++){var fA=hY[j].split("@")[0];var cG=hY[j].split("@")[1];kL.push(cG);qm.push(fA)}}}}if(!!this.bRd&&!!this.bRd.length){for(var i=0;i<this.bRd.length;i++){var hY=this.bRd[i].NH.ze();if(!!hY&&!!hY.length){for(var j=0;j<hY.length;j++){var fA=hY[j].split("@")[0];var cG=hY[j].split("@")[1];kL.push(cG);qm.push(fA)}}}}return{photoUrls:kL,gids:qm}};NN.bE=function(Y){this.bG(Y);if(!!this.us){eu.bs(this.us.parentNode)}};NN.bJ=function(){this.bN()}})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),u=NEJ.P("nej.u"),t=NEJ.P("nej.ut"),v=NEJ.P("nej.v"),eu=NEJ.P("edu.u"),ui=NEJ.P("nej.ui"),yK,cyK;var cyE=e.dL('<div class="f-cb u-judge"><div class="score j-score f-cb"><span class="scoreinfo j-score f-f0">分值：</span><input type="text" class="j-scoreIpt scoreIpt" disabled value="2"/><label class="scoretext">分</label><a href="" class="j-scorehref" target="_blank">修改题型分值</a></div><div class="testinfo f-cb"><p class="f-f0 tipinfo j-tipinfo">1.请填写问题题干</p><div class="j-content content"></div><p class="f-f0 tipinfo j-tipinfo">2.指定题目答案</p><div class="choice"><input type="radio" name="${fill.name}" id="${fill.id1}" class="j-choiceradio choiceradio" /><label for="${fill.id1}" class="choicelabel j-choicelabel">正确</label><input type="radio" name="${fill.name}" id="${fill.id2}" class="j-choiceradio choiceradio" /><label for="${fill.id2}" class="choicelabel j-choicelabel">错误</label></div><div class="j-addAnaly addanaly">+添加解析</div><div class="j-analysis analysis"></div></div></div>');var dn;eu.boL=NEJ.C();yK=eu.boL.bt(eu.bir,true);cyK=eu.boL.cH;yK.bcs=function(){var Qc={};Qc.name=u.mF(9),Qc.id1=u.mF(9),Qc.id2=u.mF(9);dn=e.bX(e.bS(cyE,{fill:Qc}));this.bW=dn};yK.bU=function(){this.bW=dn};yK.bL=function(){this.bO();this.DQ=e.bc(this.bb,"j-score")[0];this.qk=e.bc(this.bb,"j-tipinfo");this.fJ=e.bc(this.bb,"j-content")[0];this.Od=e.bc(this.bb,"j-addAnaly")[0];this.mD=e.bc(this.bb,"j-analysis")[0];this.Oe=e.bc(this.bb,"j-choiceradio");this.cyB=e.bc(this.bb,"j-choicelabel");this.us=e.bc(this.bb,"j-scoreIpt")[0];this.Vr=e.bc(this.bb,"j-scorehref")[0];v.bd(this.Od,"click",this.bRt.Z(this))};yK.bRt=function(){if(!!this.um){if(!!this.Do){eu.bs(this.mD);this.Do=false}else{eu.bv(this.mD);this.Do=true}}else{this.Do=true;this.um=eu.cD.bh({parent:this.mD,height:55,width:703})}};yK.JL=function(da){this.ce.title=this.ng.ca();var bhj={},bhf={};bhj.content="正确";bhf.content="错误";if(!!this.Oe[0].checked){bhj.answer=true;bhf.answer=false}else{bhj.answer=false;bhf.answer=true}if(!!this.ce.optionDtos){NEJ.EX(this.ce.optionDtos[0],bhj);NEJ.EX(this.ce.optionDtos[1],bhf)}else{this.ce.optionDtos=[];this.ce.optionDtos.push(bhj);this.ce.optionDtos.push(bhf)}if(!this.Dp){this.ce.score=this.us.value;if(!!this.um){this.ce.analyse=this.um.ca()}}if(!!da){if(!!this.rN())return this.ce;else{return null}}else{return this.ce}return this.ce};yK.rN=function(){if(!this.ce.title||this.ce.title==""){eu.showToastTips({type:2,content:"题目题干不能为空"});return false}return true};yK.jK=function(){this.Vr.href="#"+eu.umi("termPublishSettingScore");this.ng=ui.fG.bh({parent:this.fJ,content:this.ce.title,height:99});if(!!this.ce.optionDtos){if(!!this.ce.optionDtos[0].answer){this.Oe[0].checked=true}else{this.Oe[1].checked=true}}else{this.Oe[0].checked=true}if(!this.Dp){if(!!this.ce.analyse){this.um=eu.cD.bh({parent:this.mD,content:this.ce.analyse,height:55,width:703})}this.us.value=g.objectiveScore.judge||2;this.us.disabled=true;eu.bv(this.Od);this.qk[1].innerText="2.填写题目答案及解析"}else{eu.bs(this.DQ);eu.bs(this.Od);this.qk[1].innerText="2.填写题目答案"}};yK.Om=function(){var ch=u.mF(9);for(var i=0;i<this.Oe.length;i++){this.Oe[i].setAttribute("name",ch);var dr=u.mF(9);this.Oe[i].setAttribute("id",dr);this.cyB[i].setAttribute("for",dr)}};yK.bE=function(Y){this.bG(Y);this.ce=Y.questionDto||{};this.ce.type=eu.CONST.TYPE_OBJECTIVE_JUDGE;this.Dp=Y.isVideoTest||false;this.Do=false;this.jK();this.Om()};yK.gi=function(){if(!!this.ng){this.ng=ui.fG.bg(this.ng)}if(!!this.um){this.um=eu.cD.bg(this.um)}};yK.bJ=function(){this.gi();this.bN()}})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),u=NEJ.P("nej.u"),t=NEJ.P("nej.ut"),v=NEJ.P("nej.v"),eu=NEJ.P("edu.u"),ui=NEJ.P("nej.ui"),vq,bQc;var dn=e.bX('<div class="f-cb u-simoption"><div class="f-cb top"><div class="f-fl j-content content"></div><div class="f-fl f-cb"><a class="j-delete delete f-icon f-fc6" title="删除"></a></div><div class="f-fl tipOr j-topOr">或</div></div></div>');var wT=["A","B","C","D","E","F","G","H","I","J","K","L","M","N"];eu.Oo=NEJ.C();vq=eu.Oo.bt(eu.cq,true);bQc=eu.Oo.cH;vq.bU=function(){this.bW=dn};vq.bL=function(){this.bO();this.fJ=e.bc(this.bb,"j-content")[0];this.pk=e.bc(this.bb,"j-delete")[0];this.ccl=e.bc(this.bb,"j-topOr")[0]};vq.biA=function(){if(!!this.FI){var Vp=this.FI.ca()}return Vp};vq.jK=function(Y){this.FI=eu.cD.bh({parent:this.fJ,height:38,width:553,labelText:Y.labelText||"",content:Y.content||""});if(!!Y.canDelete){v.bd(this.pk,"click",function(){this.bn("deleteOption")}.Z(this));eu.bv(this.pk)}else{eu.bs(this.pk)}if(!!Y.showOrTip){eu.bv(this.ccl)}else{eu.bs(this.ccl)}};vq.dkn=function(eT){this.FI.Uw(eT||"")};vq.bE=function(Y){this.bG(Y);this.zp=Y.optionDto||{};this.jK(Y)};vq.gi=function(){if(!!this.FI){this.FI=eu.cD.bg(this.FI)}};vq.ud=function(){this.FI.ud()};vq.oI=function(){this.FI.oI()};vq.Uw=function(eT){this.FI.Uw(eT)};vq.cZ=function(eT){this.FI.cZ(eT||"")};vq.bJ=function(){this.gi();this.bN()};vq.bix=function(){eu.bs(this.pk)}})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),u=NEJ.P("nej.u"),t=NEJ.P("nej.ut"),v=NEJ.P("nej.v"),eu=NEJ.P("edu.u"),ui=NEJ.P("nej.ui"),qd,cyy;var dn=e.bX('<div class="f-cb u-fillblank"><div class="score j-score f-cb"><span class="scoreinfo f-f0">分值：</span><input type="text" class="j-scoreIpt scoreIpt" disabled value="2"/><label class="scoretext">分</label><a href="" class="j-scorehref" target="_blank">修改题型分值</a></div><div class="testinfo f-cb"><p class="f-f0 tipinfo j-tipinfo">1.请填写问题题干</p><div class="j-content content"></div><p class="f-f0 tipinfo j-tipinfo">2.填写题目答案及解析</p><div class="blank f-cb"><div class="filltype"><span class="filltypeinfo f-f0">答案类型</span><input type="radio" class="j-typeradio typeradio" /><label class="typelabel j-typelabel">数值精确</label><input type="radio" class="j-typeradio typeradio" /><label class="typelabel j-typelabel">文字精确</label><input type="radio" class="j-typeradio typeradio" /><label class="typelabel j-typelabel">数值模糊</label><input type="radio" class="j-typeradio typeradio" /><label class="typelabel j-typelabel">文字模糊</label></div><div class="j-answer answer"><div class="oneAns f-cb"><div class="f-fl left"><input type="radio" class="j-ansradio ansradio"/><label class="j-anslabel anslabel">答案唯一</label></div><div class="f-fl right j-oneAnsIpt"></div></div><div class="moreAns f-cb"><div class="f-fl left"><input type="radio" class="j-ansradio ansradio"/><label class="j-anslabel anslabel">答案不唯一</label></div><div class="f-fl right f-cb"><div class="j-morAnsIpt"></div><div class="j-addAns addAns">+添加答案</div></div></div></div><div class="j-answer answer"></div></div><div class="j-addAnaly addanaly">+添加解析</div><div class="j-analysis analysis"></div></div></div>');var bnP=["请录入一个数字格式的答案，学生答题时必须完全一致，才会被判断答题正确。","请录入一个文本格式的答案，学生答题时必须完全一致，才会被判断答题正确。","请录入一个数字区间答案，如：(1,10)、[1,10)、(1,10]、[1,10]，学生答题时只要填入的数值在区间包含内，即会被判断答题正确。","请录入一个文本格式的关键字答案，学生答题时只要填入的答案包含了这个关键字，即会被判断答题正确。"];var bnK=eu.CONST.FILL_BLANK_SPLITCHAR;var bRP="!#$&*%";eu.bnm=NEJ.C();qd=eu.bnm.bt(eu.bir,true);cyy=eu.bnm.cH;qd.bU=function(){this.bW=dn};qd.bL=function(){this.bO();this.DQ=e.bc(this.bb,"j-score")[0];this.qk=e.bc(this.bb,"j-tipinfo");this.fJ=e.bc(this.bb,"j-content")[0];this.cci=e.bc(this.bb,"j-answer")[0];this.bRT=e.bc(this.bb,"j-answer")[1];this.Od=e.bc(this.bb,"j-addAnaly")[0];this.mD=e.bc(this.bb,"j-analysis")[0];this.iT=e.bc(this.bb,"j-typeradio");this.bgN=e.bc(this.bb,"j-typelabel");this.us=e.bc(this.bb,"j-scoreIpt")[0];this.Vr=e.bc(this.bb,"j-scorehref")[0];this.va=e.bc(this.bb,"j-ansradio");this.cyt=e.bc(this.bb,"j-anslabel");this.cys=e.bc(this.bb,"j-oneAnsIpt")[0];this.bSa=e.bc(this.bb,"j-morAnsIpt")[0];this.cyr=e.bc(this.bb,"j-addAns")[0];v.bd(this.Od,"click",this.bRt.Z(this));u.bw(this.va,function(bo,bf){v.bd(bo,"click",function(){this.bgM(bf==0)}.Z(this))}.Z(this));u.bw(this.iT,function(bo,bf){v.bd(bo,"click",function(){this.ccf(bf)}.Z(this))}.Z(this));v.bd(this.cyr,"click",this.cyl.Z(this))};qd.bRt=function(){if(!!this.um){}else{this.Do=true;this.um=eu.cD.bh({parent:this.mD,height:55,width:703})}};qd.JL=function(da){this.ce.title=this.ng.ca();for(var i=0;i<this.iT.length;i++){if(!!this.iT[i].checked){this.ce.fillblankType=i+1}}if(!this.Dp){this.ce.score=this.us.value;if(!!this.um){this.ce.analyse=this.um.ca()}}this.cyh();if(!!da){if(!!this.rN())return this.ce;else{return null}}else{return this.ce}};qd.cyh=function(){if(this.ce.fillblankType==1||this.ce.fillblankType==2){if(this.va[0].checked){this.ce.stdAnswer=this.JZ.ca()}else{var Af=[];for(var i=0;i<this.nR.length;i++){if(!!this.nR[i]){var Vp=this.nR[i].biA();Vp=!Vp?bRP:Vp;Af.push(Vp)}}this.ce.stdAnswer=Af.join(bnK)}}else{this.ce.stdAnswer=this.Vh.ca()}};qd.rN=function(){if(!this.ce.title||this.ce.title==""){eu.showToastTips({type:2,content:"题目题干不能为空"});return false}if(!this.ce.stdAnswer||this.ce.stdAnswer==""){eu.showToastTips({type:2,content:"题目答案不能为空"});return false}if(this.ce.fillblankType==1&&this.va[0].checked){if(!this.ce.stdAnswer.match("^[+-]?\\d+\\.?\\d*$")){eu.showToastTips({type:2,content:"数值输入格式不匹配"});return false}}else if(this.ce.fillblankType==1&&this.va[1].checked){var Af=this.ce.stdAnswer.split(bnK);for(var i=0;i<Af.length;i++){if(Af[i]==bRP){eu.showToastTips({type:2,content:"第"+(i+1)+"个答案数值为空"});return false}else if(!Af[i].match("^[+-]?\\d+\\.?\\d*$")){eu.showToastTips({type:2,content:"第"+(i+1)+"个答案数值输入格式不匹配"});return false}}}else if(this.ce.fillblankType==2&&this.va[0].checked){if(!this.ce.stdAnswer){eu.showToastTips({type:2,content:"答案内容不能为空"});return false}}else if(this.ce.fillblankType==2&&this.va[1].checked){var Af=this.ce.stdAnswer.split(bnK);for(var i=0;i<Af.length;i++){if(Af[i]==bRP){eu.showToastTips({type:2,content:"第"+(i+1)+"个答案为空"});return false}}}else if(this.ce.fillblankType==3){if(!this.ce.stdAnswer.match(/[\[\(]-{0,1}\d+\.{0,1}\d*,-{0,1}\d+\.{0,1}\d*[\]\)]/)){eu.showToastTips({type:2,content:"数值输入格式不匹配"});return false}}return true};qd.cyg=function(){this.Vh=eu.cD.bh({parent:this.bRT,labelText:bnP[2],width:703,height:68});this.JZ=eu.cD.bh({parent:this.cys,labelText:bnP[0],width:603,height:48});for(var i=0;i<2;i++){var bfZ=eu.Oo.bh({parent:this.bSa,width:603,height:48,labelText:"",showOrTip:true});this.nR.push(bfZ)}if(!!this.ce.stdAnswer){if(this.ce.fillblankType==3||this.ce.fillblankType==4){this.Vh.cZ(this.ce.stdAnswer);this.va[0].checked=true;this.bgM(true)}else{var blO=this.ce.stdAnswer.split(bnK);if(blO.length==1){this.va[0].checked=true;this.JZ.cZ(blO[0]);this.bgM(true)}else{this.va[1].checked=true;u.bw(blO,function(bo,bf){if(bf<2){this.nR[bf].cZ(bo)}else{var bfZ=eu.Oo.bh({parent:this.bSa,width:603,height:48,labelText:"",canDelete:true,content:blO[bf],deleteOption:this.ccd.Z(this,bf)});this.nR.push(bfZ)}}.Z(this));this.bgM(false)}}}else{this.va[0].checked=true;this.bgM(true)}};qd.cyl=function(){if(!!this.va[0].checked)return;var bfZ=eu.Oo.bh({parent:this.bSa,width:603,height:48,labelText:"",content:"",canDelete:true,deleteOption:this.ccd.Z(this,this.nR.length)});this.nR.push(bfZ)};qd.ccd=function(bf){if(!!this.nR[bf]){this.nR[bf]=eu.Oo.bg(this.nR[bf])}};qd.bgM=function(da){if(!!da){for(var i=0;i<this.nR.length;i++){!!this.nR[i]&&this.nR[i].ud()}this.JZ.oI()}else{for(var i=0;i<this.nR.length;i++){!!this.nR[i]&&this.nR[i].oI()}this.JZ.ud()}};qd.jK=function(){this.Vr.href="#"+eu.umi("termPublishSettingScore");this.ng=ui.fG.bh({parent:this.fJ,content:this.ce.title,height:99});if(!this.Dp){if(!!this.ce.analyse){this.um=eu.cD.bh({parent:this.mD,content:this.ce.analyse,height:55,width:703})}this.us.value=g.objectiveScore.blank||2;this.us.disabled=true;eu.bv(this.Od);this.qk[1].innerText="2.填写题目答案及解析"}else{eu.bs(this.DQ);eu.bs(this.Od);this.qk[1].innerText="2.填写题目答案"}};qd.Om=function(){var ch=u.mF(9);for(var i=0;i<this.iT.length;i++){this.iT[i].setAttribute("name",ch);var dr=u.mF(9);this.iT[i].setAttribute("id",dr);this.bgN[i].setAttribute("for",dr)}var ch=u.mF(9);for(var i=0;i<this.va.length;i++){this.va[i].setAttribute("name",ch);var dr=u.mF(9);this.va[i].setAttribute("id",dr);this.cyt[i].setAttribute("for",dr)}};qd.ccf=function(bf){switch(bf){case 0:case 1:this.iT[bf].checked=true;eu.bv(this.cci);eu.bs(this.bRT);this.ccc(bf);break;case 2:case 3:this.iT[bf].checked=true;eu.bs(this.cci);eu.bv(this.bRT);this.ccc(bf);break}this.ce.fillblankType=bf+1};qd.ccc=function(bf){if(bf==0||bf==1){this.JZ.Uw(bnP[bf])}else{this.Vh.Uw(bnP[bf])}};qd.bE=function(Y){this.bG(Y);this.ce=Y.questionDto||{};this.ce.type=eu.CONST.TYPE_OBJECTIVE_FILLBLANK;this.ce.fillblankType=this.ce.fillblankType||1;this.nR=[];this.Dp=Y.isVideoTest||false;this.Do=false;this.cyg();this.jK();this.Om();this.ccf(this.ce.fillblankType-1)};qd.gi=function(){if(!!this.ng){this.ng=ui.fG.bg(this.ng)}if(!!this.Vh){this.Vh=eu.cD.bg(this.Vh)}if(!!this.JZ){this.JZ=eu.cD.bg(this.JZ)}for(var i=0;i<this.nR.length;i++){if(!!this.nR[i]){this.nR[i]=eu.Oo.bg(this.nR[i])}}if(!!this.um){this.um=eu.cD.bg(this.um)}};qd.bJ=function(){this.gi();this.bN()}})();
(function(){var o=NEJ.O,g=window,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),d=NEJ.P("edu.d"),u=NEJ.P("nej.u"),eu=NEJ.P("edu.u"),ON,cv=e.dA(".#<uispace> .status{color: #ec681e;}"),dn=e.bX('<div class="j-statusall statusall"><p class="j-status status"></p><p class="j-statusinfo statusinfo f-fc9"></p></div>');eu.Dc=NEJ.C();ON=eu.Dc.bt(eu.cq,true);ON.bU=function(){this.bW=dn;this.ds=cv};ON.bL=function(){this.bO();this.jZ=e.bc(this.bb,"j-status")[0];this.Ve=e.bc(this.bb,"j-statusinfo")[0]};ON.bE=function(Y){this.bG(Y);var eN=Y.status;this.ja(eN)};ON.ja=function(eN){switch(eN){case eu.CONST.DRAFT_STATUS_CREATE:this.jZ.innerText="尚未发布";this.Ve.innerText="尚未发布，在前端页面上还不能看到相应信息";break;case eu.CONST.DRAFT_STATUS_PUBLISHED:this.jZ.innerText="已发布";this.Ve.innerText="已发布后如果有内容的更新，需要再次点击“发布”进行发布";break;case eu.CONST.DRAFT_STATUS_MODIFIED:this.jZ.innerText="有修改，尚未发布";this.Ve.innerText="点击“发布”后才能在前端页面看到你编辑好的内容";break;case eu.CONST.DRAFT_STATUS_DELETED:break;default:this.jZ.innerText="尚未发布";this.Ve.innerText="尚未发布，在前端页面上还不能看到相应信息";break}};ON.ccb=function(eN){switch(eN){case eu.CONST.TERMSTATUS_UNDECIDED:this.jZ.innerText="等待审核";this.Ve.innerText="首次发布需要经过编辑审核，审核通过后用户才能看到课程";break;case eu.CONST.TERMSTATUS_AUDIT_FAIL:this.jZ.innerText="审核未通过";this.Ve.innerText="首次发布需要经过编辑审核，审核通过后用户才能看到课程";break}};ON.bJ=function(){this.bN()}})();
(function(){var bp=NEJ.P,bq=bp("nej.ut"),bM;if(!!bq.tQ)return;bq.tQ=NEJ.C();bM=bq.tQ.bt(bq.bhs);bM.bE=function(Y){Y=NEJ.X({},Y);Y.timing="easeout";this.bG(Y)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),tP;eu.OV=NEJ.C();tP=eu.OV.bt(eu.cq,!0);tP.bU=function(){this.bW=dn};tP.bL=function(){this.bO();this.fD=new d.rq;this.tM=new d.VZ;this.tM.bd("onsaveResource",this.Kt.Z(this));this.fD.bd("ongetLessonUnitPreviewVo",this.OX.Z(this))};tP.Kl=f;tP.cca=f;tP.zP=f;tP.OX=f;tP.dko=function(){};tP.bkJ=function(cC){this.bn("switchEditorNot",cC)};tP.Kt=function(W,bay){if(!!W){if(bay==eu.CONST.LESSONUNIT_VIDEO_SRT){this.Kl(this.fw)}else{this.tG.id=W.id;this.bn("onsaveALU",W)}}};tP.cxV=function(W){this.bn("onSaveJsonContent",W)};tP.UZ=function(W){this.tM.bMA(W,this.hI)};tP.bvp=function(wK,bz){this.fD.blQ(wK,bz)};tP.bE=function(Y){this.bG(Y);this.fw=Y.data;this.hI=Y.courseId;this.RT=Y.supportAnchor||false;this.tG={};if(!!this.fw){this.zP(!!this.fw.contentId)}};tP.bJ=function(){this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,b=NEJ.P("nej.p"),e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),j=NEJ.P("nej.j"),d=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),ly,cxR;eu.buv=NEJ.C();ly=eu.buv.bt(eu.cq,true);cxR=eu.buv.cH;ly.bL=function(){this.Bh=u.fb(2);this.mQ=NEJ.P("edu.u.FlashVideoPlayer"+this.Bh);this.bO();this.NY()};ly.NY=function(){this.mQ.playEndHandle=this.cxP.Z(this);this.mQ.anchorHandle=this.bvv.Z(this);this.mQ.changeVolume=this.cxN.Z(this);this.mQ.changeMute=this.cxM.Z(this);this.mQ.seek=this.cxL.Z(this);this.mQ.selectResolution=this.cxK.Z(this);this.mQ.logInfo=this.cxI.Z(this);this.mQ.trackPlayClick=this.cxH.Z(this);this.mQ.trackConnectTime=this.cxG.Z(this);this.mQ.onCutComplete=this.cxF.Z(this);this.mQ.onCutError=this.cxE.Z(this);this.mQ.onCutProgress=this.cxD.Z(this)};ly.dkr=function(cP){this.dks(function(){if(!cP){return}this.EK=cP;this.lO.cutVideo({onComplete:"onCutComplete",onError:"onCutError",onProgress:"onCutProgress",uploadUrl:cP.uploadUrl||"http://upload.photo.163.com/anony/web/upload/userdefinesize?sitefrom=imooc&responsetype=xml&userdefinesize=600x400x0;"})}.Z(this))};ly.cxF=function(W){if(!!this.EK&&this.EK.onComplete){this.EK.onComplete(W)}};ly.cxE=function(W){if(!!this.EK&&this.EK.onError){this.EK.onError(W)}};ly.cxD=function(W){if(!!this.EK&&this.EK.onProgress){this.EK.onProgress(W)}};ly.cxH=function(){this.bn("onPlay")};ly.cxG=function(btF){this.bn("onWait",btF)};ly.cxK=function(HP){this.bn("onChangeQuality",HP)};ly.cxN=function(EB){this.bn("onChangeVolume",EB)};ly.cxM=function(btA){this.bn("onChangeMute",btA)};ly.cxL=function(gK){this.bn("onSeek",gK)};ly.cxI=function(fY){eu.es("video","error",fY);if(!!console&&!!console.log){console.log(fY)}};ly.cxP=function(){this.bn("onPlayEnd")};ly.bvv=function(W){this.bn("onAnchorPoint",W)};ly.dG=function(){this.lO&&this.lO.nejstop()};ly.cbU=function(){this.lO&&this.lO.pause()};ly.Gw=function(){this.lO&&this.lO.nejplay()};ly.bec=function(){return!!this.lO?this.lO.getPosition():null};ly.cbT=function(beV){this.lO&&this.lO.seekTime(beV)};ly.US=function(){return this.lO.getState()};ly.bJ=function(){delete this.lO;delete this.EK;this.bN()};ly.bE=function(Y){var zm=Y.videoInfo;e.Jm({src:g.imageUrlMap.image_video_swf,width:"100%",height:"100%",parent:Y.parent,params:{wmode:"transparent",allowscriptaccess:"always",allowFullScreen:!Y.notAllowFullScreen,flashvars:"namespace=edu.u.FlashVideoPlayer"+this.Bh+"&host="+location.protocol+"//"+location.host+"&staticHost=http://"+g.moocStaticHost+"&isAutoPlay="+zm.autoStart+"&volume="+zm.videoVolume+"&mute="+!zm.hasVolume},onready:function(lM){this.lO=lM;this.bn("onLoad")}.Z(this)});this.bG(Y)};ly.VV=function(zm){this.lO&&this.lO.load(zm)}})();
(function(){var fP=window.eduPlayer||{};fP.u={};fP.u.f=function(){};fP.u.log=function(str){var logNode=document.getElementById("eventLog");if(logNode)logNode.innerHTML=logNode.innerHTML+str+"<br/>"};fP.u.toString=Object.prototype.toString;fP.u.trim=function(str){return(str||"").replace(/(^\s*)|(\s*$)/g,"")};fP.u.isFunction=function(fn){return fP.u.toString.call(fn)==="[object Function]"};fP.u.slice=Array.prototype.slice;fP.u.hasOwnProperty=Object.prototype.hasOwnProperty;fP.u.stringify=function(Object){return JSON.stringify(Object)};fP.u.isEmpty=function(obj){for(var p in obj){if(p!==undefined&&fP.u.hasOwnProperty.call(obj,p)){return false}}return true};fP.u.extend=function(obj1,obj2){if(!obj2)return obj1;for(var p in obj2){if(fP.u.hasOwnProperty.call(obj2,p)){obj1[p]=obj2[p]}}return obj1};fP.u.extend(Function.prototype,function(){function bind(context){if(arguments[0]===undefined)return this;if(!fP.u.isFunction(this)){throw new TypeError("Context must be function")}var AJ=this;var args=fP.u.slice.call(arguments,1);var returnFn=function(){var a=args.contact(arguments);return AJ.apply(context,a)};var f=function(){};f.prototype=this.prototype;returnFn.prototype=new f;return returnFn}return{bind:bind}});fP.u.C=function(){var eA=function(){return this.jH.apply(this,arguments)};eA.pro=eA.prototype;eA.extend=function(superClass){if(!fP.u.isFunction(superClass)){throw new TypeError("SuperClass must be a function")}var cbS=function(){};cbS.prototype=superClass.prototype;this.prototype=new cbS;var uJ=this.prototype;uJ.constructor=this;if(uJ.jH===undefined){uJ.jH=fP.u.f}this.prototype.rC=superClass.prototype;this.superClass=superClass;return uJ};return eA};fP.u.createEl=function(tagName,attrs){var el=document.createElement(tagName||"div");if(attrs){for(var p in attrs){if(fP.u.hasOwnProperty.call(attrs,p)){el[p]=attrs[p]}}}return el};fP.u.T=function(tag,ele){ele=!!ele[0]?ele[0]:ele||document;return!tag?null:ele.getElementsByTagName(tag)};fP.u.each=function(obj,fn,context){var length=obj.length,isObj,name;isObj=length===undefined||fP.u.isFunction(obj);if(isObj){for(name in obj){if(fn.call(context||this,name,obj[name])===false){break}}}else{for(var i=0;i<length;i++){if(fn.call(context||this,i,obj[i])===false){break}}}return obj};fP.u.getById=function(id){return document.getElementById(id)||null};fP.u.getByClassName=function(classname,ele,tag){var returns=[];ele=ele||document;tag=tag||"*";if(ele.getElementsByClassName){var eles=ele.getElementsByClassName(classname);if(tag!="*"){for(var i=0,l=eles.length;i<l;i++){if(eles[i].tagName.toLowerCase()==tag.toLowerCase()){returns.push(eles[i])}}}else{returns=eles}}else{var classname=this.trim(classname);var eles=fP.u.T(tag,ele);var reg=new RegExp("(^|\\b)"+classname+"(\\b|$)");for(var i=0,l=eles.length;i<l;i++){var tagclass=eles[i].className;reg.test(tagclass)&&returns.push(eles[i])}}return returns};fP.u.before=function(targetEle,newEle){if(targetEle.nodeType&&targetEle.parentNode)targetEle.parentNode.insertBefore(newEle,targetEle)};fP.u.after=function(targetEle,newEle){var parent=targetEle.parentNode;if(parent.lastChild==targetEle){parent.appendChild(newEle)}else{parent.insertBefore(newEle,targetEle.nextSibling)}};fP.u.hasClassName=function(ele,className){var classes=ele.className;if(!classes)return false;if(classes==className)return true;return ele.className.search("\\b"+className+"\\b")!=-1};fP.u.addClassName=function(ele,className){if(this.hasClassName(ele,className))return;if(ele.className||ele.className==""){className=" "+className;ele.className=this.trim(ele.className)+className}};fP.u.delClassName=function(ele,className){if(typeof ele=="string"){ele=document.getElementById(ele)}ele.className=ele.className.replace(new RegExp("\\b"+className+"\\b\\s*"),"")};fP.u.getChildren=function(ele){if(typeof ele=="string"){ele=document.getElementById(ele)}if(ele.children){return this.slice.call(ele.children,0)}else{var bF=[];for(var i=0;i<bA.childNodes;i++){if(bA.childNodes[i].nodeType==1){bF.push(bA.childNodes[i])}}return bF}};fP.u.on=function(ele,event,handler){if(ele.addEventListener){ele.addEventListener(event,handler,false)}else if(ele.attachEvent){ele.attachEvent("on"+event,handler)}};fP.u.off=function(ele,event,handler){if(ele.removeEventListener){ele.removeEventListener(event,handler,false)}else if(ele.detachEvent){ele.detachEvent("on"+event,handler)}};fP.u.getEvent=function(event){if(document.all)return window.event;var func=this.getEvent.caller;while(func!=null){var arg0=func.arguments[0];if(arg0){if(arg0.constructor==Event||arg0.constructor==MouseEvent||typeof arg0=="object"&&arg0.preventDefault&&arg0.stopPropagation){return arg0}}func=func.caller}return null};fP.u.stopEvent=function(e,preventDefault,stopPropagation){var preventDefault=preventDefault==undefined?true:preventDefault;var stopPropagation=stopPropagation==undefined?true:stopPropagation;var e=e||window.event;if(!e){e=getEvent()}if(!e){return null}if(preventDefault){if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}}if(stopPropagation){if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}}return e};fP.u.getMousePos=function(e){if(!e){e=getEvent()}if(e.pageX||e.pageY){return{x:e.pageX,y:e.pageY}}if(document.documentElement&&document.documentElement.scrollTop){return{x:e.clientX+document.documentElement.scrollLeft-document.documentElement.clientLeft,y:e.clientY+document.documentElement.scrollTop-document.documentElement.clientTop}}if(document.body){return{x:e.clientX+document.body.scrollLeft-document.body.clientLeft,y:e.clientY+document.body.scrollTop-document.body.clientTop}}};fP.u.getScrollX=function(){if(typeof window.pageXOffset=="number"){return window.pageXOffset}var d=document.documentElement;if(d&&typeof d.scrollLeft=="number"){return d.scrollLeft}var b=document.body;if(b&&typeof b.scrollLeft=="number"){return b.scrollLeft}return 0};fP.u.getScrollY=function(){if(typeof window.pageYOffset=="number"){return window.pageYOffset}var d=document.documentElement;if(d&&typeof d.scrollTop=="number"){return d.scrollTop}var b=document.body;if(b&&typeof b.scrollTop=="number"){return b.scrollTop}return 0};fP.u.getStyle=function(ele,sty){var cxs=window.getComputedStyle(ele,null)||ele.currentStyle;return cxs[sty]};fP.u.setStyle=function(ele,sty,value){ele.style[sty]=value};fP.u.getElePos=function(){if(document.documentElement.getBoundingClientRect){return function(ele){var box=ele.getBoundingClientRect();return{x:box.left+fP.u.getScrollX(),y:box.top+fP.u.getScrollY()}}}else{return function(ele){var x=0,y=0;if(!!window.opera){do{x+=ele.offsetLeft;y+=ele.offsetTop}while(ele=ele.offsetParent)}else{do{x+=ele.offsetLeft+parseInt(getStyle(ele,"border-left-width"));y+=ele.offsetTop+parseInt(getStyle(ele,"border-top-width"))}while(ele=ele.offsetParent)}return{x:x,y:y}}}}();fP.u.offset=function(elem){var box={top:0,left:0},doc=elem&&elem.ownerDocument,docElem=doc.documentElement;if(elem.getBoundingClientRect){box=elem.getBoundingClientRect()}return{top:box.top+(window.pageYOffset||docElem.scrollTop)-(docElem.clientTop||0),left:box.left+(window.pageXOffset||docElem.scrollLeft)-(docElem.clientLeft||0)}};fP.u.loadImg=function(url,callback){var img=new Image;img.src=url;if(img.complete){callback(img,img.width,img.height);return}img.onload=function(){img.onload=null;callback(img,img.width,img.height)}};fP.u.isTypeOf=function(W,bz){bz=bz.toLowerCase();if(W===null)return bz=="null";if(W===undefined)return bz=="undefined";return this.toString.call(W).toLowerCase()=="[object "+bz+"]"};fP.u.ajax=function(conf){var type=conf.type;var url=conf.url;var data=conf.data;var dataType=conf.dataType;var success=conf.success;var createAjax=function(){var xhr=null;try{xhr=new ActiveXObject("microsoft.xmlhttp")}catch(e1){try{xhr=new XMLHttpRequest}catch(e2){window.alert("您的浏览器不支持ajax，请更换！")}}return xhr};if(type==null){type="get"}if(dataType==null){dataType="text"}var xhr=createAjax();xhr.open(type,url,true);if(type=="GET"||type=="get"){xhr.send(null)}else if(type=="POST"||type=="post"){xhr.setRequestHeader("content-type","application/x-www-form-urlencoded");xhr.send(data)}xhr.onreadystatechange=function(){if(xhr.readyState==4&&xhr.status==200){if(dataType=="text"||dataType=="TEXT"){if(success!=null){success(xhr.responseText)}}else if(dataType=="xml"||dataType=="XML"){if(success!=null){success(xhr.responseXML)}}else if(dataType=="json"||dataType=="JSON"){if(success!=null){success(eval("("+xhr.responseText+")"))}}}}};fP.u.formatTime=function(mf){var hour,min,sec;sec=Math.floor(mf%60);sec=sec>=10?sec:"0"+sec;min=Math.floor(mf/60);min=min>=10?min:"0"+min;hour=Math.floor(mf/3600);if(hour==0){return min+" : "+sec}else{hour=hour>=10?hour:"0"+hour;return hour+" : "+min+" : "+sec}};window.eduPlayer=fP})();
(function(){var co=eduPlayer;var cxp=window.logConfig||{};var bsH=function(cxo){return!!cxp[cxo]&&!!console};var fY=function(cT){if(!bsH("info"))return;console.log("[INFO]"+cT)};var cxj=function(cT){if(!bsH("warn"))return;console.log("[WARN]"+cT)};var jR=function(cT){if(!bsH("error"))return;console.log("[ERROR]"+cT)};var cxg=function(cT,cP){if(!bsH("infoObj")||!console.table)return;if(cP!=undefined){console.log("[INFO]"+cT);console.table(cP)}else{console.table(cT)}};co.logUtil={info:fY,warn:cxj,error:jR,infoObj:cxg}})();
(function(){var co=eduPlayer;co.defaultPlayerConfig={autoPlay:true,volume:.8,mute:false,videoRetio:16/9,qualityList:{SD:"标清",HD:"高清",SHD:"超清"}};co.CONST={SUBTITLE_CN:"中文",SUBTITLE_OTHER:"外文"};window.logConfig={info:true,warn:true,error:true,infoObj:true}})();
(function(){eduPlayer.dispatcher=eduPlayer.u.C();var dpro=eduPlayer.dispatcher.pro;dpro.jH=function(){this.qe={};return this};dpro.qG=function(){if(!!this.sQ){this.sQ.style.display="block"}return this};dpro.cxe=function(){if(!!this.sQ){this.sQ.style.display="none"}return this};dpro.kc=function(event,handler){if(!eduPlayer.u.isFunction(handler)){throw new TypeError("Event handler must be a function")}this.qe[event]=handler;return this};dpro.dkt=function(event,handler){this.kc(event,function(e){handler.call(this,e);this.cwY(event,arguments.callee)});return this};dpro.dku=function(event){if(event===undefined){return!eduPlayer.isEmpty(this.qe)}else{var e=this.qe[event];return e!==undefined}};dpro.cwY=function(event,handler){eduPlayer.each(this.qe,function(eventName,fn){if(eventName===event){if(handler!==undefined&&handler==fn){this.qe[eventName]=undefined;delete this.qe[eventName]}}},this);return this};dpro.cwT=function(){this.qe={}};dpro.gw=function(event,data){var handler=this.qe[event];if(handler!==undefined){var e={type:event,data:data===null||data===undefined?{}:data};return handler.call(this,e)}else{return}}})();
(function(){var co=eduPlayer;co.stringUtil={formatTime:function(qz){qz=qz||0;var kf=parseInt(qz/60);var Dq=parseInt(qz%60);return(kf<10?"0"+kf:kf)+":"+(Dq<10?"0"+Dq:Dq)}}})();
(function(){var co=eduPlayer;co.controlBar=co.u.C();var vpro=co.controlBar.extend(co.dispatcher);vpro.jH=function(){this.rC.jH.apply(this,arguments);if(!arguments[0])return;this.ff=arguments[0];this.lT=arguments[1];this.bdW();this.GH();this.KN=true;this.cbM=false;this.bqM=0};vpro.bdW=function(){this.Gu=co.u.getByClassName("j-controlBar-progressBar",this.ff)[0];this.bdJ=co.u.getByClassName("j-controlBar-selectTime",this.ff)[0];this.cwR=co.u.getByClassName("j-controlBar-bufferBar",this.ff)[0];this.bwG=co.u.getByClassName("j-controlBar-timeBar",this.ff)[0];this.bwH=co.u.getByClassName("j-controlBar-timeIcon",this.ff)[0];this.cbL=co.u.getByClassName("j-controlBar-optArea",this.ff)[0];this.vJ=co.u.getByClassName("j-controlBar-playBtn",this.ff)[0];this.UO=co.u.getByClassName("j-controlBar-pauseBtn",this.ff)[0];this.cbK=co.u.getByClassName("j-controlBar-time",this.ff)[0];this.cwL=co.u.getByClassName("j-controlBar-totalTime",this.ff)[0];this.dkv=co.u.getByClassName("j-controlBar-volume",this.ff)[0];this.bdi=co.u.getByClassName("j-controlBar-volume-mute",this.ff)[0];this.boU=co.u.getByClassName("j-controlBar-volume-slide",this.ff)[0];this.bda=co.u.getByClassName("j-controlBar-volume-total",this.ff)[0];this.cbH=co.u.getByClassName("j-controlBar-volume-icon",this.ff)[0];this.cbG=co.u.getByClassName("j-controlBar-volume-current",this.ff)[0];this.bwV=co.u.getByClassName("j-controlBar-fullScreenBtn",this.ff)[0];this.bcY=co.u.getByClassName("j-controlBar-quality",this.ff)[0];this.cbF=co.u.getByClassName("j-controlBar-qualityBtn",this.ff)[0];this.cbE=co.u.getByClassName("j-controlBar-quality-other",this.ff)[0];this.cbD=co.u.getByClassName("j-controlBar-rate",this.ff)[0];this.bxb=co.u.getByClassName("j-controlBar-rateBtn",this.ff)[0];this.boE=co.u.getByClassName("j-controlBar-rate-items",this.ff);this.cbC=co.u.getByClassName("j-controlBar-subtitle",this.ff)[0];this.bot=co.u.getByClassName("j-controlBar-subtitleBtn",this.ff)[0];this.bxf=co.u.getByClassName("j-controlBar-subtitle-other",this.ff)[0];this.UO.style.display="none"};vpro.GH=function(){co.u.on(this.ff,"mouseenter",this.bcP.bind(this,true));co.u.on(this.ff,"mouseleave",this.bcP.bind(this,false));co.u.on(this.ff,"mousemove",this.cwx.bind(this));co.u.on(this.Gu,"click",this.cww.bind(this));co.u.on(this.Gu,"mouseenter",this.bxj.bind(this,true));co.u.on(this.Gu,"mousemove",this.bxj.bind(this,true));co.u.on(this.Gu,"mouseleave",this.bxj.bind(this,false));this.cwv();co.u.on(this.vJ,"click",this.bxm.bind(this));co.u.on(this.UO,"click",this.cwu.bind(this));co.u.on(this.bdi,"click",this.cwt.bind(this));co.u.on(this.bwV,"click",this.cws.bind(this));co.u.on(this.bcY,"mouseenter",this.UK.bind(this,true));co.u.on(this.bcY,"mouseleave",this.UK.bind(this,false));co.u.on(this.cbD,"mouseenter",this.UK.bind(this,true));co.u.on(this.cbD,"mouseleave",this.UK.bind(this,false));co.u.each(this.boE,function(cL,bB){co.u.on(bB,"click",this.cbB.bind(this,cL))}.bind(this));co.u.on(this.cbC,"mouseenter",this.UK.bind(this,true));co.u.on(this.cbC,"mouseleave",this.UK.bind(this,false))};vpro.cwx=function(){if(!this.bxA){this.bxA=true;this.bcP(true)}};vpro.bcP=function(Dw){this.gw(co.viewEvent.VIEW_TOGGLE_CONTROLBAR,Dw);if(!!this.bxD){this.bxD=clearTimeout(this.bxD)}if(Dw){co.u.delClassName(this.ff,"noCover");co.u.delClassName(this.cbL,"over");this.bxD=window.setTimeout(function(){this.bcP(false);if(!!this.bxA){this.bxA=false}}.bind(this),1e4)}else{co.u.addClassName(this.ff,"noCover");co.u.addClassName(this.cbL,"over");co.u.addClassName(this.bdJ,"hide")}};vpro.cww=function(e){if(!this.KN)return;var Cg=co.u.getMousePos(e).x-co.u.getElePos(this.Gu).x;if(Cg>=0){this.bwG.style.width=Cg+"px";this.bwH.style.left=Cg+"px";var bq=Math.floor(Cg/this.Gu.offsetWidth*this.Cv);this.gw(co.viewEvent.VIEW_SEEK,{position:bq})}};vpro.bxj=function(da,e){if(!this.KN)return;e.stopPropagation();var Cg=co.u.getMousePos(e).x-co.u.getElePos(this.Gu).x,bxF=this.Gu.offsetWidth;if(da&&!!this.Cv){if(Cg>=0){var bq=Math.ceil(Cg/bxF*this.Cv);co.u.delClassName(this.bdJ,"hide");this.bdJ.innerText=co.u.formatTime(bq);var ht=Cg-22>0?bxF-Cg<47?bxF-47:Cg-22:Cg;co.u.setStyle(this.bdJ,"left",ht+"px")}}else{co.u.addClassName(this.bdJ,"hide")}};vpro.bxm=function(e){if(!this.KN)return;this.gw(co.viewEvent.VIEW_PLAY)};vpro.cwu=function(e){if(!this.KN)return;this.gw(co.viewEvent.VIEW_PAUSE)};vpro.cwt=function(e){if(this.lT.volume==0){if(!!this.bxH&&this.bxH>0){this.setVolume(this.bxH);this.bdi.innerHTML=""}}else{this.bxH=this.lT.volume;this.setVolume(0);this.bdi.innerHTML=""}};vpro.setVolume=function(val,isInit){val=val<0?0:val;val=val>1?1:val;this.lT.volume=val;if(this.lT.volume==0){this.bdi.innerHTML=""}else{this.bdi.innerHTML=""}if(!isInit){this.gw(co.viewEvent.VIEW_VOLUME,{volume:val})}this.cwo(val)};vpro.cwo=function(nL){var bxL=co.u.getStyle(this.bda,"height").split("px")[0],bxM=bxL-bxL*nL,bmv=0;bmv=co.u.getStyle(this.cbH,"height").split("px")[0];bmv=Math.round(bxM-bmv/2);co.u.setStyle(this.cbH,"top",bmv+"px");co.u.setStyle(this.cbG,"height",bxL-bxM+"px");co.u.setStyle(this.cbG,"top",bxM+"px")};vpro.cwv=function(){var bxP=false,nL=null,Dw=false;var bda=this.bda;var cbz=function(e){var bxR=co.u.offset(bda),cby=co.u.getStyle(bda,"height").split("px")[0],cwl=e.pageY-bxR.top;nL=(cby-cwl)/cby;if(bxR.top===0||bxR.left===0){return}nL=Math.max(0,nL);nL=Math.min(nL,1)};co.u.on(document,"mousemove",function(e){e.stopPropagation();if(bxP){cbz(e);this.setVolume(nL)}}.bind(this));co.u.on(this.boU,"mousedown",function(e){bxP=true;cbz(e);this.setVolume(nL)}.bind(this));co.u.on(this.boU,"mouseup",function(e){bxP=false});co.u.on(this.boU,"mouseenter",function(e){Dw=true});co.u.on(this.boU,"mouseleave",function(e){Dw=false});co.u.on(document,"keydown",function(e){e.stopPropagation();var cbx=e.keyCode;if(!!Dw){var nL=this.lT.volume;switch(cbx){case 38:nL+=.1;break;case 40:nL=nL-.1;break;default:return true}nL=Math.max(0,nL);nL=Math.min(nL,1);this.setVolume(nL);return false}var gK=null;switch(cbx){case 37:gK-=5;break;case 39:gK+=5;break;case 32:this.gw(co.viewEvent.VIEW_TOGGLEPLAY);break;default:return true}if(!!gK){gK=gK+this.gK;gK=Math.max(0,gK);gK=Math.min(gK,this.Cv);this.gw(co.viewEvent.VIEW_SEEK,{position:gK})}return false}.bind(this))};vpro.cws=function(e){this.gw(co.viewEvent.VIEW_FULLSCREEN)};vpro.UK=function(da,bj){if(!this.KN)return;bj.stopPropagation();if(da){co.u.addClassName(bj.currentTarget,"unfold")}else{co.u.delClassName(bj.currentTarget,"unfold")}};vpro.cwj=function(cL){var bB=this.bxW[cL];this.cbF.innerHTML=bB.innerHTML;co.u.each(this.bxW,function(cL,bB){co.u.delClassName(bB,"selected")}.bind(this));co.u.addClassName(bB,"selected");this.gw(co.viewEvent.VIEW_QUALITY_CHANGE,bB.getAttribute("type"))};vpro.cbB=function(cL){var bB=this.boE[cL];this.bxb.innerHTML=bB.getAttribute("rate")+"x";co.u.each(this.boE,function(cL,bB){co.u.delClassName(bB,"selected")}.bind(this));co.u.addClassName(bB,"selected");this.gw(co.viewEvent.VIEW_RATE_CHANGE,bB.getAttribute("rate"))};vpro.setRate=function(sx){co.u.each(this.boE,function(cL,bB){if(bB.getAttribute("rate")==sx){this.cbB(cL)}}.bind(this))};vpro.cwi=function(bf,bj){if(!this.KN)return;bj.stopPropagation();if(co.u.hasClassName(this.bbj[bf],"selected")){co.u.delClassName(this.bbj[bf],"selected")}else{co.u.addClassName(this.bbj[bf],"selected")}this.gw(co.viewEvent.VIEW_TRACK_CHANGE,this.bbj[bf].getAttribute("type"))};vpro.setTrackList=function(fy){if(!!fy.trackFiles&&fy.trackFiles.length>0){var dN="",ch="";for(var cL in fy.trackFiles){if(!!fy.trackFiles[cL].url){if(fy.trackFiles[cL].name==co.CONST.SUBTITLE_CN){ch="中文"}else if(fy.trackFiles[cL].name==co.CONST.SUBTITLE_OTHER){ch="外文"}dN+='<li type="'+fy.trackFiles[cL].name+'" class="selected"><span>&#149; </span>'+ch+"</li>"}}this.bxf.innerHTML=dN;this.bbj=co.u.getChildren(this.bxf);co.u.each(this.bbj,function(cL,bB){co.u.on(bB,"click",this.cwi.bind(this,cL))}.bind(this));this.toggleTrackSwitch(true)}else{this.bxf.innerHTML="";this.toggleTrackSwitch(false)}};vpro.toggleTrackSwitch=function(cC){if(!!cC){this.cbw=true;co.u.delClassName(this.bot,"disable")}else{this.cbw=false;co.u.addClassName(this.bot,"disable")}};vpro.setState=function(isPlay){if(!!isPlay){this.vJ.style.display="none";this.UO.style.display="block"}else{this.vJ.style.display="block";this.UO.style.display="none"}};vpro.updateTime=function(position){this.gK=position;if(!!this.Cv&&this.Cv>0){this.cbK.innerHTML=co.stringUtil.formatTime(position).replace(/:/," : ");var NL=position/this.Cv;this.bwG.style.width=NL*100+"%";this.bwH.style.left=NL*100+"%"}else{this.cbK.innerHTML=co.stringUtil.formatTime(0);this.bwG.style.width=0;this.bwH.style.left=0}};vpro.setTotalTime=function(time,fy){this.Cv=time;this.cwL.innerHTML=co.stringUtil.formatTime(time).replace(/:/," : ");if(!!fy&&!!fy.anchorList&&!!fy.anchorList.length){this.cwg(fy.anchorList)}};vpro.updateBuffer=function(bufferPercent){var NL=bufferPercent;this.cwR.style.width=NL*100+"%"};vpro.changeFullScreenMode=function(){if(!this.cbv){this.bwV.innerHTML="";this.cbv=true;this.bcP(true)}else{this.bwV.innerHTML="";this.cbv=false}};vpro.enableControlBar=function(){this.KN=true;co.u.delClassName(this.vJ,"disable");co.u.delClassName(this.UO,"disable");co.u.delClassName(this.bxb,"disable");if(this.cbw){co.u.delClassName(this.bot,"disable")}if(this.bqM!=1){co.u.delClassName(this.bcY,"disable")}};vpro.disableControlBar=function(){this.KN=false;co.u.addClassName(this.vJ,"disable");co.u.addClassName(this.UO,"disable");co.u.addClassName(this.bxb,"disable");co.u.addClassName(this.bcY,"disable");co.u.addClassName(this.bot,"disable")};vpro.setQualityList=function(fy){if(!fy||!fy.movieList)return;this.cbF.innerHTML=co.defaultPlayerConfig.qualityList[fy.defaultQuality];var dN="";this.bqM=0;for(var cL in fy.movieList){if(!!fy.movieList[cL].urls[0]){this.bqM++;var eA=fy.defaultQuality==cL?'class="selected"':"";dN+='<li type="'+cL+'" '+eA+">"+co.defaultPlayerConfig.qualityList[cL]+"</li>"}}this.cbE.innerHTML=dN;if(this.bqM==1){co.u.addClassName(this.bcY,"disable")}this.bxW=co.u.getChildren(this.cbE);co.u.each(this.bxW,function(cL,bB){co.u.on(bB,"click",this.cwj.bind(this,cL))}.bind(this))};vpro.cwg=function(anchorList){if(this.cbM)return;this.cbM=true;var dN="";co.u.each(anchorList,function(index,obj){dN+='<span class="anchor f-pa" style="left:'+obj.time/this.Cv*100+'%"></span>'}.bind(this));var yP=co.u.createEl("div");yP.innerHTML=dN;this.Gu.appendChild(yP)}})();
(function(){eduPlayer.playerStates={IDLE:"IDLE",PLAYING:"PLAYING",BUFFERING:"BUFFERING",PAUSE:"PAUSED"}})();
(function(){var bm=eduPlayer;bm.player=bm.u.C();var ppro=bm.player.extend(bm.dispatcher);ppro.jH=function(){this.rC.jH.apply(this,arguments);this.ff=arguments[0];this.mz=bm.u.getByClassName("j-mediaNode",this.ff)[0];this.lT=arguments[1];this.cbu=0;this.cbs=0;this.byk=-1;this.bkW=false;this.byp=false};ppro.GH=function(){this.gP.kc(bm.playerStateEvent.PLAYER_STATE,this.bys.bind(this));bm.u.each(bm.mediaEvent,function(index,item){this.gP.kc(item,this.byt.bind(this))},this)};ppro.byt=function(e){if(e.type==bm.mediaEvent.MEDIA_QUALITY_CHANGE&&this.bkW){e.data=this.buz}this.gw(e.type,e.data);if(e.type==bm.mediaEvent.MEDIA_TIME&&this.bkW){if(this.byk!=e.data.currentTime){this.byk=e.data.currentTime}else{return}this.cvZ(e)}};ppro.bys=function(e){this.gw(e.type,e.data)};ppro.setMediaData=function(mediaData){this.fy=mediaData;this.btr=false;this.cbq=false;this.destroy();if(this.fy.mediaType=="video"){var cvV=new bm.html5VideoMedia(this.mz);this.gP=cvV}else if(this.fy.mediaType=="audio"){var cvU=new bm.html5AudioMedia(this.mz);this.gP=cvU}else{this.gw(bm.playerEvent.PLAYER_ERROR,{msg:"不支持的媒体类型"});return}this.GH();this.gP.bulid(this.lT)};ppro.load=function(ad){if(this.gP&&this.fy){if(this.fy.mediaType=="video"){this.loadMovie()}else if(this.fy.mediaType=="audio"){this.loadAudio()}else{return}}};ppro.loadMovie=function(quality){if(this.gP&&this.fy){this.btr=true;if(!quality){quality={type:this.fy.defaultQuality,start:this.fy.start}}this.buz=quality.type;this.byB=quality;var gY="?vId="+this.fy.videoId;if(!!this.fy.bizId){gY+="&bizType=0&bizId="+this.fy.bizId}bm.u.ajax({type:"get",url:"/video/getVideoAuthorityTokenV2.htm"+gY,success:function(W){var Fn=this.fy.movieList[this.buz];for(var i=0;i<Fn.urls.length;i++){Fn.urls[i]=Fn.urls[i].split("?key")[0];Fn.urls[i]+="?key="+W||""}this.cvT(Fn,quality)}.bind(this)})}};ppro.cvT=function(Fn,quality){if(!!this.byp){Fn.start=0;this.byp=false}else{Fn.start=quality.start}Fn.isSeek=quality.isSeek||false;if(!!this.cbq){this.gP.pause()}else{this.gP.stop()}this.gP.load(Fn);if(!!this.cbp){this.changeRate(this.cbp)}};ppro.changeQuality=function(quality){if(this.buz==quality.type){return}this.cbq=true;this.buz=quality.type;this.loadMovie(quality)};ppro.seekHandler=function(data){this.byB.start=data.position;this.byB.isSeek=true;this.loadMovie(this.byB,data)};ppro.changeRate=function(rate){if(this.gP){this.cbp=rate;this.gP.rate(rate)}};ppro.loadAudio=function(){if(this.gP&&this.fy){this.btr=true;this.gP.stop();this.gP.load(this.fy.audioList)}};ppro.showPoster=function(){if(!!this.gP&&this.fy.mediaType=="video"){this.gP.setPoster(this.fy.posterUrl)}};ppro.play=function(){if(this.gP){if(!this.btr){this.load()}else{this.gP.play()}}};ppro.rePlay=function(){this.byp=true;this.load()};ppro.pause=function(){if(this.gP)this.gP.pause()};ppro.togglePlay=function(){if(this.gP){if(!this.btr){this.load()}else{this.gP.togglePlay()}}};ppro.stop=function(){if(this.gP)this.gP.stop()};ppro.seek=function(pos){if(this.gP){this.gP.seek(pos);this.gP.play()}};ppro.volume=function(val){if(this.gP){this.gP.volume(val);if(val==0){this.gw(bm.exportEvent.CHANGE_MUTE,true)}else{this.gw(bm.exportEvent.CHANGE_VOLUME,val)}}};ppro.mute=function(mute){if(this.gP){this.gP.mute(mute);if(!muted){this.gw(bm.exportEvent.CHANGE_MUTE,true)}}};ppro.getState=function(){if(this.gP)return this.gP.state()};ppro.getTime=function(){return this.byk};ppro.handlerMovie=function(){if(this.gP){if(!!this.lT.beforePlay&&!!this.fy.beforeadMovie&&!!this.fy.beforeadMovie[this.cbu]){this.gP.load(this.fy.beforeadMovie[this.cbu++])}else{if(!this.bkW){this.bkW=true;this.load()}else{if(!!this.fy.afteradMovie){if(!!this.fy.afteradMovie[this.cbs]){this.gP.load(this.fy.afteradMovie[this.cbs++])}}}}}};ppro.fullScreenHandler=function(e){if(!!this.brq){this.byH()}else{this.cvQ()}};ppro.mobileMode=function(){this.gP.mobileMode()};ppro.destroy=function(){if(!!this.gP){this.gP.stop();this.gP.remove();this.gP=null;bm.logUtil.info("destroy")}};ppro.cvQ=function(){this.brq=true;if(!this.cvP){document.onfullscreenchange=this.byK.bind(this);document.onwebkitfullscreenchange=this.byK.bind(this);document.onmozfullscreenchange=this.byK.bind(this);this.cvP=true}if(bm.u.isFunction(this.ff.requestFullScreen)){this.ff.requestFullScreen()}else if(bm.u.isFunction(this.ff.webkitRequestFullScreen)){this.ff.webkitRequestFullScreen()}else if(bm.u.isFunction(this.ff.mozRequestFullScreen)){this.ff.mozRequestFullScreen()}else{this.cvO()}};ppro.byH=function(){this.brq=false;if(bm.u.isFunction(document.exitFullscreen)){document.exitFullscreen()}else if(bm.u.isFunction(document.webkitCancelFullScreen)){document.webkitCancelFullScreen()}else if(bm.u.isFunction(document.mozCancelFullScreen)){document.mozCancelFullScreen()}else{this.cvK()}};ppro.cvO=function(){bm.u.on(document,"keydown",this.cbm.bind(this));bm.u.addClassName(document.body,"player-body-fullWindow");bm.u.addClassName(this.ff,"player-player-fullWindow");this.gw(bm.playerEvent.FULLSCREEN_CHANGE)};ppro.cvK=function(){bm.u.off(document,"keydown",this.cbm.bind(this));bm.u.delClassName(document.body,"player-body-fullWindow");bm.u.delClassName(this.ff,"player-player-fullWindow");this.gw(bm.playerEvent.FULLSCREEN_CHANGE)};ppro.byK=function(event){this.gw(bm.playerEvent.FULLSCREEN_CHANGE)};ppro.cbm=function(event){event=bm.u.getEvent(event);if(event.keyCode===27){if(this.brq==true){this.byH()}}};ppro.cvZ=function(e){if(!this.fy.anchorList||!this.fy.anchorList.length)return;this.fy.anchorList.forEach(function(anchorObj,index){if(e.data.currentTime==anchorObj.anchor){this.gw(bm.exportEvent.ANCHOR_TRIGGER,anchorObj);if(this.gP){this.gP.pause();if(this.brq==true){this.byH()}}}}.bind(this))}})();
(function(){var bm=eduPlayer;bm.playerEvent={PLAYER_ERROR:"playerError",FULLSCREEN_CHANGE:"fullScreenChange"}})();
(function(){var bm=eduPlayer;bm.playerStateEvent={PLAYER_STATE:"playerState"}})();
(function(){var bm=eduPlayer;bm.exportEvent={ANCHOR_TRIGGER:"onAnchor",NOT_SUPPORT:"onNotSupport",PLAY_END:"onPlayEnd",SEEK:"onSeek",CHANGE_MUTE:"onChangeMute",CHANGE_VOLUME:"onChangeVolume",CHANGE_QUALITY:"onChangeQuality",CHANGE_RATE:"onChangeRate",PLAY:"onPlay"}})();
(function(hjv){var bm=eduPlayer;bm.mediaEvent={MEDIA_META:"mediaMeta",MEDIA_BEFORE_PLAY:"mediaBeforePlay",MEDIA_QUALITY_CHANGE:"mediaQualityChange",MEDIA_RATE_CHANGE:"mediaRateChange",MEDIA_BUFFER:"mediaBuffer",MEDIA_BUFFER_FULL:"mediaBufferFull",MEDIA_TIME:"mediaTime",MEDIA_ERROR:"mediaError",MEDIA_COMPLETE:"mediaComplete",MEDIA_VOLUME:"mediaVolume",MEDIA_SEEK:"mediaSeek",MEDIA_AUTO_SEEK:"mediaSeek",MEDIA_PLAY:"mediaPlay"}})();
(function(){var co=eduPlayer;co.centralController=co.u.C();var cpro=co.centralController.extend(co.dispatcher);cpro.jH=function(){this.rC.jH.apply(this,arguments);if(!arguments[0])return;this.iD=arguments[0];this.pA=arguments[1];this.ES=0;this.cvH();this.byW()};cpro.cvH=function(){this.iD.kc(co.playerStateEvent.PLAYER_STATE,this.bys.bind(this));this.iD.kc(co.playerEvent.FULLSCREEN_CHANGE,this.cvF.bind(this));co.u.each(co.mediaEvent,function(index,item){this.iD.kc(item,this.byt.bind(this))},this)};cpro.byW=function(){co.u.each(co.viewEvent,function(index,item){this.pA.kc(item,this.Re.bind(this))},this)};cpro.bys=function(e){var newState=e.data.newState;var oldState=e.data.oldState;switch(newState){case co.playerStates.IDLE:this.pA.showIdle();break;case co.playerStates.PLAYING:this.pA.setPlayerState(true,this.Rf);break;case co.playerStates.BUFFERING:this.pA.showLoading();break;case co.playerStates.PAUSE:this.pA.setPlayerState(false);break}};cpro.cvF=function(e){switch(e.type){case co.playerEvent.FULLSCREEN_CHANGE:this.pA.changeFullScreenMode();break}};cpro.byt=function(e){switch(e.type){case co.mediaEvent.MEDIA_BEFORE_PLAY:this.iD.handlerMovie();break;case co.mediaEvent.MEDIA_QUALITY_CHANGE:this.gw(co.exportEvent.CHANGE_QUALITY,e.data);break;case co.mediaEvent.MEDIA_META:this.Rf=e.data.isAdMovie;this.cbk=e.data.adLink;!this.Rf&&this.pA.setTotalTime(e.data.duration);break;case co.mediaEvent.MEDIA_TIME:!this.Rf&&this.pA.updateTime(e.data.currentTime);this.ES=e.data.currentTime;break;case co.mediaEvent.MEDIA_BUFFER:!this.Rf&&this.pA.updateBuffer(e.data.bufferPercent);break;case co.mediaEvent.MEDIA_BUFFER_FULL:break;case co.mediaEvent.MEDIA_ERROR:co.u.log('[MediaEvent type="'+e.type+'" data="'+co.u.stringify(e.data)+'"]');break;case co.mediaEvent.MEDIA_COMPLETE:this.iD.handlerMovie();this.pA.setPlayEndState(this.Rf);this.Rf=false;this.gw(co.exportEvent.PLAY_END);break;case co.mediaEvent.MEDIA_VOLUME:this.pA.setVolume(e.data.volume,e.data.isInit);break;case co.mediaEvent.MEDIA_PLAY:this.gw(co.exportEvent.PLAY);break;case co.mediaEvent.MEDIA_RATE_CHANGE:this.gw(co.exportEvent.CHANGE_RATE,e.data);break}};cpro.Re=function(e){if(!this.Rf){switch(e.type){case co.viewEvent.VIEW_PLAY:this.iD.play();break;case co.viewEvent.VIEW_REPLAY:this.iD.rePlay();break;case co.viewEvent.VIEW_PAUSE:this.iD.pause();break;case co.viewEvent.VIEW_TOGGLEPLAY:this.iD.togglePlay();break;case co.viewEvent.VIEW_SEEK:this.iD.seekHandler(e.data);this.gw(co.exportEvent.SEEK,e.data.position);break;case co.viewEvent.VIEW_VOLUME:this.iD.volume(e.data.volume);break;case co.viewEvent.VIEW_FULLSCREEN:this.iD.fullScreenHandler();break;case co.viewEvent.VIEW_QUALITY_CHANGE:this.iD.changeQuality({type:e.data,start:this.ES});break;case co.viewEvent.VIEW_RATE_CHANGE:this.iD.changeRate(e.data);break;case co.viewEvent.VIEW_TRACK_CHANGE:this.pA.toggleTrackChange(e.data);case co.viewEvent.VIEW_TOGGLE_CONTROLBAR:this.pA.toggleTrackStyle(e.data);break}}else{switch(e.type){case co.viewEvent.VIEW_OPENADLINK:if(!!this.cbk){window.open(this.cbk,"_blank")}break;case co.viewEvent.VIEW_VOLUME:this.iD.volume(e.data.volume);break;case co.viewEvent.VIEW_FULLSCREEN:this.iD.fullScreenHandler();break}}}})();
(function(){var bY=eduPlayer;bY.display=bY.u.C();var vpro=bY.display.extend(bY.dispatcher);vpro.jH=function(){this.rC.jH.apply(this,arguments);if(!arguments[0])return;this.ff=arguments[0];this.bdW();this.GH()};vpro.bdW=function(){this.cvx=bY.u.getByClassName("j-display",this.ff)[0];this.vJ=bY.u.getByClassName("j-display-playBtn",this.ff)[0];this.dkz=bY.u.getByClassName("j-display-playIcon",this.ff)[0];this.ZN=bY.u.getByClassName("j-display-replayBtn",this.ff)[0];this.dkA=bY.u.getByClassName("j-display-replayIcon",this.ff)[0];this.Rk=bY.u.getByClassName("j-display-loading",this.ff)[0]};vpro.GH=function(){bY.u.on(this.cvx,"click",this.cvs.bind(this));bY.u.on(this.vJ,"click",this.bxm.bind(this));bY.u.on(this.ZN,"click",this.cvm.bind(this))};vpro.cvs=function(e){this.gw(bY.viewEvent.VIEW_TOGGLEPLAY);this.gw(bY.viewEvent.VIEW_OPENADLINK)};vpro.bxm=function(e){bY.u.stopEvent(e);this.vJ.style.display="none";this.ZN.style.display="none";this.gw(bY.viewEvent.VIEW_PLAY)};vpro.cvm=function(e){bY.u.stopEvent(e);this.vJ.style.display="none";this.ZN.style.display="none";this.gw(bY.viewEvent.VIEW_REPLAY)};vpro.showLoading=function(){this.vJ.style.display="none";this.Rk.style.display="block"};vpro.hideLoading=function(){this.Rk.style.display="none";this.vJ.style.display="none"};vpro.showPlayState=function(isPlay){this.Rk.style.display="none";if(!!isPlay){this.vJ.style.display="none";this.ZN.style.display="none"}else{this.vJ.style.display="block"}};vpro.showPlayEndState=function(){this.ZN.style.display="block";this.vJ.style.display="none"}})();
(function(){var bm=eduPlayer;bm.viewEvent={VIEW_PLAY:"viewPlay",VIEW_REPLAY:"viewRePlay",VIEW_PAUSE:"viewPause",VIEW_FULLSCREEN:"viewFullScreen",VIEW_TOGGLEPLAY:"viewTogglePlay",VIEW_SEEK:"viewSeek",VIEW_VOLUME:"viewVolume",VIEW_QUALITY_CHANGE:"viewQualityChange",VIEW_RATE_CHANGE:"viewRateChange",VIEW_TRACK_CHANGE:"viewTrackChange",VIEW_OPENADLINK:"viewOpenAdLink",VIEW_TOGGLE_CONTROLBAR:"viewToggleControlBar"}})();
(function(){var co=eduPlayer;var cvl=function(W){var db=[{begin:0,text:""}];W=W.replace(/^\s+/,"").replace(/\s+$/,"");var lst=W.split("\r\n\r\n");if(lst.length==1){lst=W.split("\n\n")}for(var i=0;i<lst.length;i++){var cP=cvj(lst[i]);if(cP["text"]){db.push(cP);if(cP["end"]){db.push({begin:cP["end"],text:""});delete cP["end"]}}}return db};var cvj=function(cT){var cP={};var db=cT.split("\r\n");if(db.length==1){db=cT.split("\n")}try{var Ro=db[1].indexOf(" --> ");if(Ro>0){cP["begin"]=cbc(db[1].substr(0,Ro));cP["end"]=cbc(db[1].substr(Ro+5))}if(db[2]){cP["text"]=db[2];for(var cL=3;cL<db.length;cL++){cP["text"]+="\n"+db[cL]}}}catch(err){}return cP};var cbc=function(cT){cT=cT.replace(",",".");var db=cT.split(":");var mf=0;if(cT.substr(-2).toLocaleLowerCase()=="ms"){mf=Number(cT.substr(0,cT.length-2))/1e3}else if(cT.substr(-1).toLocaleLowerCase()=="s"){mf=Number(cT.substr(0,cT.length-1))}else if(cT.substr(-1).toLocaleLowerCase()=="m"){mf=Number(cT.substr(0,cT.length-1))*60}else if(cT.substr(-1).toLocaleLowerCase()=="h"){mf=Number(cT.substr(0,cT.length-1))*3600}else if(db.length>1){mf=Number(db[db.length-1]);mf+=Number(db[db.length-2])*60;if(db.length==3){mf+=Number(db[db.length-3])*3600}}else{mf=Number(cT)}return mf};co.srtParseUtil={parseSrt:cvl}})();
(function(){var co=eduPlayer;co.track=co.u.C();var vpro=co.track.extend(co.dispatcher);var cva=co.srtParseUtil;vpro.jH=function(){this.rC.jH.apply(this,arguments);if(!arguments[0])return;this.ff=arguments[0];this.lT=arguments[1];this.Rr=[];this.cbb=[];this.bdW()};vpro.bdW=function(){this.sQ=co.u.getByClassName("j-trackBar",this.ff)[0];this.boz=co.u.getByClassName("j-trackBar-track1",this.ff)[0];this.bow=co.u.getByClassName("j-trackBar-track2",this.ff)[0]};vpro.setMediaData=function(mediaData){this.fy=mediaData;this.cuX(this.fy.trackFiles)};vpro.toggleTrackChange=function(bz){if(bz!=undefined){this.cuW(bz);this.qG()}else{this.cxe()}};vpro.cuW=function(bz){switch(bz){case co.CONST.SUBTITLE_CN:if(this.boz.style.display=="block"){this.boz.style.display="none"}else{this.boz.style.display="block"}break;case co.CONST.SUBTITLE_OTHER:if(this.bow.style.display=="block"){this.bow.style.display="none"}else{this.bow.style.display="block"}break}};vpro.toggleTrackStyle=function(Dw){if(Dw){co.u.delClassName(this.sQ,"over")}else{co.u.addClassName(this.sQ,"over")}};vpro.currentType=function(){return this.cbb};vpro.cuX=function(bok){try{if(co.u.isTypeOf(bok,"Array")){co.u.each(bok,function(cL,fT){this.caZ(fT);if(fT.name!=undefined){this.cbb.push(fT.name)}},this)}else if(co.u.isTypeOf(bok,"string")){this.caZ({url:bok,name:co.CONST.SUBTITLE_CN})}}catch(e){}};vpro.setPosition=function(gK){if(!this.Rr)return;if(gK>0){var Ry=this.cuR(gK);if(!!Ry&&Ry.length>0){for(var cL=0;cL<Ry.length;cL++){if(Ry[cL].name==co.CONST.SUBTITLE_CN){this.boz.innerHTML=Ry[cL].text}if(Ry[cL].name==co.CONST.SUBTITLE_OTHER){this.bow.innerHTML=Ry[cL].text}}}}};vpro.cuQ=function(ch,GL){if(!GL)return;var caY={};try{caY={text:cva.parseSrt(GL),name:ch};this.Rr.push(caY)}catch(e){}};vpro.caZ=function(LT){co.u.ajax({url:LT.url,success:this.cuQ.bind(this,LT.name),error:function(){},context:this})};vpro.cuR=function(gK){if(!this.Rr||this.Rr.length<=0)return;var caX=[],bnO=[];for(var cL=0,eH=this.Rr.length;cL<=eH-1;cL++){var bjE=this.Rr[cL].text;bnO[cL]=-1;for(var fF=0,bwS=bjE.length;fF<=bwS-1;fF++){var cuK=bjE[fF];if(cuK["begin"]<=gK&&(fF>=bjE.length-1||bjE[fF+1]["begin"]>=gK)){bnO[cL]=fF;break}}caX[cL]={text:bnO[cL]>=0?bjE[bnO[cL]]["text"]:"",name:this.Rr[cL].name}}return caX}})();
(function(){var co=eduPlayer;co.viewContainer=co.u.C();var vpro=co.viewContainer.extend(co.dispatcher);vpro.jH=function(){this.rC.jH.apply(this,arguments);if(!arguments[0])return;this.ff=arguments[0];this.lT=arguments[1];this.cuH();this.byW()};vpro.cuH=function(){this.rV=new co.controlBar(this.ff,this.lT);this.DH=new co.display(this.ff,this.lT);this.GL=new co.track(this.ff,this.lT)};vpro.resetCfg=function(){this.setVolume(this.lT.volume);this.setRate(this.lT.rate)};vpro.byW=function(){co.u.each(co.viewEvent,function(index,item){this.rV.kc(item,this.Re.bind(this))},this);this.DH.kc(co.viewEvent.VIEW_PLAY,this.Re.bind(this));this.DH.kc(co.viewEvent.VIEW_REPLAY,this.Re.bind(this));this.DH.kc(co.viewEvent.VIEW_TOGGLEPLAY,this.Re.bind(this));this.DH.kc(co.viewEvent.VIEW_OPENADLINK,this.Re.bind(this))};vpro.Re=function(e){this.gw(e.type,e.data)};vpro.setPlayerState=function(isPlay,isAd){this.DH.showPlayState(isPlay);if(!!isAd){this.rV.setState(!isPlay);this.disableControlBar()}else{this.rV.setState(isPlay);this.enableControlBar()}};vpro.setPlayerAdState=function(isPlay){this.DH.showPlayState(isPlay);this.rV.setState(!isPlay)};vpro.setPlayEndState=function(cuG){this.rV.setState(false);!cuG&&this.DH.showPlayEndState()};vpro.setMediaData=function(fy){this.fy=fy;this.GL.setMediaData(fy);this.rV.setTrackList(fy);this.rV.setQualityList(fy)};vpro.showLoading=function(){this.DH.showLoading()};vpro.hideLoading=function(){this.DH.hideLoading()};vpro.showIdle=function(){this.DH.hideLoading();this.rV.setState(false);this.setTotalTime(0);this.updateTime(0);this.updateBuffer(0)};vpro.setTotalTime=function(position){this.rV.setTotalTime(position,this.fy)};vpro.updateTime=function(time){this.rV.updateTime(time);if(!!this.GL.currentType()&&this.GL.currentType().length>0){this.GL.setPosition(time)}};vpro.updateBuffer=function(percent){this.rV.updateBuffer(percent)};vpro.setVolume=function(val){this.rV.setVolume(val)};vpro.setRate=function(rate){this.rV.setRate(rate)};vpro.changeFullScreenMode=function(){this.rV.changeFullScreenMode()};vpro.enableControlBar=function(){this.rV.enableControlBar()};vpro.disableControlBar=function(){this.rV.disableControlBar()};vpro.toggleTrackChange=function(bz){this.GL.toggleTrackChange(bz)};vpro.toggleTrackStyle=function(Dw){this.GL.toggleTrackStyle(Dw)}})();
(function(){eduPlayer.support={videoSupport:function(){var bie=document.createElement("video");var Us=!!bie.canPlayType;try{bie.canPlayType("video/mp4")}catch(e){Us=false}return Us}(),audioSupport:function(){return!!document.createElement("audio").canPlayType}(),fullScreenSupport:function(){}()};eduPlayer.videoSourceType={mp4:"video/mp4"};eduPlayer.audioSourceType={mp3:"audio/mpeg",wav:"audio/wav",ogg:"audio/ogg"}})();
(function(){var bm=eduPlayer;bm.html5VideoMedia=bm.u.C();var mpro=bm.html5VideoMedia.extend(bm.dispatcher);mpro.jH=function(){this.rC.jH.apply(this,arguments);this.caV=arguments[0];this.DB(bm.playerStates.IDLE);this.Mc=false;this.bmk=false;this.bzU=false};mpro.bulid=function(cfg){this.lT=cfg;this.fX=bm.u.createEl("video",{autoplay:!!this.lT.autoPlay,controls:false,loop:false});this.caV.appendChild(this.fX);this.GH();this.cuE(this.lT.videoRetio)};mpro.GH=function(){if(!this.fX)return;bm.u.on(this.fX,"loadstart",this.bhd.bind(this));bm.u.on(this.fX,"abort",this.bhd.bind(this));bm.u.on(this.fX,"stalled",this.bhd.bind(this));bm.u.on(this.fX,"waiting",this.bhd.bind(this));bm.u.on(this.fX,"durationchange",this.bhd.bind(this));bm.u.on(this.fX,"loadedmetadata",this.cuD.bind(this));bm.u.on(this.fX,"ended",this.cuC.bind(this));bm.u.on(this.fX,"error",this.Vl.bind(this));bm.u.on(this.fX,"pause",this.cuB.bind(this));bm.u.on(this.fX,"play",this.cuA.bind(this));bm.u.on(this.fX,"playing",this.cuz.bind(this));bm.u.on(this.fX,"progress",this.cuy.bind(this));bm.u.on(this.fX,"seeked",this.cux.bind(this));bm.u.on(this.fX,"seeking",this.cuw.bind(this));bm.u.on(this.fX,"timeupdate",this.cuv.bind(this));bm.u.on(this.fX,"waiting",this.cuu.bind(this))};mpro.cuE=function(dkD){};mpro.load=function(movieItem){this.bo=movieItem;this.DB(bm.playerStates.BUFFERING);this.Mc=false;this.bmk=false;this.cus(this.bo.urls);this.cur(this.bo.subtitles);try{this.fX.load()}catch(e){this.gw(bm.mediaEvent.MEDIA_ERROR,{msg:this.fX.error})}};mpro.cus=function(urls){this.fX.innerHTML="";bm.u.each(urls,function(index,src){if(!src)return;var cup=src.split(/\?/)[0];var caU=cup.split(".");var cun=caU[caU.length-1];var caT=bm.videoSourceType[cun];if(!caT){this.gw(bm.mediaEvent.MEDIA_ERROR,{msg:"不支持的媒体类型"});return}var se=bm.u.createEl("source",{src:src,type:caT});this.fX.appendChild(se)},this);this.gw(bm.mediaEvent.MEDIA_QUALITY_CHANGE)};mpro.cur=function(subtitles){if(!subtitles||subtitles.length==0){return}bm.u.each(subtitles,function(index,src){var se=bm.u.createEl("track",{src:src,kind:"subtitles",srclang:"en",label:"english"});this.fX.appendChild(se)},this)};mpro.setPoster=function(posterUrl){if(!!posterUrl&&posterUrl!=""){this.fX.poster=posterUrl}};mpro.play=function(){if(!!this.fX&&!!this.Mc){this.fX.play();this.DB(bm.playerStates.PLAYING);this.gw(bm.mediaEvent.MEDIA_PLAY)}};mpro.rePlay=function(){if(!!this.fX&&!!this.Mc){this.seek(0);this.fX.play()}};mpro.pause=function(){if(!!this.fX&&!!this.Mc){this.fX.pause();this.DB(bm.playerStates.PAUSE)}};mpro.togglePlay=function(){if(this.il==bm.playerStates.PAUSE){this.play()}else{this.pause()}};mpro.seek=function(position){if(!!this.fX&&!!this.Ao&&!!this.Mc){position=position>this.Ao?this.Ao:position;this.fX.currentTime=position}};mpro.volume=function(value){value=value>1?1:value<0?0:value;this.fX.volume=value};mpro.mute=function(muted){this.fX.muted=muted};mpro.stop=function(){this.pause();var sourseNodes=bm.u.T("source",this.fX);bm.u.each(sourseNodes,function(index,node){this.fX.removeChild(node)},this);this.Mc=false;this.bmk=false;this.DB(bm.playerStates.IDLE)};mpro.remove=function(){this.cwT();this.caV.removeChild(this.fX);this.fX=null};mpro.state=function(){return this.il};mpro.isCompleted=function(){return this.bmk};mpro.rate=function(value){if(this.il==bm.playerStates.IDLE){this.fX.defaultPlaybackRate=value}else{this.fX.playbackRate=value}this.gw(bm.mediaEvent.MEDIA_RATE_CHANGE,value)};mpro.DB=function(newState){if(this.il!=newState){this.gw(bm.playerStateEvent.PLAYER_STATE,{newState:newState,oladState:this.il});this.il=newState}};mpro.bhd=function(e){if(!!e)bm.logUtil.infoObj(e.type)};mpro.cuD=function(e){if(!!this.Mc){return}if(!this.fX)return;bm.logUtil.info("mediaProvider has loaded,duration:"+this.fX.duration);var caS=!!this.bo.isAdMovie;this.bzU=this.bzU||this.bo.isSeek;var data={duration:Math.floor(this.fX.duration),isAdMovie:caS,adLink:this.bo.link||""};this.Ao=data.duration;this.Mc=true;this.gw(bm.mediaEvent.MEDIA_META,data);try{if(!!this.lT.beforePlay&&!caS&&!this.bzU){this.gw(bm.mediaEvent.MEDIA_BEFORE_PLAY)}else{if(this.bo.start>0){this.cuh()}this.play()}}catch(error){bm.logUtil.error(error)}};mpro.cuh=function(){if(this.bo.start>0){this.seek(this.bo.start)}};mpro.cuv=function(e){if(!this.fX)return;var data={currentTime:Math.floor(this.fX.currentTime),duration:Math.floor(this.fX.duration)};this.gw(bm.mediaEvent.MEDIA_TIME,data)};mpro.cuy=function(e){if(!this.fX)return;this.gw(bm.mediaEvent.MEDIA_BUFFER,{bufferPercent:this.cug()})};mpro.cug=function(){var buffered=this.fX.buffered,end=0;var ba,be;if(!buffered||buffered.length<1){return 0}else if(buffered&&buffered.length==1){end=Math.floor(buffered.end(0))}else{var bq=this.fX.currentTime||0;for(var i=0,l=buffered.length;i<l;i++){ba=Math.floor(buffered.start(i));be=Math.floor(buffered.end(i));if(bq<=be&&bq>=ba){end=Math.floor(buffered.end(i))}}if(!end){end=Math.floor(buffered.end(buffered.length-1))}}return this.Ao?end/this.Ao:0};mpro.cuA=function(e){this.DB(bm.playerStates.PLAYING)};mpro.cuz=function(e){this.DB(bm.playerStates.PLAYING)};mpro.cuB=function(e){};mpro.cuu=function(e){this.DB(bm.playerStates.BUFFERING)};mpro.cuw=function(e){this.DB(bm.playerStates.BUFFERING)};mpro.cux=function(e){if(this.il==bm.playerStates.PAUSE){this.pause()}else{this.play()}};mpro.cuC=function(e){this.DB(bm.playerStates.PAUSE);this.bmk=true;this.gw(bm.mediaEvent.MEDIA_COMPLETE)};mpro.Vl=function(e){this.gw(bm.mediaEvent.MEDIA_ERROR)};mpro.mobileMode=function(){}})();
(function(){eduPlayer.playerHtmlTemp='<div class="player f-f1"><div class="view f-pa"><div class="bg f-pa"></div><div class="videoContainer f-pa j-mediaNode"></div><div class="display f-pa j-display"><div class="start f-pa j-display-playBtn f-cp"><div class="cover f-pa center"></div><div class="icon f-icon j-display-playIcon f-pa center left"></div></div><div class="replay f-pa j-display-replayBtn f-cp"><div class="cover f-pa center"></div><div class="icon f-icon j-display-replayIcon f-pa center"></div></div><div class="loading f-pa j-display-loading"><!--div class="cover f-pa center"></div--><div class="f-pa center image"></div></div></div></div><div class="track f-pa j-trackBar"><div class="j-trackBar-track1 tc f-f0" style="display:block;"></div><div class="j-trackBar-track2 tc tc2 f-f0" style="display:block;"></div></div><div class="control f-pa"><div class="con j-controlBar-optArea f-cb"><div class="playBtn f-fl f-cp j-controlBar-playBtn f-icon" title="播放"></div><div class="pauseBtn f-fl f-cp j-controlBar-pauseBtn f-icon" title="暂停"></div><div class="time f-fl"><span class="j-controlBar-time f-fc go">00 : 00</span>&nbsp/&nbsp<span class="j-controlBar-totalTime total">00 : 00</span></div><!--div class="bottomlogo f-fr j-controlBar-bottomlogo">中国大学MOOC</div--><div class="fullScreenBtn f-fr f-cp j-controlBar-fullScreenBtn f-icon"></div><div class="subtitle f-pr f-fr j-controlBar-subtitle f-cp"><div class="f-cp subtitleBtn j-controlBar-subtitleBtn item disable">字幕</div><ul class="j-controlBar-subtitle-other f-pa"><li data-type="0" class="selected">中文</li><li data-type="1">英文</li></ul></div><div class="quality f-pr f-fr j-controlBar-quality f-cp"><div class="qualityBtn j-controlBar-qualityBtn item">标清</div><ul class="j-controlBar-quality-other f-pa"><li data-type="HD" class="selected">高清</li><li data-type="BD">蓝光</li></ul></div><div class="rate f-pr f-fr f-cp j-controlBar-rate"><div class="rateBtn j-controlBar-rateBtn item">1倍速</div><ul class="f-pa"><li class="j-controlBar-rate-items" rate="2">2倍速</li><li class="j-controlBar-rate-items" rate="1.75">1.75倍速</li><li class="j-controlBar-rate-items" rate="1.5">1.5倍速</li><li class="j-controlBar-rate-items" rate="1.25">1.25倍速</li><li class="j-controlBar-rate-items" rate="1" class="selected">1倍速</li><li class="j-controlBar-rate-items" rate="0.75">0.75倍速</li></ul></div><div class="volume f-fr f-pr f-cp j-controlBar-volume"><div class="icon f-pa f-icon j-controlBar-volume-mute"></div><div class="volumeSlide f-pa j-controlBar-volume-slide"><div class="j-controlBar-volume-total f-pa total"></div><div class="j-controlBar-volume-icon f-pa icon"></div><div class="j-controlBar-volume-current f-pa current"></div></div></div></div><div class="progressBar j-controlBar-progressBar f-pr f-cp"><div class="selectTime j-controlBar-selectTime hide f-pa">00:00</div><div class="bufferBar j-controlBar-bufferBar f-pa"> </div><div class="timeBar j-controlBar-timeBar f-pa"> </div><div class="timeIcon j-controlBar-timeIcon f-pa"></div></div></div></div>'})();
(function(){var co=eduPlayer;co.container=co.u.C();var pro=co.container.extend(co.dispatcher);pro.jH=function(option){this.rC.jH.apply(this,arguments);if(!option||!option.parent)return;this.mz=option.parent;this.lT=co.u.extend(co.defaultPlayerConfig,option.playerConfig||{});this.cue=option.mediaData;this.cua()};pro.cua=function(){this.ctZ()};pro.ctZ=function(){this.mz.innerHTML=co.playerHtmlTemp;this.ff=co.u.getByClassName("player",this.mz)[0];this.iD=new co.player(this.ff,this.lT);this.pA=new co.viewContainer(this.ff,this.lT);this.bfj=new co.centralController(this.iD,this.pA);this.caP(this.cue);this.GH()};pro.caP=function(mediaData){if(!!mediaData){this.iD.setMediaData(mediaData);this.pA.setMediaData(mediaData);this.pA.resetCfg();if(!!this.lT.autoPlay||this.lT.beforePlay){this.iD.handlerMovie()}else{if(mediaData.mediaType=="video"){this.iD.showPoster()}this.pA.setPlayerState(false)}}else{this.pA.showIdle();return}};pro.GH=function(){this.iD.kc(co.exportEvent.ANCHOR_TRIGGER,this.sW.bind(this));this.iD.kc(co.exportEvent.CHANGE_MUTE,this.sW.bind(this));this.iD.kc(co.exportEvent.CHANGE_VOLUME,this.sW.bind(this));this.bfj.kc(co.exportEvent.PLAY_END,this.sW.bind(this));this.bfj.kc(co.exportEvent.SEEK,this.sW.bind(this));this.bfj.kc(co.exportEvent.CHANGE_QUALITY,this.sW.bind(this));this.bfj.kc(co.exportEvent.CHANGE_RATE,this.sW.bind(this));this.bfj.kc(co.exportEvent.PLAY,this.sW.bind(this))};pro.sW=function(e){this.gw(e.type,e.data)};pro.playMedia=function(mediaData){this.caP(mediaData)};pro.stop=function(){this.iD.stop()};pro.pause=function(){this.iD.pause()};pro.play=function(){this.iD.play()};pro.seek=function(position){this.iD.seek(position)};pro.volume=function(vol){this.iD.setVolume(vol)};pro.getState=function(vol){return this.iD.getState()};pro.getTime=function(vol){return this.iD.getTime()};pro.mobileMode=function(){this.iD.mobileMode()};pro.destroy=function(){this.iD.destroy()};window.EduPlayer=eduPlayer.container})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,b=NEJ.P("nej.p"),e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),j=NEJ.P("nej.j"),d=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),tE,ctS;eu.boR=NEJ.C();tE=eu.boR.bt(eu.cq,true);ctS=eu.boR.cH;tE.bL=function(){this.bO()};tE.bdB=function(){this.gp.kc("onAnchor",this.bvv.bind(this));this.gp.kc("onPlayEnd",this.Ug.bind(this));this.gp.kc("onSeek",this.Ug.bind(this));this.gp.kc("onChangeMute",this.Ug.bind(this));this.gp.kc("onChangeVolume",this.Ug.bind(this));this.gp.kc("onChangeQuality",this.ctR.bind(this));this.gp.kc("onChangeRate",this.Ug.bind(this));this.gp.kc("onPlay",this.Ug.bind(this))};tE.Ug=function(W){this.bn(W.type,W.data)};tE.bvv=function(W){this.bn("onAnchorPoint",W.data)};tE.ctR=function(W){var bz=0;switch(W.data){case"SD":bz=1;break;case"HD":bz=2;break;case"SHD":bz=3;break}this.bn("onChangeQuality",bz)};tE.dG=function(){this.gp.stop()};tE.cbU=function(){this.gp.pause()};tE.Gw=function(){this.gp.play()};tE.bec=function(){return this.gp.getTime()};tE.cbT=function(beV){this.gp.seek(beV)};tE.US=function(){return this.gp.getState()};tE.dkH=function(){this.gp.mobileMode()};tE.bE=function(Y){this.bG(Y);this.bcp=Y.parent;this.gp=new EduPlayer({parent:this.bcp,playerConfig:Y.playerConfig,mediaData:Y.mediaData});this.bdB()};tE.bJ=function(){this.gp.destroy();delete this.gp;this.bcp.innerHTML="";this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,b=NEJ.P("nej.p"),e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),j=NEJ.P("nej.j"),d=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),nC,ctM;eu.Sx=NEJ.C();nC=eu.Sx.bt(eu.cq,true);ctM=eu.Sx.cH;nC.bL=function(){this.bO()};nC.bdB=function(){this.mx.bd("onLoad",this.ctK.Z(this));this.mx.bd("onAnchorPoint",function(W){this.bn("onAnchorPoint",W)}.Z(this));this.mx.bd("onPlayEnd",function(){eu.es("video","complete");this.bn("onPlayEnd")}.Z(this));this.mx.bd("onSeek",function(gK){eu.es("video","seek",gK)}.Z(this));this.mx.bd("onChangeMute",function(btA){eu.es("video","mute",btA);j.pd("hasVolume",{path:"/",domain:"."+g.yktHost,value:!btA+"",expires:365})}.Z(this));this.mx.bd("onChangeVolume",function(nL){eu.es("video","volume",nL);j.pd("videoVolume",{path:"/",domain:"."+g.yktHost,value:nL+"",expires:365})}.Z(this));this.mx.bd("onChangeQuality",function(HP){eu.es("video","quality","changeToQuality:"+HP);j.pd("videoResolutionType",{path:"/",domain:"."+g.yktHost,value:HP+"",expires:365});this.bms=HP}.Z(this));this.mx.bd("onChangeRate",function(sx){j.pd("videoRate",{path:"/",domain:"."+g.yktHost,value:sx+"",expires:365})}.Z(this));this.mx.bd("onWait",function(btF){eu.es("video","waitplay",""+Math.floor(btF/1e3))}.Z(this));this.mx.bd("onPlay",function(btF){eu.es("video","play");this.bn("onPlay")}.Z(this))};nC.ctK=function(){if(!this.gh){return}this.mx.VV(this.gh)};nC.ctI=function(){return this.bms};nC.ctH=function(){this.mx.dG()};nC.caL=function(){this.mx.cbU()};nC.ctB=function(){this.mx.Gw()};nC.bBh=function(){return this.mx.bec()};nC.dkI=function(beV){this.mx.cbT(beV)};nC.US=function(){return this.mx.US()};nC.dkJ=function(){return this.mx.US()=="PLAYING"};nC.ctv=function(){try{var bie=document.createElement("video");var Us=!!bie.canPlayType&&bie.canPlayType("video/mp4")!="";if(b.EN.browser=="firefox"){Us=false}}catch(e){Us=false}return Us};nC.caG=function(){if(!!this.gh.resolutions){var HP=j.pd("videoResolutionType");var bsc=this.TX&&this.xh?this.gh.mp4Url.sdfile:this.gh.resolutions.sdfile;var bhX=this.TX&&this.xh?this.gh.mp4Url.hdfile:this.gh.resolutions.hdfile;var bBq=this.TX&&this.xh?this.gh.mp4Url.shdfile:this.gh.resolutions.shdfile;if(HP=="1"&&!!bsc){this.bms=1;return{quality:"SD",url:bsc,file:bsc}}else if(HP=="2"&&!!bhX){this.bms=2;return{quality:"HD",url:bhX,file:bhX}}else if(HP=="3"&&!!bBq){this.bms=3;return{quality:"SHD",url:bBq,file:bBq}}else{return!!bhX?{quality:"HD",file:bhX}:{quality:"SD",file:bsc}}}};nC.cto=function(){var EB=j.pd("videoVolume");EB=isNaN(EB)||EB==""?.8:EB;EB=!!this.gh.videoVolume?this.gh.videoVolume:!!EB?EB:.8;var TW=j.pd("hasVolume");TW=TW==""?"true":TW;TW=this.gh.hasVolume!=undefined?this.gh.hasVolume:TW=="true";return{volume:EB,hasVolume:TW}};nC.ctm=function(){var sx=j.pd("videoRate");return isNaN(sx)||sx==""?1:sx};nC.ctk=function(Y){this.gh=Y.videoInfo;this.cth=Y.notAllowFullScreen;this.bcp=Y.parent;this.boV=this.cto();this.xh=Y.useHtml5Player===undefined?true:Y.useHtml5Player;this.TX=this.ctv();this.ctg()};nC.ctg=function(){this.bn("playerSelectInfo",{supportH5:this.TX,htm5Player:this.xh});if(this.TX&&this.xh){var caE={start:this.gh.start,mediaType:"video",posterUrl:this.gh.image,defaultQuality:this.caG().quality,movieList:{SD:{urls:[this.gh.mp4Url.sdfile]},HD:{urls:[this.gh.mp4Url.hdfile]},SHD:{urls:[this.gh.mp4Url.shdfile]}},trackFiles:this.gh.html5caption,anchorList:this.gh.cluPointData,videoId:this.gh.videoId,bizId:this.gh.unitId};if(!!this.gh.adUrl){caE.beforeadMovie=[{isAdMovie:true,urls:[this.gh.adUrl]}]}this.mx=eu.boR.bh({parent:this.bcp,playerConfig:{autoPlay:!!this.gh.autoStart,volume:this.boV.volume,mute:!this.boV.hasVolume,rate:this.ctm(),beforePlay:!!this.gh.adUrl,trackSwitch:true},mediaData:caE})}else{this.gh.file=this.caG().file;this.gh.videoVolume=this.boV.volume;this.gh.hasVolume=this.boV.hasVolume;this.gh.bizId=this.gh.unitId;this.mx=eu.buv.bh({parent:this.bcp,notAllowFullScreen:this.cth,videoInfo:this.gh})}};nC.bE=function(Y){this.bG(Y);if(eu.clt()){var cG=Y.videoInfo.mp4Url.sdfile;this.fV.innerHTML='<video width="100%" height="100%" src='+cG+' controls="controls" autoplay="true">';return}this.ctk(Y);this.bdB()};nC.bJ=function(){this.fv();this.bN()};nC.fv=function(){this.ctH();if(!!this.fV){var bF=e.cJ(this.fV);if(!!bF){for(var i=0;i<bF.length;i++){this.fV.removeChild(bF[i])}}}if(this.TX&&this.xh){this.mx=eu.boR.bg(this.mx)}else{this.mx=eu.buv.bg(this.mx)}}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),rJ,dn=e.bX('<div class="u-srtUpload"><div class="j-srtList list"></div><div class="j-info info f-cb" style="display:none;"><div class="f-fl name"></div><div class="f-fl fb"></div><a class="f-fl cancel">取消</a></div><div class="f-cb"><div class="j-select select f-fl"></div><div class="j-upload upload f-pr f-fl"><div class="j-mask mask f-pa"></div><div class="j-mask-number mask mask-number f-pa"></div></div></div></div>');var Oh=e.dL('{if defined("xlist")}{list xlist as x}{if !x.url}<div class="f-cb"><div class="f-fl name">${x.name|getName}_${x.lang|getSuffix}.srt</div><a class="f-fl j-del" data-index="${x_index}">删除</a></div>{/if}{/list}{/if}');eu.bnF=NEJ.C();rJ=eu.bnF.bt(eu.cq,!0);rJ.bU=function(){this.bW=dn};rJ.bL=function(){this.bO();this.SU=e.bc(this.bb,"j-select")[0];this.rH=e.bc(this.bb,"j-upload")[0];this.bBG=e.bc(this.bb,"j-mask")[0];this.caD=e.bc(this.bb,"j-mask-number")[0];this.nV=e.bc(this.bb,"j-info")[0];this.gF=e.bc(this.bb,"j-srtList")[0];this.cV=e.cJ(this.nV);this.fO=this.cV[0];this.Iy=this.cV[1];this.ml=this.cV[2];this.blV=this.cV[3];v.bd(this.ml,"click",this.is.Z(this));v.bd(this.gF,"click",this.ctd.Z(this));v.bd(this.bBG,"click",function(){eu.showToastTips({type:2,content:"请先选择字幕语言",minutes:2e3})});v.bd(this.caD,"click",function(){eu.showToastTips({type:2,content:"每个视频最多上传2个字幕文件",minutes:2e3})});this.ctc=[{id:eu.CONST.SRT_TYPE_CH+1,type:eu.CONST.SRT_TYPE_CH,name:"中文"},{id:eu.CONST.SRT_TYPE_EN+1,type:eu.CONST.SRT_TYPE_EN,name:"英文"}]};rJ.bE=function(Y){this.bG(Y);this.HG=Y.data||[];this.Hx(this.HG);this.blv()};rJ.blv=function(){this.ctb();this.ve();if(!!this.gO){this.gO=eu.cz.bg(this.gO)}this.gO=eu.cz.bh({parent:this.Iy});this.gO.cg();eu.cW(this.caD,!!this.HG&&this.HG.length>=2);eu.bs(this.nV);eu.bv(this.rH);eu.bv(this.bBG);eu.bv(this.SU)};rJ.Hx=function(W){this.gF.innerHTML="";var dy=e.bS(Oh,{xlist:W},{getName:this.caC,getSuffix:this.caB});this.gF.innerHTML=dy};rJ.caC=function(ch){return u.dV((ch||"").split(".")[0])};rJ.caB=function(bz){return bz==eu.CONST.SRT_TYPE_CH?"中文":"英文"};rJ.ctb=function(){if(!!this.bBX){this.bBX=eu.eW.bg(this.bBX)}this.bBX=eu.eW.bh({parent:this.SU,list:this.ctc,defaultName:"请选择字幕语言",itemSelect:function(W){eu.bs(this.bBG);this.bBZ=W.type}.Z(this)})};rJ.It=function(cC,W){if(!!cC){this.gO.yD("上传中···");eu.bv(this.ml)}else{this.gO.cg();eu.bs(this.ml)}var csY=this.caC(W.name)+"_"+this.caB(this.bBZ)+".srt";this.fO.innerText=csY;eu.bv(this.nV);eu.bs(this.rH);eu.bs(this.SU)};rJ.is=function(){if(!!this.eQ){this.eQ.rL()}};rJ.wt=function(W){if(!!W&&!!W.retSuc){this.gO.cg();if(this.HG.length<2&&parseInt(this.bBZ)>=0){var cP={nosKey:W.nosKey,lang:parseInt(this.bBZ)};this.HG.push(cP);this.bn("onsrtload",this.HG)}else{this.blv()}}else{this.blv();eu.yo((W||{}).errorCode,this.is.Z(this))}};rJ.csV=function(eh){var bf=e.dj(eh,"index");this.HG.splice(bf,1);this.bn("onsrtload",this.HG.length>0?this.HG:null)};rJ.ctd=function(bj){v.dG(bj);var eh=v.fh(bj,"c:j-del");if(!eh)return;eu.cp.bP({type:1,message:"确认删除？",cancelFunc:f,okFunc:this.csV.Z(this,eh)})};rJ.sz=function(ip){return eu.Ru(null,ip,{support:["srt"]})};rJ.ve=function(){if(!!this.eQ){this.eQ=eu.nY.bg(this.eQ)}this.eQ=eu.nY.bh({parent:this.rH,beginUpload:this.It.Z(this,true),txt:"上传字幕",tokenType:eu.CONST.UPLOAD_TOKEN_TYPE_DEFAULT,action:"/file/smallFileUpload.htm?convert2utf8=true",supportAnchor:false,verifyFile:this.sz.Z(this),onFinishUpload:this.wt.Z(this),onUploadError:function(){this.blv()}.Z(this)})};rJ.bJ=function(){this.bN()}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),bC=u.fb(),rD,Ni="ck-CourseCtCache";d.qi=NEJ.C();rD=d.qi.bt(d.hF);rD.bCk=function(bT){this.bI({key:Ni+bC,url:"CourseBean.getLastLearnedMocTermDto",param:[bT],onload:this.csS.Z(this)})};rD.csS=function(W){this.bn("onGetChapterList",W)};rD.TS=function(bT,fa,ZP){this.bI({key:Ni+bC,url:"CourseBean.getMocTermDto",param:[bT,fa,ZP],onload:this.uk.Z(this)})};rD.uk=function(W){this.bn("onGetChapterList",{mocTermDto:W,lastLearnUnitId:null})};rD.cax=function(wK,bMw,fa,xm){this.bI({key:Ni+bC,url:"CourseBean.getLessonUnitLearnVo",param:[wK,bMw,fa,xm],onload:this.csN.Z(this,xm)})};rD.csN=function(xm,W){W.unitId=xm;this.bn("onGetLessonUnitVo",W)};rD.bjJ=function(csM){this.bI({key:Ni+bC,url:"CourseBean.saveMocContentLearn",notShowLoading:true,param:[csM],onload:this.csJ.Z(this)})};rD.csJ=function(W){this.bn("onSaveLearnInfo",W)};rD.bpK=function(fs,bT,Gq,mT){this.bI({key:Ni+bC,url:"MocMenuItemBean.getMenuItem",param:[fs,bT,Gq,mT],onload:this.bfo.Z(this)})};rD.bfo=function(W){this.bn("onGetMenuItem",W)};rD.cau=function(bT){this.bI({key:Ni+bC,url:"TermBean.getNewestItems",param:[bT],onload:this.csG.Z(this)})};rD.csG=function(W){this.bn("onGetNewestItems",W)};rD.cas=function(csD){this.bI({key:Ni+bC,url:"MocQuizBean.fetchQuestions",param:[csD],onload:this.csC.Z(this)})};rD.csC=function(W){this.bn("onFetchQuestions",W)};rD.TC=function(bT,fa){this.bI({key:Ni+bC,url:"CourseBean.getEvaluationDescription",param:[bT,fa],onload:this.bCG.Z(this)})};rD.bCG=function(W){this.bn("onGetEvaluationDescription",W)}})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),u=NEJ.P("nej.u"),t=NEJ.P("nej.ut"),v=NEJ.P("nej.v"),eu=NEJ.P("edu.u"),ui=NEJ.P("nej.ui"),lJ,bCI;var dn=e.bX('<div class="f-cb u-singleMulti"><div class="testinfo f-cb"><p class="f-f0 tipinfo">1.请填写问题题干</p><div class="j-content content"></div><p class="f-f0 tipinfo">2.填写题目答案</p><div class="f-cb options"><div class="j-optionlist f-cb"></div><a class="j-addOption addOption f-f0 f-fc3">+ 添加答案选项</a></div></div></div>');eu.IC=NEJ.C();lJ=eu.IC.bt(eu.bir,true);bCI=eu.IC.cH;lJ.bU=function(){this.bW=dn};lJ.bL=function(){this.bO();this.fJ=e.bc(this.bb,"j-content")[0];this.bCL=e.bc(this.bb,"j-optionlist")[0];this.car=e.bc(this.bb,"j-addOption")[0];v.bd(this.car,"click",this.csA.Z(this))};lJ.csA=function(){var csz=u.mF(9);var biy=eu.oZ.bh({parent:this.bCL,optionDto:{},indexNum:this.Nx,canDelete:this.Nx>3?true:false,isVideoTest:true,questionType:this.BR,nameRandom:this.FG,deleteOption:this.zG.Z(this)});this.pM.push(biy);this.Nx++};lJ.TM=function(){this.ng=ui.fG.bh({parent:this.fJ,content:this.ce.title,height:99});this.Nx=0;this.pM=[];this.FG=u.mF(9);if(!!this.bvj&&!!this.bvj.length){this.Nx=this.bvj.length;u.bw(this.bvj,function(bo,bf){var biy=eu.oZ.bh({parent:this.bCL,optionDto:bo,indexNum:bf,canDelete:bf>3?true:false,isVideoTest:true,questionType:this.BR,nameRandom:this.FG,deleteOption:this.zG.Z(this)});this.pM.push(biy)}.Z(this))}else{this.Nx=4;var csy=[{},{},{},{}];u.bw(csy,function(bo,bf){var csz=u.mF(9);var biy=eu.oZ.bh({parent:this.bCL,optionDto:bo,indexNum:bf,canDelete:bf>3?true:false,isVideoTest:true,questionType:this.BR,nameRandom:this.FG,deleteOption:this.zG.Z(this)});this.pM.push(biy)}.Z(this))}};lJ.zG=function(bf){this.pM[bf]=eu.oZ.bg(this.pM[bf]);this.Nx=0;for(var i=0;i<this.pM.length;i++){if(!!this.pM[i]){this.pM[i].qY(this.Nx);this.Nx++}}for(var i=0;i<this.pM.length;i++){if(!this.pM[i])this.pM.splice(i,1)}};lJ.JL=function(da){this.ce.title=this.ng.ca();this.ce.optionDtos=[];this.csv=0;for(var i=0;i<this.pM.length;i++){if(!!this.pM[i]){this.csv++;var dr=this.pM[i].biA();this.ce.optionDtos.push(dr)}}if(!!da){if(!!this.rN())return this.ce;else{return null}}else{return this.ce}};lJ.rN=function(){if(!this.ce.title||this.ce.title==""){eu.showToastTips({type:2,content:"题目题干不能为空"});return false}var bCZ=0;for(var i=0;i<this.ce.optionDtos.length;i++){if(!this.ce.optionDtos[i].content){var cX="第"+(i+1)+"个正确答案题干内容不能为空";eu.showToastTips({type:2,content:cX});return false}if(!!this.ce.optionDtos[i].answer){bCZ++}}if(!bCZ&&this.BR==eu.CONST.TYPE_OBJECTIVE_SINGLE){eu.showToastTips({type:2,content:"请设定答案!"});return false}if(bCZ<2&&this.BR==eu.CONST.TYPE_OBJECTIVE_MULTI){eu.showToastTips({type:2,content:"多项选择题至少要有2个答案!"});return false}return true};lJ.gi=function(){if(!!this.ng){this.ng=ui.fG.bg(this.ng)}for(var i=0;i<this.pM.length;i++){if(!!this.pM[i]){this.pM[i]=eu.oZ.bg(this.pM[i])}}};lJ.bE=function(Y){this.bG(Y);this.ce=Y.questionDto||{};this.bvj=this.ce.optionDtos||[];eu.bs(this.car)};lJ.bJ=function(){this.gi();this.bN()}})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),u=NEJ.P("nej.u"),t=NEJ.P("nej.ut"),v=NEJ.P("nej.v"),eu=NEJ.P("edu.u"),ui=NEJ.P("nej.ui"),bDa,csp;eu.bDe=NEJ.C();bDa=eu.bDe.bt(eu.IC,true);csp=eu.bDe.cH;bDa.bE=function(Y){this.bG(Y);this.ce.type=eu.CONST.TYPE_OBJECTIVE_SINGLE;this.BR=eu.CONST.TYPE_OBJECTIVE_SINGLE;this.TM()};bDa.bJ=function(){this.bN()}})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),u=NEJ.P("nej.u"),t=NEJ.P("nej.ut"),v=NEJ.P("nej.v"),eu=NEJ.P("edu.u"),ui=NEJ.P("nej.ui"),bDf,cso;eu.bDh=NEJ.C();bDf=eu.bDh.bt(eu.IC,true);cso=eu.bDh.cH;bDf.bE=function(Y){this.bG(Y);this.ce.type=eu.CONST.TYPE_OBJECTIVE_MULTI;this.BR=eu.CONST.TYPE_OBJECTIVE_MULTI;this.TM()};bDf.bJ=function(){this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),DI;var cv=e.dA(".#<uispace> {padding:0px;max-width:800px;min-width:400px;}.#<uispace> .header{border-bottom:1px solid #eee;padding:5px 20px 10px 20px;}.#<uispace> .header .title{font-size:20px;margin-right:10px;}.#<uispace> .header .type{font-size:14px;margin-right:5px;}.#<uispace> .header .score{font-size:14px;}.#<uispace> .footer {padding:10px 20px;font-size:14px;}.#<uispace> .footer .item{margin-bottom:10px;margin-top:10px;}.#<uispace> .footer .item .left{width:18%;}.#<uispace> .footer .item .rightitem{width:81%;word-break: break-word;word-wrap: break-word;}.#<uispace> .footer .item .right{color:#619d26}.#<uispace> .footer .item .wrong{color:#bd4b26}.#<uispace> .opts{padding: 20px 10px; border-top:1px solid #eee;}.#<uispace> .save{margin-right:20px;}.#<uispace> .u-btn{padding:0 4px;height:30px;line-height:30px;}");var dv=e.dL('<div class="u-PreviewVideoQuizDialog"><div class="header f-cb"><span class="title f-f0 j-title"></span><span class="type f-f0 j-type"></span></div><div class="footer f-cb"><div class="f-cb item"><div class="left f-fl">题干</div><div class="f-fl j-content rightitem f-richEditorText">题干</div></div><div class="f-cb item"><div class="left right f-fl">正确答案</div><div class="f-fl j-rightAns f-cb rightitem f-richEditorText"></div></div><div class="f-cb item"><div class="left wrong f-fl">错误答案</div><div class="f-fl j-wrongAns f-cb rightitem f-richEditorText"></div></div></div><div class="opts f-cb"><a class="u-btn u-btn-default j-save f-fr">保存</a><a class="u-btn j-cancel f-fr">取消</a></div></div>');var vR=100,nx=200,rW=300;eu.boM=NEJ.C();DI=eu.boM.bt(eu.gb,true);eu.boM.bP=function(Y){var fc=eu.boM.bh(Y);fc.fI()};DI.bU=function(){this.bW=e.bX(e.bS(dv));this.ds=cv};DI.bL=function(){this.bO();this.hP=e.bc(this.bb,"j-title")[0];this.cm=e.bc(this.bb,"j-type")[0];this.fJ=e.bc(this.bb,"j-content")[0];this.bpP=e.bc(this.bb,"j-rightAns")[0];this.bqm=e.bc(this.bb,"j-wrongAns")[0];this.hS=e.bc(this.bb,"j-save")[0];this.kk=e.bc(this.bb,"j-cancel")[0];v.bd(this.hS,"click",this.ts.Z(this));v.bd(this.kk,"click",function(){this.jv()}.Z(this));this.kz=new d.os;this.kz.bd("onManageAnchorQuestion",this.baK.Z(this,true));this.kz.bd("onManageQuestionDraft",this.baK.Z(this,false))};DI.kA=function(){var Ex=["单选","多选","填空题","判断题"];var wT=["A","B","C","D","E","F","G","H","I","J","K","L","M","N"];this.hP.innerText=this.bDy;this.cm.innerText=Ex[this.ce.type-1];this.fJ.innerHTML=this.ce.title||"";bD.kM(this.fJ);var Tw="",bgS="",bf=0;if(!!this.ce.optionDtos&&this.ce.optionDtos.length){for(var i=0;i<this.ce.optionDtos.length;i++){if(!!this.ce.optionDtos[i]){if(!!this.ce.optionDtos[i].answer){Tw+="<div>"+wT[bf]+". "+this.ce.optionDtos[i].content+"</div>";bf++}else{bgS+="<div>"+wT[bf]+". "+this.ce.optionDtos[i].content+"</div>";bf++}}}}else if(!!this.ce.stdAnswer){Tw+=this.ce.stdAnswer.replace(eu.CONST.FILL_BLANK_SPLITCHARREG,"&nbsp&nbsp或&nbsp&nbsp")}this.bpP.innerHTML=Tw;this.bqm.innerHTML=bgS;bD.kM(this.bpP);bD.kM(this.bqm)};DI.ts=function(){if(!!this.bhO){var Am=this.bhO.JL(true);var hp=function(bH,bR){if(!bR)return false};NEJ.X(this.ce,Am)}if(!this.ce){this.jv();return}this.ce.testId=this.dw;if(this.iN===null||this.iN===undefined){if(!!this.ce.id){this.kz.qN(this.ce,nx)}else{this.kz.qN(this.ce,vR)}}else{if(!!this.ce.id){this.kz.bkb(this.ce,this.pG,nx,this.iN)}else{this.kz.bkb(this.ce,this.pG,vR,this.iN)}}};DI.baK=function(da,fo,W){if(!!W){if(fo==vR){if(!!da){this.ce.id=W}else{this.ce=W}this.bn("onSaveOrUpdate",this.ce)}else if(fo==nx){if(!!da){this.ce.id=W}else{this.ce=W}this.bn("onSaveOrUpdate",this.ce)}this.jv()}};DI.jv=function(){this.fv();this.eB()};DI.bJ=function(){this.fv();this.bN()};DI.bE=function(Y){Y.title="题目预览";Y.clazz="u-quizPreviewdialog";this.ce=Y.questionDto;this.bDy=Y.indextitle;this.bhO=Y.createNode;this.iN=Y.anchorTime;this.pG=Y.unitDto;this.dw=Y.testId;this.bG(Y);this.kA();eu.bs(this.hS);eu.bs(this.kk)};DI.fv=function(){}})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),u=NEJ.P("nej.u"),t=NEJ.P("nej.ut"),v=NEJ.P("nej.v"),eu=NEJ.P("edu.u"),d=NEJ.P("edu.d"),ui=NEJ.P("nej.ui"),kN,csn;var dn=e.bX('<div class="f-cb u-questionItem"><div class="timeNode j-timeNode f-cb"><div class="icons f-fl j-icons"><div class="icon"></div></div><div class="anchorOpt j-anchorTimeShow f-fl"><div class="j-anchortime f-fc3 anchortime f-f0">07:12</div></div><a class="j-editAnchorTime editAnchorTime f-fl">编辑</a><div class="j-anchorOpt anchorOpt"></div></div><div class="brief j-brief f-cb"><div class="questiontitle j-questiontitle f-richEditorText f-fl f-f0">关于中国共产党历史上的重要会议，下列说法不正确的是:(单选)</div><div class="f-fr opt"><a class="j-edit edit f-fc6 f-icon" title="编辑"></a><a class="j-delete delete f-fc6 f-icon" title="删除"></a></div></div><div class="detail j-detail f-cb"><div class="j-title title f-f0">问题1</div><div class="j-type type f-cb"><span class="typeinfo f-f0">类型：</span><input type="radio" class="j-typeradio typeradio" /><label class="typelabel j-typelabel">单选</label><input type="radio" class="j-typeradio typeradio" /><label class="typelabel j-typelabel">多选</label><input type="radio" class="j-typeradio typeradio" /><label class="typelabel j-typelabel">填空题</label><input type="radio" class="j-typeradio typeradio" /><label class="typelabel j-typelabel">判断题</label></div><div class="j-item item"></div><div class="opts f-cb"><a class="u-btn j-showdetail showdetail">预览</a><a class="u-btn u-btn-default j-save save">保存</a><a class="j-cancelOpt cancelOpt">取消</a></div></div></div>');var vR=100,nx=200,rW=300;eu.yM=NEJ.C();kN=eu.yM.bt(eu.cq,true);csn=eu.yM.cH;kN.bU=function(){this.bW=dn};kN.bL=function(){this.bO();this.sq=e.bc(this.bb,"j-brief")[0];this.iM=e.bc(this.bb,"j-timeNode")[0];this.Nl=e.bc(this.bb,"j-icons")[0];this.cap=e.bc(this.bb,"j-anchorTimeShow")[0];this.Nk=e.bc(this.bb,"j-editAnchorTime")[0];this.bDX=e.bc(this.bb,"j-anchorOpt")[0];this.cao=e.bc(this.bb,"j-anchortime")[0];this.HZ=e.bc(this.bb,"j-questiontitle")[0];this.yG=e.bc(this.bb,"j-edit")[0];this.pk=e.bc(this.bb,"j-delete")[0];this.qV=e.bc(this.bb,"j-detail")[0];this.hP=e.bc(this.bb,"j-title")[0];this.iT=e.bc(this.bb,"j-typeradio");this.bgN=e.bc(this.bb,"j-typelabel");this.pO=e.bc(this.bb,"j-item")[0];this.csi=e.bc(this.bb,"j-showdetail")[0];this.hS=e.bc(this.bb,"j-save")[0];this.Jt=e.bc(this.bb,"j-cancelOpt")[0];v.bd(this.yG,"click",this.xn.Z(this));v.bd(this.pk,"click",this.Gr.Z(this));v.bd(this.csi,"click",this.cam.Z(this));v.bd(this.hS,"click",this.ben.Z(this));v.bd(this.Jt,"click",this.bEu.Z(this));v.bd(this.Nk,"click",this.csa.Z(this));this.kz=new d.os;this.kz.bd("onManageAnchorQuestion",this.baK.Z(this,true));this.kz.bd("onManageQuestionDraft",this.baK.Z(this,false));this.gU=new d.nj;this.gU.bd("onSaveGidsAndPhotoUrls",this.MZ.Z(this));this.Ay=[eu.bDe,eu.bDh,eu.bnm,eu.boL];this.sV=["单选","多选","填空题","判断题"]};kN.csa=function(){this.bgC(true)};kN.bgC=function(da){if(!!da){eu.bv(this.bDX);eu.bs(this.Nl);eu.bs(this.cap);eu.bs(this.Nk);this.cal=eu.bne.bh({parent:this.bDX,anchorTime:this.iN||0,onSelectTime:this.crY.Z(this),onDeleteTime:this.bEJ.Z(this),isInEdit:true,anchorTime:this.iN})}else{eu.bs(this.bDX);eu.bv(this.Nl);eu.bv(this.cap);eu.bv(this.Nk);this.cal=eu.bne.bg(this.cal)}};kN.crY=function(cQ){this.bn("editIndexNum",cQ)};kN.bEK=function(da,cQ){if(!!da){this.iN=cQ;this.cao.innerText=this.cak(this.iN);this.bEJ()}else{this.bEJ()}};kN.bEJ=function(){this.bgC(false)};kN.xn=function(){eu.bs(this.sq);eu.bv(this.qV);eu.bv(this.Nk);e.bK(this.bb,"widthborder")};kN.Gr=function(){eu.cp.bP({type:1,message:"确认删除此题目？",okFunc:function(){if(this.iN===null||this.iN===undefined){this.kz.qN(this.ce,rW)}else{this.kz.bkb(this.ce,this.pG,rW,this.iN)}}.Z(this)})};kN.bEu=function(){if(!!this.ce&&!!this.ce.id){this.gi();this.jK();eu.bs(this.qV);eu.bv(this.sq);this.bgC(false);eu.bs(this.Nk);e.bZ(this.bb,"widthborder")}else{e.bZ(this.bb,"widthborder");this.bn("deleteQuestion",this.jX)}};kN.ben=function(){var kL=this.jG.ccn();if(!!kL.photoUrls&&kL.photoUrls.length){this.gU.Wo(kL.photoUrls,kL.gids)}else{this.MS()}};kN.MZ=function(W){if(!!W){for(var i=0;i<W.length;i++){if(!W[i]){eu.cp.bP({type:1,message:"图片上传出错"});return false}}this.MS()}};kN.MS=function(){this.ce=this.bgK(true);if(!this.ce){return}this.ce.testId=this.dw;if(this.iN===null||this.iN===undefined){if(!!this.ce.id){this.kz.qN(this.ce,nx)}else{this.kz.qN(this.ce,vR)}}else{if(!!this.ce.id){this.kz.bkb(this.ce,this.pG,nx,this.iN)}else{this.kz.bkb(this.ce,this.pG,vR,this.iN)}}};kN.baK=function(da,fo,W){if(!!W){if(fo==vR){if(!!da){this.ce.id=W;this.ce.anchorTime=this.iN;this.bn("newQuestion",this.ce)}else{this.ce=W}this.AF()}else if(fo==nx){if(!!da){this.ce.id=W;this.ce.anchorTime=this.iN;this.bn("newQuestion",this.ce)}else{this.ce=W}this.AF()}else if(fo==rW){eu.showToastTips({type:1,content:"删除成功!"});this.bn("deleteQuestion",this.jX)}eu.bs(this.qV);eu.bv(this.sq);this.bgC(false);eu.bs(this.Nk);e.bZ(this.bb,"widthborder")}};kN.cam=function(){this.ce=this.bgK(false);eu.boM.bP({questionDto:this.ce,indextitle:"问题",createNode:this.jG,testId:this.dw,anchorTime:this.iN,unitDto:this.pG,testId:this.dw,onSaveOrUpdate:function(W){this.ce=W;this.AF();eu.bs(this.qV);eu.bv(this.sq);e.bZ(this.bb,"widthborder")}.Z(this)})};kN.bgK=function(da){if(!!this.jG){var Am=this.jG.JL(da);var hp=function(bH,bR){if(!bR)return false};if(!!Am){if(!!this.ce){NEJ.X(this.ce,Am,hp)}else{this.ce=Am}return this.ce}else{return null}}};kN.cak=function(cQ){var mf=parseInt(cQ)%60;var kR=Math.floor(parseInt(cQ)/60);if(mf<10){mf="0"+mf}if(kR<10){kR="0"+kR}return kR+" : "+mf};kN.jK=function(){if(this.iN===null||this.iN===undefined){eu.bs(this.iM)}else{eu.bv(this.iM);eu.bs(this.hP);this.cao.innerText=this.cak(this.iN)}if(!this.ce.type){eu.bs(this.sq);eu.bv(this.qV);eu.bv(this.Nk);e.bK(this.bb,"widthborder");this.iT[0].checked=true;this.TV(true);this.jG=this.Ay[0].bh({parent:this.pO,isVideoTest:true});this.uC=0;u.bw(this.iT,function(bo,bf){v.bd(bo,"click",function(){if(bf!=this.uC){this.jG=this.Ay[this.uC].bg(this.jG);this.ce={};this.jG=this.Ay[bf].bh({parent:this.pO,isVideoTest:true});this.uC=bf}else{return}}.Z(this))}.Z(this))}else{eu.bs(this.qV);eu.bv(this.sq);eu.bs(this.Nk);e.bZ(this.bb,"widthborder");this.TV(false);this.jG=this.Ay[this.ce.type-1].bh({parent:this.pO,questionDto:this.ce,isVideoTest:true});this.AF()}};kN.AF=function(){this.uC=this.ce.type-1;this.HZ.innerHTML=this.ce.title+" ("+this.sV[this.uC]+") ";u.kM(this.HZ);this.iT[this.ce.type-1].checked=true;this.TV(false)};kN.TV=function(da){if(!!da){for(var i=0;i<this.iT.length;i++){this.iT[i].removeAttribute("disabled")}}else{for(var i=0;i<this.iT.length;i++){this.iT[i].setAttribute("disabled","disabled");v.dY(this.iT[i],"click")}}};kN.Om=function(){var ch=u.mF(9);for(var i=0;i<this.iT.length;i++){this.iT[i].setAttribute("name",ch);var dr=u.mF(9);this.iT[i].setAttribute("id",dr);this.bgN[i].setAttribute("for",dr)}};kN.Hi=function(bf){this.jX=bf;this.hP.innerText="问题"+(this.jX+1)};kN.bE=function(Y){this.bG(Y);this.Om();this.hN=Y.chapterId;this.dw=Y.testId;this.ce=Y.questionDto||{};this.iN=Y.anchorTime;this.pG=Y.unitDto;this.jX=Y.indexNum;this.Hi(this.jX);this.jK()};kN.gi=function(){this.bgC(false);this.jG=this.Ay[this.uC].bg(this.jG)};kN.bJ=function(){this.gi();this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),MN,dn=e.bX('<div class="u-anchorTime f-cb"><p class="f-fl settime f-f0">选择提问时间</p><div class="f-fl min j-divmin"></div><p class="f-fl">:</p><div class="f-fl sec j-divsec"></div><a class="j-save save u-btn f-fl u-btn-default">确定</a><a class="j-cancel f-fl cancel">取消</a></div></div>');eu.bne=NEJ.C();MN=eu.bne.bt(eu.cq,!0);MN.bU=function(){this.bW=dn};MN.bL=function(){this.bO();this.cai=e.bc(this.bb,"j-divmin")[0];this.cah=e.bc(this.bb,"j-divsec")[0];this.hS=e.bc(this.bb,"j-save")[0];this.kk=e.bc(this.bb,"j-cancel")[0];v.bd(this.hS,"click",this.ben.Z(this));v.bd(this.kk,"click",this.bhZ.Z(this))};MN.ben=function(){var cQ=parseInt(this.bqG.value)*60+parseInt(this.bFk.value);this.bqG.options[0].selected=true;this.bFk.options[0].selected=true;this.bn("onSelectTime",cQ)};MN.bhZ=function(bf){this.bn("onDeleteTime")};MN.crR=function(){var bFn='<select class="j-min min">';var bFo='<select class="j-sec sec">';for(var i=0;i<60;i++){var dr=i<10?"0"+i:i;bFn+='<option value="'+i+'">'+dr+"</option>"}bFn+="</select>";for(var i=0;i<60;i++){var dr=i<10?"0"+i:i;bFo+='<option value="'+i+'">'+dr+"</option>"}bFo+="</select>";this.cai.innerHTML=bFn;this.cah.innerHTML=bFo;this.bqG=e.bc(this.bb,"j-min")[0];this.bFk=e.bc(this.bb,"j-sec")[0];for(var i=0;i<this.bqG.options.length;i++){if(i==Math.floor(this.iN/60)){this.bqG.options[i].selected=true}if(i==this.iN%60){this.bFk.options[i].selected=true}}};MN.bE=function(Y){this.bG(Y);this.sC=Y.isInEdit||false;if(!!this.sC){eu.bv(this.kk)}else{eu.bs(this.kk)}this.iN=Y.anchorTime;this.crR()};MN.bJ=function(){this.cai.innerHTML="";this.cah.innerHTML="";this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),Ae,dn=e.bX('<div class="u-anchorTest"><div class="optanchor f-cb"><p class="tipnfo f-f0 f-cb">+ 添加课间提问</p><div class="f-cb optbottom"><div class="f-fl addAnchor f-fc3 f-f0"><p class="f-fl f-f0 tipleft">使用当前播放时间为提问时间</p><a class="f-fr f-f0 j-addAnchor anchortime u-btn u-btn-default">获取时间</a></div><div class="f-fl j-inputAnchor inputAnchor"></div></div></div><div class="j-anchorlist anchorlist"></div></div></div>');eu.bra=NEJ.C();Ae=eu.bra.bt(eu.cq,!0);Ae.bU=function(){this.bW=dn};Ae.bL=function(){this.bO();this.crQ=e.bc(this.bb,"j-inputAnchor")[0];this.crP=e.bc(this.bb,"j-addAnchor")[0];this.bFu=e.bc(this.bb,"j-anchorlist")[0];v.bd(this.crP,"click",this.crM.Z(this));this.cag=new d.qi;this.cag.bd("onFetchQuestions",this.crH.Z(this))};Ae.crM=function(){if(!!this.bFy){this.bFy.caL();var cQ=this.bFy.bBh();cQ=Math.round(cQ);if(this.iN==cQ||eu.mR(this.MH,cQ)){eu.showToastTips({type:2,content:"一个提问时间只能添加一道题目"})}else{this.iN=cQ;var bjK=eu.yM.bh({parent:this.bFu,questionDto:{},anchorTime:this.iN,unitDto:this.pG,indexNum:this.lj.length,editIndexNum:this.bFC.Z(this,this.lj.length),deleteQuestion:this.vS.Z(this),newQuestion:function(W){var cP={questionId:W.id,anchor:W.anchorTime};this.bn("newQuestion",cP)}.Z(this)});this.lj.push(bjK);this.MH.push(this.iN)}}};Ae.vS=function(bf){this.lj[bf]=eu.yM.bg(this.lj[bf]);this.lj.splice(bf,1);this.MH.splice(bf,1);if(!!this.lj&&!!this.lj.length){for(var i=0;i<this.lj.length;i++){if(!!this.lj[i])this.lj[i].Hi(i)}}};Ae.crH=function(W){if(!!W){if(!!W.questions&&!!W.questions.length){u.bw(W.questions,function(bo,bf){var crF=bo.id;for(var j=0;j<this.pG.anchorQuestions.length;j++){if(this.pG.anchorQuestions[j].questionId==crF){var bjK=eu.yM.bh({parent:this.bFu,questionDto:bo,anchorTime:this.pG.anchorQuestions[j].anchor,unitDto:this.pG,indexNum:bf,editIndexNum:this.bFC.Z(this,bf),deleteQuestion:this.vS.Z(this),newQuestion:function(W){var cP={questionId:W.id,anchor:W.anchorTime};this.bn("newQuestion",cP)}.Z(this)});this.MH.push(this.pG.anchorQuestions[j].anchor);this.lj.push(bjK);break}}}.Z(this))}}};Ae.bFC=function(bf,cQ){if(this.MH[bf]==cQ){this.lj[bf].bEK(false)}else{if(eu.mR(this.MH,cQ)){eu.showToastTips({type:2,content:"一个提问时间只能添加一道题目"});this.lj[bf].bEK(false)}else{this.lj[bf].bEK(true,cQ)}}};Ae.jK=function(){this.bFF=eu.bne.bh({parent:this.crQ,onSelectTime:this.crw.Z(this)})};Ae.crw=function(cQ){if(eu.mR(this.MH,cQ)){eu.showToastTips({type:2,content:"一个提问时间只能添加一道题目"})}else{this.iN=cQ;var bjK=eu.yM.bh({parent:this.bFu,questionDto:{},anchorTime:this.iN,unitDto:this.pG,indexNum:this.lj.length,editIndexNum:this.bFC.Z(this,this.lj.length),deleteQuestion:this.vS.Z(this),newQuestion:function(W){var cP={questionId:W.id,anchor:W.anchorTime};this.bn("newQuestion",cP)}.Z(this)});this.lj.push(bjK);this.MH.push(this.iN)}};Ae.gi=function(){if(!!this.bFF){this.bFF=eu.yM.bg(this.bFF)}if(!!this.lj&&!!this.lj.length){for(var i=this.lj.length-1;i>=0;i--){if(!!this.lj[i]){this.lj[i]=eu.yM.bg(this.lj[i])}}}this.lj=[]};Ae.bE=function(Y){this.bG(Y);this.bFy=Y.videoObj;this.pG=Y.unitDto;this.lj=[];this.MH=[];this.jK();if(!!this.pG.anchorQuestions&&!!this.pG.anchorQuestions.length){this.cag.cas(this.pG)}};Ae.bJ=function(){this.gi();this.bN()}})();
(function(){var g=window,o=NEJ.O,eu=NEJ.P("edu.u");u=NEJ.P("nej.u");eu.bFI=function(bFJ){var xq={html5:[],flash:[]},bFM="";if(!bFJ)return xq;bFJ.sort(function(a,b){return a.lang<b.lang?-1:1});u.bw(bFJ,function(LT){if(!!LT&&!!LT.nosUrl){bFM=LT.lang==eu.CONST.SRT_TYPE_CH?"中文":"外文";xq.html5.push({url:g.urlPrefix.getTextPrefix+"?downloadUrl="+u.cly(LT.nosUrl),name:bFM});xq.flash.push({url:LT.nosUrl,name:bFM})}}.Z(this));return xq}})();
(function(){var o=NEJ.O,g=window,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),eu=NEJ.P("edu.u"),p=NEJ.P("edu.m"),d=NEJ.P("edu.d"),pg;var dy=e.bX('<div class="u-videoCreate f-pr"><div class="j-showArea"><h2 class="j-name f-thide"></h2></div><div class="j-showArea f-dn previewArea"><div class="f-cb preTit"><h2 class="j-name f-fl f-thide">filenamefilename.mp4</h2><div class="f-fr del repl"><span>已上传完成,</span><a class="j-replaceVideo">替换视频</a></div></div><div class="j-preview preview"></div></div><div class="j-srtArea srtArea"></div><div class="j-testArea testArea" style="display:none;"></div></div>');eu.buY=NEJ.C();pg=eu.buY.bt(eu.cq,true);pg.bU=function(){this.bW=dy};pg.bL=function(){this.bO();this.bZY=e.bc(this.bb,"j-showArea");this.ME=this.bZY[0];this.Ud=this.bZY[1];this.baB=e.bc(this.bb,"j-name");this.bFX=this.baB[0];this.bFZ=this.baB[1];this.lv=e.bc(this.bb,"j-preview")[0];this.crr=e.bc(this.bb,"j-replaceVideo")[0];this.bZX=e.bc(this.bb,"j-srtArea")[0];this.bGf=e.bc(this.bb,"j-testArea")[0];v.bd(this.crr,"click",function(){this.bn("ontoggleVideoAndPreview",false)}.Z(this));this.dkL=new p.hZ;this.hz=new d.rq;this.hz.bd("ongetLessonUnitPreviewVo",this.cro.Z(this))};pg.is=function(){if(!!this.cre){this.cre.rL()}this.bn("refreshStatus")};pg.cro=function(W){if(!!W){this.bFZ.innerText=eu.DE(W.filename);if(W.videoStatus=="publish"){this.lv.innerHTML="";var zm={file:W.videoUrl,image:W.videoImgUrl,resolutions:{sdfile:W.videoUrl,hdfile:W.videoHDUrl,shdfile:W.videoSHDUrl},mp4Url:{sdfile:W.sdMp4Url,hdfile:W.hdMp4Url,shdfile:W.shdMp4Url},videoId:W.videoId,unitId:W.unitId};var xq=eu.bFI(W.srtKeys);zm.html5caption=xq.html5;zm.caption=xq.flash;this.gp=eu.Sx.bh({parent:this.lv,videoInfo:zm})}else if(W.videoStatus=="fail"||W.videoStatus=="deleted"){this.lv.innerHTML="";e.bK(this.lv,"preview-without-circle");this.Fv=eu.cz.bh({parent:this.lv});this.Fv.cs("很抱歉，你的视频可能存在问题，请校验视频后重新上传")}else{e.bZ(this.lv,"preview-without-circle");this.lv.innerHTML="已上传完成，视频还在转码中，转码完成后方可预览"}u.bw(W.srtKeys,function(fT){fT.name=W.filename}.Z(this));this.crb(W.srtKeys);if(!!this.RT){this.cqZ(this.gh)}}};pg.cqX=function(W){this.en();e.bZ(this.ME,"f-dn");this.bFX.innerText=eu.DE(W.name);this.sJ=eu.IJ.bh({parent:this.ME,needDetail:true,data:W,abort:this.is.Z(this)});this.bn("editing",true)};pg.ZQ=function(W){if(W.total>eu.CONST.UPLOAD_SIZE_MAX){eu.yo(eu.CONST.UPLOAD_ERROR_LIMITED,this.is.Z(this));return}if(!!this.sJ){this.sJ.ZQ(W)}};pg.cqV=function(W){if(!!W){if(W.retSuc){if(!!this.sJ){this.sJ.bOH(W)}}else{eu.yo(W.errorCode,this.is.Z(this));this.bn("refreshStatus")}}};pg.cqU=function(W){this.qC(W)};pg.cqT=function(){return this.gh};pg.cqS=function(){if(!!this.gh.contentId){this.qC(this.gh.contentId)}};pg.qC=function(wK){this.en();e.bZ(this.Ud,"f-dn");if(!!wK){this.hz.blQ(wK,this.gh.contentType)}};pg.crb=function(W){if(!!this.Ui){this.Ui=eu.bnF.bg(this.Ui)}this.Ui=eu.bnF.bh({parent:this.bZX,data:W,onsrtload:function(W){this.bn("onsrtload",W)}.Z(this)})};pg.cqZ=function(baw){if(!!this.Uj){this.Uj=eu.bra.bg(this.Uj)}this.Uj=eu.bra.bh({parent:this.bGf,videoObj:this.gp,unitDto:baw,newQuestion:function(W){if(!!this.gh.anchorQuestions){for(var i=0;i<this.gh.anchorQuestions.length;i++){if(this.gh.anchorQuestions[i].questionId==W.questionId){NEJ.X(this.gh.anchorQuestions[i],W);return}}this.gh.anchorQuestions.push(W)}else{this.gh.anchorQuestions=[];this.gh.anchorQuestions.push(W)}}.Z(this)})};pg.dkM=function(W){this.bn("onerror")};pg.cqN=function(){this.sJ=eu.IJ.bg(this.sJ);this.bn("editing",false)};pg.en=function(cC){if(!!this.Ui){this.Ui=eu.bnF.bg(this.Ui)}if(!!this.gO){this.gO=eu.cz.bg(this.gO)}if(!!this.gp){this.gp.bJ();this.gp=null}if(!!this.sJ){if(!cC){this.cqN()}else{this.sJ.ccv()}}if(!!this.Uj){this.Uj=eu.bra.bg(this.Uj)}e.bK(this.ME,"f-dn");e.bK(this.dkO,"f-dn");e.bK(this.Ud,"f-dn");e.bK(this.dkP,"f-dn")};pg.bE=function(Y){this.bG(Y);this.gh=Y.data;this.RT=Y.supportAnchor;if(!!this.RT){eu.bv(this.bGf)}else{eu.bs(this.bGf)}if(!!this.gh){if(!!this.gh.contentId){this.qC(this.gh.contentId)}}};pg.bJ=function(){this.en();this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),Mr,dn=e.bX('<div class="u-videoList"><div class="tip">选择一个视频作为课时内容</div><div class="j-list list"></div><div class="opr f-cb"><div class="j-save save u-btn u-btn-default u-btn-sm f-fr">添加</div><div class="j-fb fb f-fr"></div></div></div>');eu.bfk=NEJ.C();Mr=eu.bfk.bt(eu.OV,!0);Mr.bU=function(){this.bW=dn};Mr.bL=function(){this.bO();this.gF=e.bc(this.bb,"j-list")[0];this.mN=e.bc(this.bb,"j-save")[0];this.tC=e.bc(this.bb,"j-fb")[0];this.tM=new d.VZ;this.tM.bd("ongetRecentUnusedVideos",this.tB.Z(this));v.bd(this.gF,"click",this.cqJ.Z(this));v.bd(this.mN,"click",this.bfD.Z(this))};Mr.cqJ=function(bj){v.dG(bj);var eh=v.fh(bj);if(!!eh){this.bGP=e.dj(eh,"ref");var cqI=e.cJ(this.gF);u.bw(cqI,function(bo,bf){var IA=e.dj(bo,"ref");if(IA==this.bGP){e.bK(bo,"selected")}else{e.bZ(bo,"selected")}}.Z(this));this.iq.cg()}};Mr.bfD=function(){if(!!this.bGP){this.bn("onsave",this.bGP)}else{this.iq.cs("请选择需要添加的视频")}};Mr.tB=function(W){if(!!W&&W.length>0){u.bw(W,function(bo,bf){var bB=e.hU('<div class="u-videoItemUI" data-ref="'+bo.id+'">'+bo.fileName+"</div>");this.gF.appendChild(bB)}.Z(this))}else{this.gF.innerHTML="该课程视频库中暂无视频"}};Mr.bE=function(Y){this.bG(Y);this.tM.czV(g.termDto.id);this.iq=eu.cz.bh({parent:this.tC});this.iq.cg()};Mr.bJ=function(){this.gF.innerHTML="";if(!!this.iq){this.iq=eu.cz.bg(this.iq)}this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),qu;var dy=e.bX('<div class="m-lessonunit-video panel f-pr"><div class="trIcon f-pa"></div><div class="j-handle"><ul class="j-tabs tabs"><li class="f-ib f-f0">上传视频</li><li class="f-ib f-f0">从资料库添加</li></ul><a href="#/tp/toolVideos" class="f-pa manlib" target="_self">管理视频库</a><div class="j-videoBtn videoBtnArea"><div class="j-btn btn"></div><div class="j-tip tip">支持mp4格式，文件最大为800M</div></div></div><div class="j-videoArea"></div></div>');eu.bgf=NEJ.C();qu=eu.bgf.bt(eu.OV,!0);qu.bU=function(){this.bW=dy};qu.bL=function(){this.bO();this.bZN=e.bc(this.bb,"j-handle")[0];this.ew=e.cJ(e.bc(this.bb,"j-tabs")[0]);this.bgu=e.bc(this.bb,"j-videoBtn")[0];this.cqF=e.bc(this.bgu,"j-btn")[0];this.bGZ=e.bc(this.bgu,"j-tip")[0];this.bHa=e.bc(this.bb,"j-videoArea")[0];this.bZX=e.bc(this.bb,"j-srt")[0];u.bw(this.ew,function(fT,bf){v.bd(fT,"click",this.Um.Z(this,bf))}.Z(this))};qu.Kl=function(W){if(!!this.tm){this.tm.cqU(W.contentId)}else{this.Um(0);this.zP(true)}};qu.Um=function(bf){if(bf==0){e.bK(this.ew[0],"cur");e.bZ(this.ew[1],"cur");if(!!this.Hp){this.Hp=eu.bfk.bg(this.Hp)}this.ve()}else{e.bK(this.ew[1],"cur");e.bZ(this.ew[0],"cur");if(!!this.eQ){this.eQ=eu.nY.bg(this.eQ)}this.cqC()}eu.bv(this.bgu)};qu.zP=function(cC){this.en();if(!!cC){this.bHk();eu.bv(this.bHa)}else{this.Um(0);eu.bv(this.bZN)}};qu.cqC=function(){eu.bs(this.bGZ);if(!!this.Hp){this.Hp=eu.bfk.bg(this.Hp)}this.Hp=eu.bfk.bh({parent:this.bgu,courseId:this.hI,onsave:function(W){var tW={id:W,type:eu.CONST.LESSONUNIT_VIDEO};this.Kt(tW,eu.CONST.LESSONUNIT_VIDEO)}.Z(this)})};qu.sz=function(ip){return eu.Ru(eu.CONST.UPLOAD_TOKEN_TYPE_VIDEO,ip)};qu.cqA=function(){var zm=this.tm.cqT();if(!!zm.contentId){this.fw.contentId=zm.contentId}if(!!this.eQ){this.eQ.rL()}if(!!this.fw.contentId){this.tm.cqS();eu.bs(this.bgu)}else{this.zP(false)}};qu.cqz=function(W){this.zP(true);this.tm.cqX(W)};qu.Un=function(W){if(!!this.tm){this.tm.cqV(W)}if(!!W.retSuc){var tW={id:this.fw.contentId,filename:W.name,noskey:W.nosKey,type:eu.CONST.LESSONUNIT_VIDEO};this.UZ(tW)}};qu.cqw=function(W){var tW={type:eu.CONST.LESSONUNIT_VIDEO_SRT,srtKeys:W,relId:this.fw.contentId};this.UZ(tW)};qu.bHk=function(W){if(!!this.tm){this.tm=eu.buY.bg(this.tm)}this.tm=eu.buY.bh({parent:this.bHa,data:this.fw,supportAnchor:this.RT,refreshStatus:this.cqA.Z(this),onload:this.Un.Z(this),ontoggleVideoAndPreview:this.zP.Z(this),onsrtload:this.cqw.Z(this),editing:this.bkJ.Z(this)});eu.bv(this.bGZ)};qu.ve=function(){if(!!this.eQ){this.eQ=eu.nY.bg(this.eQ)}this.eQ=eu.nY.bh({parent:this.cqF,verifyFile:this.sz,txt:"上传视频",tokenType:eu.CONST.UPLOAD_TOKEN_TYPE_VIDEO,beginUpload:this.cqz.Z(this),onupdateProgress:function(W){if(!!this.tm){this.tm.ZQ(W)}}.Z(this),onFinishUpload:this.Un.Z(this)});eu.bv(this.bGZ)};qu.en=function(){if(!!this.tm){this.tm=eu.buY.bg(this.tm)}eu.bs(this.bZN);eu.bs(this.bHa)};qu.bE=function(Y){this.bG(Y)};qu.bJ=function(){if(!!this.eQ){this.eQ=eu.nY.bg(this.eQ)}if(!!this.Hp){this.Hp=eu.bfk.bg(this.Hp)}this.en();this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),cqv='<div class="u-sugInput"><div class="iptArea f-cb"><div class="ipt"></div><a class="add u-btn u-btn-default">添加</a></div><p></p><p></p><div class="tags"></div></div>',uR;eu.RU=NEJ.C();uR=eu.RU.bt(eu.cq,true);uR.bU=function(){this.bW=e.bX(cqv)};uR.bL=function(){this.bO();this.bZK=e.cJ(this.bb)[0];this.zn=e.cJ(this.bZK)[0];this.kX=e.cJ(this.bZK)[1];this.bls=e.cJ(this.bb)[1];this.cqq=e.cJ(this.bb)[2];this.blw=e.cJ(this.bb)[3];this.uI=[];this.sR=[];this.fu=new p.hZ;v.bd(this.kX,"click",this.bHC.Z(this));this.RS=new d.bKL;this.RS.bd("onGetTeacherInChargeSuggest",this.Uq.Z(this));this.RS.bd("onGetSuggestCourse",this.Uq.Z(this))};uR.Uq=function(W){this.dI=[];for(var i=0;i<W.length;i++){W[i].text="text";if(this.Ur=="chargeTeacher"){if(!W[i].nickName){W[i].nickName=""}W[i].name=W[i].lectorName+" ("+W[i].schoolName+" "+W[i].nickName+")";W[i].id=W[i].lectorId}else if(this.Ur=="spocCourse"){if(!W[i].name){W[i].name=""}W[i].name=W[i].name+" ("+(W[i].schoolPanel||{}).name+""+""+")"}this.dI.push(W[i])}this.Bq.bbh(this.dI)};uR.bHC=function(){var bH=this.Bq.eP.ca();bH=bH.replace(/\s/g,"_");if(bH==""){eu.showToastTips({content:"请填写标签",type:2});return false}this.Bq.eP.cZ()};uR.bE=function(Y){this.bG(Y);this.cql=Y.tagCount;this.bls.innerText="你最多可以填写"+this.cql+"个";this.cqq.innerText=Y.hint||"";this.cqf=Y.labelText||"";this.uI=[];this.Ur=Y.phrase||"";this.lh=null;if(this.Ur=="chargeTeacher"||this.Ur=="spocCourse"){eu.bs(this.bls);eu.bs(this.kX);eu.bs(this.bls)}else{eu.bv(this.bls)}this.Bq=eu.zs.bh({parent:this.zn,labelText:this.cqf,width:280,height:32,onSelect:this.bHO.Z(this),onKeyDown:this.KA.Z(this),onSuggest:this.bik.Z(this),onDeleteCnt:function(){this.bn("onDeleteCnt")}.Z(this),onInputFocus:function(){this.bn("onInputFocus")}.Z(this)})};uR.KA=function(bj){if(bj.keyCode==13){if(this.dI.length==0){var bH=this.Bq.eP.ca();this.Bq.eP.cZ("");this.Bq.eP.cko()}}};uR.bHO=function(W){for(var i=0;i<this.dI.length;i++){if(this.dI[i].id==W.id){NEJ.X(W,this.dI[i])}}this.bn("onSelect",W)};uR.bJ=function(){this.lh=null;this.Bq=eu.zs.bg(this.Bq);this.bN()};uR.bik=function(bH){if(this.Ur=="chargeTeacher"){this.RS.cBD(bH,this.lh)}else if(this.Ur=="spocCourse"){this.RS.cBz(bH)}};uR.Ut=function(ic){this.lh=ic};uR.cZ=function(bH){this.Bq.cZ(bH)};uR.kr=function(){this.Bq.kr()};uR.oI=function(){this.Bq.oI()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),ui=NEJ.P("nej.ui"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),Bv;var cv=e.dA(".#<uispace> .topinfo{margin-bottom:5px;}.#<uispace> .tipinfo{margin-top:5px;line-height:20px;width:305px;}.#<uispace> .tit{height:20px;line-height:20px;padding-bottom:5px;font-size:14px;}.#<uispace> .dateDay,.dateMin {text-align: center;}.#<uispace> .timeSet{top:35px;left:0;z-index:3000;}.#<uispace> .timesetType, .feesetType, .priceset{margin:5px 15px;}.#<uispace> .timesetType input, .feesetType input, .priceset input{vertical-align:middle;margin-right:5px;}.#<uispace> .timesetType label, .feesetType label, .priceset label{vertical-align:middle; margin-right: 10px;}.#<uispace> .priceset label{display:inline-block; width: 40px;}.#<uispace> .timesetting .timedetail{margin: 5px 0 10px 36px;}.#<uispace> .timesetting .timedetail .desc{height:30px;line-height:30px;}.#<uispace> .timesetting .timedetail .dateMinLayer{left:143px;}.#<uispace> .timesetting .timedetail .dateDayLayer{left:60px;}.#<uispace> .timeSet .zday a{font-size: 10px;font-family: sans-serif;color: #666;}.#<uispace> .timeSet .zday .js-extended{color:#ccc;}.#<uispace> .timeSet .zday .js-selected{background-color:#83b600;color:#fff;}.#<uispace> .timeSet .zday th{font-size: 12px;font-family: sans-serif;text-align: center;}.#<uispace> .timeSet .zact span{font-size: 12px;font-family: sans-serif;}.#<uispace> .m-feedbackinfo{padding: 5px 0 5px 10px;}.#<uispace> .u-sugInput .u-btn{margin-left:10px;padding:4px 8px;line-height:22px;}.#<uispace> .fb{height:22px;}.#<uispace>\t.fb .m-feedbackinfo{padding:0px;}.#<uispace>\t.schoollector{vertical-align:middle;margin-right:3px;}.#<uispace>\t.lectorfrom{height:33px;line-height:33px;margin-left:10px;}.#<uispace> .u-btn{padding:0 4px;height:30px;line-height:30px;}");var dv=e.bX('<div class="u-caeUI"><div class="tit f-f0"><em class="f-sign">*</em>学期负责人</div><div class="f-cb"><div class="j-text name f-fl"></div><div class="f-fl lectorfrom"><input type="checkbox" id="schoollector" class="j-school schoollector"><label class="schoollector" for="schoollector">本校老师</label></div></div><div class="j-fd fb f-cb"></div><blockquote class="b-20"></blockquote><div class="tit f-f0"><em class="f-sign">*</em>制定学期开课时间和结束时间</div><div class="f-cb timesetting"><div class="timesetType"><input type="radio" id="exacttimeOk" name="NeteaseAhuTime" class="j-timesetType"><label for="exacttimeOk">设定具体时间</label></div><div class="f-cb timedetail f-pr"><div class="desc j-desc f-fl">开课时间：</div><div class="f-fl timeSet f-cb j-timeSet"></div></div><div class="f-cb timedetail f-pr"><div class="desc j-desc f-fl">结束时间：</div><div class="f-fl timeSet f-cb j-timeSet"></div></div><div class="timesetType"><input type="radio" id="exacttimeNotOk" name="NeteaseAhuTime" class="j-timesetType"><label for="exacttimeNotOk">待定</label></div></div><div class="j-fd fb f-cb"></div><div class="tit f-f0"><em class="f-sign">*</em>收费权限</div><div class="f-cb feesetting"><div class="feesetType"><input type="radio" id="feeOk" name="NeteaseAhuFee" class="j-feesetType" checked /><label for="feeOk">免费</label></div><div class="feesetType"><input type="radio" id="feeNotOk" name="NeteaseAhuFee" class="j-feesetType" /><label for="feeNotOk">收费</label></div></div><blockquote class="b-20"></blockquote><div class="j-certprice certprice"><div class="tit f-f0"><em class="f-sign">*</em>证书价格</div><div class="f-cb cprice"><div class="priceset"><input type="radio" id="price1" name="NeteaseAhuPrice" class="j-priceChose" checked /><label for="price1" class="j-price">100元</label><span>适用于课程时长小于8周的课程</span></div><div class="priceset"><input type="radio" id="price2" name="NeteaseAhuPrice" class="j-priceChose" /><label for="price2" class="j-price">150元</label><span>适用于课程时长在8-12周的课程</span></div><div class="priceset"><input type="radio" id="price3" name="NeteaseAhuPrice" class="j-priceChose" /><label for="price3" class="j-price">200元</label><span>适用于课程时长大于12周的课程</span></div><div class="priceset"><div class="j-priceNchange f-fc3"></div></div></div></div><blockquote class="b-20"></blockquote></div>');eu.biH=NEJ.C();Bv=eu.biH.bt(eu.cq,true);Bv.bU=function(){this.bW=dv;this.ds=cv};Bv.bL=function(){this.bO();this.uD=e.bc(this.bb,"j-timeSet");this.hV=e.bc(this.bb,"j-text");this.Uu=e.bc(this.bb,"j-desc");this.DW=e.bc(this.bb,"j-fd");this.RF=e.bc(this.bb,"j-school")[0];this.BA=e.bc(this.bb,"j-timesetType");this.LN=e.bc(this.bb,"j-feesetType");this.Uv=e.bc(this.bb,"j-certprice")[0];this.yB=e.bc(this.bb,"j-priceChose");this.bZI=e.bc(this.bb,"j-price");this.bIg=e.bc(this.bb,"j-priceNchange")[0];v.bd(this.RF,"click",this.bIh.Z(this));u.bw(this.BA,function(bo,bf){v.bd(bo,"click",this.bIj.Z(this,bf))}.Z(this));u.bw(this.LN,function(bo,bf){v.bd(bo,"click",function(){eu.cW(this.Uv,bf==0)}.Z(this))}.Z(this))};Bv.bIh=function(){if(!!this.RF.checked){this.Rt.Ut(g.school.id)}else{this.Rt.Ut(null)}};Bv.bZH=function(){var qs={},nI={};if(!!this.BA[0].checked){qs=this.mK.jS();nI=this.iG.jS();if(qs.totalData==0||qs.day==0){this.qa.cs("开始日期不能为空",true);return null}if(nI.totalData==0||nI.day==0){this.qa.cs("结束日期不能为空",true);return null}if(nI.totalData<qs.totalData){this.qa.cs("结束日期不能早于开始日期",true);return null}}else if(!!this.BA[1].checked){qs.totalData=eu.CONST.UNDETERMINDED_STARTTIME;nI.totalData=eu.CONST.UNDETERMINDED_ENDTIME}if(this.bkt==-1){this.Rn.cs("课程负责人不能为空",true);return null}var bkv={id:this.hw,courseId:this.hI,chiefTeacherId:this.bkt,startTime:qs.totalData,endTime:nI.totalData,checked:!!this.BA[1].checked};if(this.jZ==eu.CONST.TERMSTATUS_PUBLISHED&&!!this.cB.certPrice){bkv.chargable=this.cB.chargable||false;bkv.certPrice=this.cB.certPrice}else{bkv.chargable=!!this.LN[1].checked;for(var i=0;i<this.yB.length;i++){if(!!this.yB[i].checked){bkv.certPrice=g.certPrices[i]||g.certPrices[0];break}}}return bkv};Bv.bIj=function(bf){if(bf==0){e.bZ(this.Uu[0],"f-fc9");e.bZ(this.Uu[1],"f-fc9");this.mK.rE();this.iG.rE();this.mK.lR(this.bIv);this.iG.lR(this.bIw)}else if(bf==1){e.bK(this.Uu[0],"f-fc9");e.bK(this.Uu[1],"f-fc9");this.bIv=this.mK.jS().totalData;this.bIw=this.iG.jS().totalData;this.mK.wc();this.iG.wc();if(!!this.qa){this.qa.cg()}}};Bv.kA=function(){this.Rt=eu.RU.bh({parent:this.hV[0],labelText:"请输入负责人名字",onSelect:function(W){this.bkt=W.lectorId}.Z(this),onDeleteCnt:function(){this.bkt=-1}.Z(this),onInputFocus:function(){if(!!this.Rn)this.Rn.cg()}.Z(this),phrase:"chargeTeacher"});this.mK=eu.hX.bh({parent:this.uD[0],onDateClick:function(){if(!!this.iG&&this.iG.CE){this.iG.CE.bg()}if(!!this.qa)this.qa.cg()}.Z(this),onMinClick:function(){if(!!this.iG){this.iG.bIA()}if(!!this.qa)this.qa.cg()}.Z(this),onClick:function(){if(!!this.iG){this.iG.KD()}}.Z(this)});if(this.jZ==eu.CONST.TERMSTATUS_PUBLISHED){if(this.cB.startTime<=eu.dB()){this.mK.wc();e.bK(this.Uu[0],"f-fc9");this.cpT=false;this.BA[0].disabled=true;this.BA[1].disabled=true}this.LN[0].disabled=true;this.LN[1].disabled=true}else{this.mK.rE()}if(this.jZ==eu.CONST.TERMSTATUS_PUBLISHED&&!!this.cB.certPrice){this.yB[0].disabled=true;this.yB[1].disabled=true;this.yB[2].disabled=true}this.iG=eu.hX.bh({parent:this.uD[1],onDateClick:function(){if(!!this.mK&&this.mK.CE){this.mK.CE.bg()}if(!!this.qa)this.qa.cg()}.Z(this),onMinClick:function(){if(!!this.mK){this.mK.bIA()}if(!!this.qa)this.qa.cg()}.Z(this),onClick:function(){if(!!this.mK){this.mK.KD()}}.Z(this)});if(this.jZ==eu.CONST.TERMSTATUS_PUBLISHED&&this.cB.endTime<=eu.dB()){this.iG.wc();e.bK(this.Uu[1],"f-fc9")}else{this.iG.rE()}if(!!this.cB&&!!this.cB.startTime){if(this.cB.startTime==eu.CONST.UNDETERMINDED_STARTTIME){this.BA[1].checked=true;this.bIj(1)}else{this.BA[0].checked=true;this.mK.lR(this.cB.startTime);this.iG.lR(this.cB.endTime);this.bIv=this.cB.startTime;this.bIw=this.cB.endTime}}else{this.bIj(0);this.BA[0].checked=true}var bIy=this.cB.chargable||false;this.LN[0].checked=!bIy;this.LN[1].checked=bIy;eu.cW(this.Uv,!bIy);this.Rn=eu.cz.bh({parent:this.DW[0]});this.Rn.cg();this.qa=eu.cz.bh({parent:this.DW[1]});this.qa.cg();if(!!this.cB&&!!this.cB.lectorPanels){for(var i=0;i<this.cB.lectorPanels.length;i++){if(this.cB.lectorPanels[i].lectorType==eu.CONST.REL_TYPE_TERM_CHIEF_LECTOR||this.cB.lectorPanels[i].lectorType===null){if(!this.cB.lectorPanels[i].nickName){this.cB.lectorPanels[i].nickName=""}this.Rt.cZ(this.cB.lectorPanels[i].realName+" ("+this.cB.schoolPanel.name+" "+this.cB.lectorPanels[i].nickName+")")}}this.qa.cg();this.hw=this.cB.id}else{this.hw=0}this.RF.checked=true;this.Rt.Ut(g.school.id);for(var i=0;i<this.bZI.length;i++){if(g.certPrices&&g.certPrices.length){this.bZI[i].innerText=g.certPrices[i]+"元"}}if(!!this.cB.certPrice){if(eu.mR(g.certPrices,this.cB.certPrice)){this.bIg.innerText="";for(var i=0;i<g.certPrices.length;i++){if(g.certPrices[i]==this.cB.certPrice){this.yB[i].checked=true;break}}}else{for(var i=0;i<g.certPrices.length;i++){this.yB[i].checked=false;this.yB[i].disabled=true}this.bIg.innerText="提示：  证书的价格是"+this.cB.certPrice+"元, 已无法进行修改"}}else{this.bIg.innerText="";this.yB[0].checked=true}};Bv.bE=function(Y){Y.title="学期编辑";Y.clazz="u-termdialog";Y.maskClickNotHidden=true;this.hI=Y.termDto.courseId;this.cB=Y.termDto||{};if(!!this.cB.lectorPanels){this.bkt=Y.termDto.lectorPanels[0].memberId}else{this.bkt=-1}this.jZ=Y.status||eu.CONST.TERMSTATUS_DRAFT;this.cpT=true;this.fv();this.bG(Y);this.bIv=null;this.bIw=null;this.BA[0].disabled=false;this.BA[1].disabled=false;this.LN[0].disabled=false;this.LN[1].disabled=false;this.yB[0].disabled=false;this.yB[1].disabled=false;this.yB[2].disabled=false;this.Ab=Y.canCreateNewTerm||0;this.kA()};Bv.fv=function(){if(!!this.Rt){this.Rt=eu.RU.bg(this.Rt)}if(!!this.mK){this.mK=eu.hX.bg(this.mK)}if(!!this.iG){this.iG=eu.hX.bg(this.iG)}if(!!this.Rn){this.Rn=eu.cz.bg(this.Rn)}if(!!this.qa){this.qa=eu.cz.bg(this.qa)}};Bv.jv=function(){this.fv();this.eB()};Bv.bJ=function(){this.fv();this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),ui=NEJ.P("nej.ui"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),BI;var cv=e.dA(".#<uispace> {padding:20px;}.#<uispace> .save{margin-right:20px;}.#<uispace> .fb{height:22px;}.#<uispace>\t.fb .m-feedbackinfo{padding:0px;}.#<uispace> .u-btn{padding:0 4px;height:30px;line-height:30px;}");var dv=e.dL('<div class="u-caeDialog"><div class="j-moocBase moocBase"></div><div class="j-createfd createfd"></div><a class="u-btn u-btn-default j-save save">保存</a><a class="u-btn j-cancel">取消</a></div>');eu.ZF=NEJ.C();BI=eu.ZF.bt(eu.gb,true);eu.ZF.bP=function(Y){var fc=eu.ZF.bh(Y);fc.fI()};BI.bU=function(){this.bW=e.bX(e.bS(dv));this.ds=cv};BI.bL=function(){this.bO();this.hS=e.bc(this.bb,"j-save")[0];this.kk=e.bc(this.bb,"j-cancel")[0];this.bIE=e.bc(this.bb,"j-moocBase")[0];this.bIF=e.bc(this.bb,"j-createfd")[0];v.bd(this.hS,"click",this.ts.Z(this));v.bd(this.kk,"click",function(){this.jv()}.Z(this));this.Hn=new d.nj;this.Hn.bd("AdminCreateTerm",this.bIH.Z(this));this.Hn.bd("AdminUpdateTerm",this.bII.Z(this))};BI.bIH=function(W){this.bn("createTerm",W);this.fv();this.eB()};BI.bII=function(W){this.bn("updateTerm",W);this.fv();this.eB()};BI.ts=function(){if(!!this.Ab)return;this.jb=this.Hv.bZH();if(!this.jb)return;if(!this.jb.id){this.Hn.ciO(this.jb.courseId,this.jb.chiefTeacherId,this.jb.startTime,this.jb.endTime,this.jb.checked,this.jb.chargable,this.jb.certPrice)}else{this.Hn.ciN(this.jb.courseId,this.jb.id,this.jb.chiefTeacherId,this.jb.startTime,this.jb.endTime,this.jb.checked,this.jb.chargable,this.jb.certPrice)}};BI.kA=function(Y){this.Hv=eu.biH.bh({parent:this.bIE,termDto:Y.termDto,status:Y.status||eu.CONST.TERMSTATUS_DRAFT});this.xw=eu.cz.bh({parent:this.bIF});this.xw.cg();e.bK(this.hS,"u-btn-default");e.bZ(this.hS,"u-btn-disabled");if(!!this.Ab){if(this.Ab==1){this.xw.cs("已经有一个未发布的学期，无法保存。<br>如有需要，请删除未发布的学期后重新操作。",true)}if(this.Ab==2){this.xw.cs("新学期的创建必须在上一学期的内容结束后方可创建。",true)}e.bZ(this.hS,"u-btn-default");e.bK(this.hS,"u-btn-disabled")}};BI.bE=function(Y){Y.title="学期编辑";Y.clazz="u-termdialog";Y.maskClickNotHidden=true;this.jZ=Y.status||eu.CONST.TERMSTATUS_DRAFT;this.bG(Y);this.Ab=Y.canCreateNewTerm||0;this.kA(Y)};BI.fv=function(){if(!!this.Hv){this.Hv=eu.biH.bg(this.Hv)}if(!!this.xw){this.xw=eu.cz.bg(this.xw)}};BI.jv=function(){this.fv();this.eB()};BI.bJ=function(){this.fv();this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,u=NEJ.P("nej.u"),eu=NEJ.P("edu.u");var cpQ={0:{id:0,name:"C"},1:{id:1,name:"Cool"},2:{id:2,name:"C++"},3:{id:3,name:"Go"},4:{id:4,name:"Haskell"},5:{id:5,name:"Java"},6:{id:6,name:"JavaScript"},7:{id:7,name:"Lua"},8:{id:8,name:"Pascal"},9:{id:9,name:"PHP"},10:{id:10,name:"Perl"},11:{id:11,name:"Python2.7"},12:{id:12,name:"Ruby"},13:{id:13,name:"Shell"}};var cpK={ACCEPTED:"",PRESENTATION_ERROR:"请检查程序输出的格式",WRONG_ANSWER:"结果错误",NON_ZERO_EXIT_CODE:"程序异常，exit code非0",MEMORY_LIMIT_EXCEEDED:"超出内存限制",TIME_LIMIT_EXCEEDED:"运行时间超出限制",OUTPUT_LIMIT_EXCEEDED:"程序输出过长",FLOAT_POINT_EXCEPTION:"浮点错误","SEGMENTATION_FAULT ":"程序运行异常",RUNTIME_ERROR:"程序运行异常",INTERNAL_ERROR:"无法完成判题"};eu.bqH=function(cpJ){var eq="待定";switch(cpJ){case eu.CONST.JUDGE_TYPE_EVALUATE:eq="学生互评";break;case eu.CONST.JUDGE_TYPE_LECTOR:eq="老师批改";break}return eq};eu.dkS=function(cpH){var eq="";switch(cpH){case eu.CONST.HW_PHASE_SUBMIT:eq="提交";break;case eu.CONST.HW_PHASE_EVALUATION:eq="批改";break;case eu.CONST.HW_PHASE_SCORE:eq="成绩公布";break}return eq};eu.bZE=function(EV){var HW=eu.dB();var vh=null;var bZD=EV.evaluateJudgeType==eu.CONST.JUDGE_TYPE_LECTOR,bZC=bZD?["提交阶段","老师批改阶段","成绩已公布"]:["提交阶段","即将开始互评","互评阶段","等待成绩公布","成绩已公布"],cQ=bZD?[EV.deadline,EV.evaluateScoreReleaseTime,HW+1]:[EV.deadline,EV.evaluateStart,EV.evaluateEnd,EV.evaluateScoreReleaseTime,HW+1],eH=bZC.length,i=0;for(;i<eH;i++){if(cQ[i]>HW){vh=bZC[i];break}}return vh};eu.bZB=function(cpw){var eq="";switch(cpw){case eu.CONST.QUIZ_SCORE_TYPE_LAST:eq="最后一次得分";break;case eu.CONST.QUIZ_SCORE_TYPE_BEST:eq="最高得分";break;case eu.CONST.QUIZ_SCORE_TYPE_AVG:eq="平均得分";break}return eq};eu.bZz=function(bz){switch(bz){case eu.CONST.TYPE_OBJECTIVE_SINGLE:case eu.CONST.TYPE_OBJECTIVE_JUDGE:return"radio";break;case eu.CONST.TYPE_OBJECTIVE_MULTI:return"checkbox";break;default:break}};eu.zQ=function(bap,bas){var gG={};if(!!bap){u.bw(bap,function(jq){if(!gG[jq.id]){gG[jq.id]={questionDto:eu.BL(jq)}}})}if(!!bas){u.bw(bas,function(gM){if(!!gG[gM.qid]){gG[gM.qid]["qAnswerDto"]=eu.BL(gM)}})}return gG};eu.bsF=function(bap,bas){var gG=[];if(!!bap){u.bw(bap,function(jq){gG.push({questionDto:eu.BL(jq)})})}if(!!bas){u.bw(bas,function(gM){var kP;u.bw(gG,function(bo){if(bo.questionDto&&bo.questionDto.id==gM.qid){kP=bo;return true}});if(!!kP){kP["qAnswerDto"]=eu.BL(gM)}})}return gG};eu.cpu=function(bsL,cpq){u.bw(cpq,function(bo){u.bw(bsL,function(hg){if(hg.id==bo.jid){hg.score=bo;return true}})});return bsL};eu.UF=function(EV){var HW=eu.dB();var cpo=EV.deadline;var cpl=EV.evaluateScoreReleaseTime;var vh=null;if(HW<cpo){vh=eu.CONST.HW_PHASE_SUBMIT}else if(HW>=cpl){vh=eu.CONST.HW_PHASE_SCORE}else{vh=eu.CONST.HW_PHASE_EVALUATION}return vh};eu.bZv=function(bZu,gS){return gS==0&&!!bZu.deadline&&eu.dB()<=bZu.deadline};eu.bZt=function(bF){var bZr=[];u.bw(bF,function(fT){bZr.push(cpQ[fT])}.Z(this));return bZr};eu.cpe=function(nl){return cpK[nl]||""}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),p=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bC=u.fb(),gm,iv="ck-termSettingsCache";p.zy=NEJ.C();gm=p.zy.bt(p.hF);gm.cpd=function(fs,bT){this.bI({key:iv+bC,url:"MocMenuItemBean.getAllMenuItems",param:[fs,bT],onload:this.bJD.Z(this)})};gm.bJD=function(W){this.bn("onGetAllMenuItems",W)};gm.bpK=function(fs,bT,cpc,mT){this.bI({key:iv+bC,url:"MocMenuItemBean.getMenuItem",param:[fs,bT,cpc,mT],onload:this.bfo.Z(this)})};gm.bfo=function(W){this.bn("onGetMenuItem",W)};gm.cpb=function(fs,bT,bJK){if(!eu.dK())return;this.bI({key:iv+bC,url:"MocMenuItemBean.saveMenuItemDrafts",param:[fs,bT,bJK],onload:this.cpa.Z(this)})};gm.cpa=function(W){this.bn("onSaveMenuItems",W)};gm.coY=function(fs,bT,bJK){if(!eu.dK())return;this.bI({key:iv+bC,url:"MocMenuItemBean.publishMenuItems",param:[fs,bT,bJK],onload:this.buB.Z(this)})};gm.buB=function(W){this.bn("publishMenuItems",W)};gm.coS=function(fs,bT){if(!eu.dK())return;this.bI({key:iv+bC,url:"MocMenuItemBean.publishMenuItems4Spoc",param:[fs,bT],onload:this.coR.Z(this)})};gm.coR=function(W){this.bn("publishMenuItems4Spoc",W)};gm.coQ=function(coP){if(!eu.dK())return;this.bI({key:iv+bC,url:"MocMenuItemBean.saveMenuItemDraft",param:[coP],onload:this.bkT.Z(this)})};gm.bkT=function(W){this.bn("onSaveMenuItem",W)};gm.coN=function(bT,Gq,cX){if(!eu.dK())return;this.bI({key:iv+bC,url:"MocMenuItemBean.saveMenuItemDraft4Spoc",param:[bT,Gq,cX],onload:this.coM.Z(this)})};gm.coM=function(W){this.bn("onsSaveMenuItemDraft4Spoc",W)};gm.coI=function(bT,eN){this.bI({key:iv+bC,url:"PublishCourseBean.manageTermCloseStatus",param:[bT,eN],onload:this.bKb.Z(this)})};gm.bKb=function(W){this.bn("onSaveTermOpenStatus",W)};gm.coH=function(coG,bT){this.bI({key:iv+bC,url:"MocSettingBean.updateCopyRightSetting",param:[coG,bT],onload:this.bKf.Z(this)})};gm.bKf=function(W){this.bn("onUpdateCopyRightSetting",W)};gm.coF=function(bT){this.bI({key:iv+bC,url:"TermStaffBean.getAllstaffByTerm",param:[bT],onload:this.bKi.Z(this)})};gm.bKi=function(W){this.bn("onGetAllstaffByTerm",W)};gm.coB=function(vM,bT){if(!eu.dK())return;this.bI({key:iv+bC,url:"TermStaffBean.deleteStaff",param:[vM,bT],onload:this.bKk.Z(this)})};gm.bKk=function(W){this.bn("onDeleteStaff",W)};gm.coA=function(vM,bT){if(!eu.dK())return;this.bI({key:iv+bC,url:"TermStaffBean.addLector",param:[vM,bT],onload:this.bKn.Z(this)})};gm.bKn=function(W){this.bn("onAddLector",W)};gm.cox=function(cov,fs,bT,gz,jm){if(!eu.dK())return;this.bI({key:iv+bC,url:"TermStaffBean.move",param:[cov,fs,bT,gz,jm],onload:this.bKs.Z(this)})};gm.bKs=function(W){this.bn("onMoveLector",W)};gm.cos=function(bKv,bT){if(!eu.dK())return;this.bI({key:iv+bC,url:"TermStaffBean.addAssist",param:[bKv,bT],onload:this.bKw.Z(this)})};gm.bKw=function(W){this.bn("onAddAssist",W)};gm.bZi=function(coq,Jj){if(!eu.dK())return;this.bI({key:iv+bC,url:"MocSettingBean.updateTermSetting",param:[coq,Jj],onload:this.bKA.Z(this)})};gm.bKA=function(W){this.bn("onSaveTermScoreRule",W)};gm.bZf=function(bT,coh,UI){if(!eu.dK())return;this.bI({key:iv+bC,url:"MocSettingBean.saveEvaluationDescriptionDraft",param:[bT,coh,UI],onload:this.bKF.Z(this,UI)})};gm.bKF=function(UI,W){this.bn("onSaveEvaluationDescriptionDraft",UI,W)};gm.TC=function(bT){this.bI({key:iv+bC,url:"MocSettingBean.getTermSetting",param:[bT],onload:this.bbH.Z(this)})};gm.bbH=function(W){this.bn("onGetTermScoreRule",W)};gm.bKI=function(bT){this.bI({key:iv+bC,url:"ForumSettingBean.getForumsByTerm",param:[bT],onload:this.cog.Z(this)})};gm.cog=function(W){if(!W)return;var dr=W[0];W[0]=W[1];W[1]=W[2];W[2]=dr;if(!!W[4]){dr=W[4];W.splice(4,1);W.splice(3,0,dr)}this.bn("ongetForumsByTerm",W)};gm.bZe=function(bbP,eL){if(!eu.dK())return;this.bI({key:iv+bC,url:"ForumSettingBean.manageForum",param:[bbP,eL],onload:this.bKN.Z(this,eL,bbP)})};gm.bKN=function(eL,bbP,W){bbP.id=W;this.bn("onmanageForum",bbP,eL)};gm.bZd=function(bT,bH,eh){if(!eu.dK())return;this.bI({key:iv+bC,url:"ForumSettingBean.saveForumBase",param:[bT,bH,eh],onload:this.coa.Z(this,eh,bH)})};gm.coa=function(eh,bH,W){if(eh==1){this.bn("onsaveForumBaseName",W,bH)}else{this.bn("onsaveForumBaseDescription",W,bH)}};gm.cnX=function(bT){if(!eu.dK())return;this.bI({key:iv+bC,url:"ForumSettingBean.publishTermForumSetting",param:[bT],onload:this.cnW.Z(this)})};gm.cnW=function(W){this.bn("onpublishTermForumSetting",W)};gm.cnU=function(bT){if(!eu.dK())return;this.bI({key:iv+bC,url:"ForumSettingBean.updateForumClosedStatus",param:[bT],onload:this.bKV.Z(this)})};gm.bKV=function(W){this.bn("onupdateForumClosedStatus",W)};gm.cnT=function(bz,bV){var cG=bz=="term"?"TermDraftBean.resetTermDraft":"MocAdminQuizBean.resetTestDraft";this.bI({key:iv+bC,url:cG,param:[bV],onload:this.cnS.Z(this)})};gm.cnS=function(W){this.bn("onResetTermOrTest",W)}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),p=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bC=u.fb(),iU,ty="ck-termNoticeCache";p.xD=NEJ.C();iU=p.xD.bt(p.hF);iU.bLe=function(bLf,bLg,fa){if(!eu.dK())return;this.bI({key:ty+bC,url:"PublishCourseBean.saveOrPublishAnnouncement",param:[bLf,bLg,fa],onload:this.cnR.Z(this,fa)})};iU.cnR=function(fa,W){this.bn("onSaveOrPublishAnnouncement",{data:W,isDraft:fa})};iU.cnP=function(bLf,bLg,fa){if(!eu.dK())return;this.bI({key:ty+bC,url:"PublishCourseBean.checkAnnouncementDuplicate",param:[bLf,bLg,fa],onload:this.cnO.Z(this)})};iU.cnO=function(W){this.bn("onCheckAnnouncementDuplicate",W)};iU.bZc=function(bT,bz){this.bI({key:ty+bC,url:"PublishCourseBean.getAllAnnouncementByTerm",param:[bT,bz],onload:this.bLp.Z(this)})};iU.bLp=function(W){this.bn("onGetAllAnnouncementByTerm",W)};iU.bLq=function(bT,bz,te){var cG=!!te?"PublishCourseBean.getAllAnnouncementByTerm":"CourseBean.getAllAnnouncementByTerm";this.bI({key:ty+bC,url:cG,param:[bT,bz],onload:this.bLp.Z(this)})};iU.bLp=function(W){this.bn("onGetAllAnnouncementByTerm",W)};iU.bZb=function(bV){if(!eu.dK())return;this.bI({key:ty+bC,url:"PublishCourseBean.deleteAnnouncementById",param:[bV],onload:this.cnL.Z(this)})};iU.cnL=function(W){this.bn("onDeleteAnnouncementById",W)};iU.dhx=function(bV,te){this.bI({key:ty+bC,url:"CourseBean.getMixedForumAnnouncementByTerm",param:[bV,te],onload:this.dht.Z(this)})};iU.dht=function(W){this.bn("onGetMixedForumAnnouncementByTerm",W)};iU.bYY=function(bT,jz,ih){this.bI({key:ty+bC,url:"MocTermMailBean.getMocTermMailDtos",param:[bT,jz,ih],onload:this.dgX.Z(this)})};iU.dgX=function(W){this.bn("onGetIndependentMailDtos",W)};iU.bYX=function(Qq){if(!eu.dK())return;this.bI({key:ty+bC,url:"MocTermMailBean.sendTermMail",param:[Qq],onload:this.bLC.Z(this)})};iU.bLC=function(W){this.bn("onSendTermMail",W)};iU.dgR=function(Qq){if(!eu.dK())return;this.bI({key:ty+bC,url:"MocTermMailBean.checkTermMailDuplicate",param:[Qq],onload:this.bLF.Z(this)})};iU.bLF=function(W){this.bn("onCheckTermMailDuplicate",W)};iU.dgM=function(Qq){if(!eu.dK())return;this.bI({key:ty+bC,url:"MocTermMailBean.saveTermMailDraft",param:[Qq],onload:this.bLH.Z(this)})};iU.bLH=function(W){this.bn("onSaveTermMailDraft",W)};iU.dgH=function(dgE,bT){this.bI({key:ty+bC,url:"MocSearchBean.getSuggestMember",param:[dgE,bT],onload:this.bLK.Z(this)})};iU.bLK=function(W){this.bn("onGetSuggestMember",W)};iU.dgA=function(bcU,bT){this.bI({key:ty+bC,url:"MocSearchBean.getMemberByName",param:[bcU,bT],onload:this.bLN.Z(this)})};iU.bLN=function(W){this.bn("onGetMemberByName",W)};iU.dgz=function(bV){if(!eu.dK())return;this.bI({key:ty+bC,url:"MocTermMailBean.deleteMocMail",param:[bV],onload:this.bLR.Z(this)})};iU.bLR=function(W){this.bn("onDeleteMocMail",W)};iU.dgx=function(bz,ri){this.bI({key:ty+bC,url:"MocTermMailBean.getMocTermMailTemplate",param:[bz,ri],onload:this.bLT.Z(this)})};iU.bLT=function(W){this.bn("onGetMocTermAutoMail",W)};iU.dgw=function(Qq){if(!eu.dK())return;this.bI({key:ty+bC,url:"MocTermMailBean.updateMocTermMailTemplate",param:[Qq],onload:this.bLW.Z(this)})};iU.bLW=function(W){this.bn("onUpdatetMocTermAutoMail",W)}})();
(function(){var o=NEJ.O,g=window,f=NEJ.F,e=NEJ.P("nej.e"),u=NEJ.P("nej.u"),t=NEJ.P("nej.ut"),eu=NEJ.P("edu.u"),v=NEJ.P("nej.v"),ui=NEJ.P("nej.ui"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),xJ,dgv;var cv=e.dA(".#<uispace> {margin-top:20px;}.#<uispace> .ctinfo{height:65px;line-height:30px;}.#<uispace> .title{font-size:14px;}.#<uispace> .cnt{width:650px}.#<uispace> .cnt .zarea{height:450px;}.#<uispace> .opts{margin-bottom:10px;padding:0 0 0 50px;}.#<uispace> .messc{width: 20px;height: 20px;vertical-align: middle;}.#<uispace> .mess{vertical-align: middle;}.#<uispace> .publish{height:28px;}.#<uispace> .mail{font-size:12px;margin:6px 0 10px;}.#<uispace> .draft,.publish{margin-right:10px;}.#<uispace> .draft{height:28px;}.#<uispace> .tipinfo{width:660px;}.#<uispace> .opts .u-btn{min-width:60px;height:30px;line-height:30px;padding:0 5px;font-size:12px;}");var dn=e.bX('<div class="cNotice f-cb"><div class="ctinfo f-cb f-pr"><div class="title f-fl f-f0"><em class="f-sign">*</em>标题：</div><div class="f-fl j-ctitle"></div><div class="f-fl j-feed feed"></div></div><div class="f-cb f-pr"><div class="title f-fl f-f0"><em class="f-sign">*</em>内容：</div><div class="f-fl j-cnt cnt"></div><div class="f-fl j-feed feed"></div></div><div class="opts f-cb"><div class="mail" id="j-mailtipInfo"><div class="mtop"><input type="checkbox" class="messc j-sendmail" id="aefdsv123"/><label class="mess f-f0" for="aefdsv123">邮件通知</label></div><p class="tipinfo f-fc9">发布后学习者将在学习页面上看到该公告，勾选“邮件通知”后，能同时收到相同内容的邮件。</p></div><a class="f-fl j-draft draft u-btn u-btn-default f-f1">保存为草稿</a><a class="f-fl j-pubslih publish u-btn u-btn-primary f-f1">发布</a><a class="f-fl j-cancel cancel u-btn f-f1">取消</a></div></div>');eu.vF=NEJ.C();xJ=eu.vF.bt(eu.cq,true);dgv=eu.vF.cH;xJ.bU=function(){this.bW=dn;this.ds=cv};xJ.bL=function(){this.bO();this.hP=e.bc(this.bb,"j-ctitle")[0];this.Ga=e.bc(this.bb,"j-cnt")[0];this.boZ=e.bc(this.bb,"j-pubslih")[0];this.KV=e.bc(this.bb,"j-draft")[0];this.kk=e.bc(this.bb,"j-cancel")[0];this.oc=e.bc(this.bb,"j-feed");this.bMf=e.bc(this.bb,"j-sendmail")[0];v.bd(this.boZ,"click",this.bdv.Z(this));v.bd(this.KV,"click",this.bMh.Z(this));v.bd(this.kk,"click",this.bhZ.Z(this));this.ge=new d.xD;this.ge.bd("onSaveOrPublishAnnouncement",this.dgr.Z(this));this.ge.bd("onCheckAnnouncementDuplicate",this.dgo.Z(this))};xJ.dgr=function(W){if(!!W.data){if(this.Gp==eu.CONST.NOTICE_TYPE_FORUMADMIN){if(!!W.isDraft){alert("保存成功")}else{alert("发布成功")}}else{if(!!W.isDraft){eu.showToastTips({content:"保存成功"})}else{eu.showToastTips({content:"发布成功"})}}this.bn("saveOrPublish",W.data)}};xJ.jK=function(){this.rt=eu.ef.bh({parent:this.hP,height:34,width:647,labelText:" ",critical:30,onInputFocus:function(){if(!!this.ld){this.ld.cg()}}.Z(this)});var fB="";if(!!this.ik){this.rt.cZ(this.ik.title||"");fB=this.ik.content}this.vp=ui.fG.bh({parent:this.Ga,height:435,content:fB});this.ld=eu.cz.bh({parent:this.oc[0]});this.ld.cg();this.mk=eu.cz.bh({parent:this.oc[1]});this.mk.cg();if(this.ik.status==1){eu.bs(this.KV)}else{eu.bv(this.KV)}};xJ.PZ=function(){this.ik.title=this.rt.ca();this.ik.content=this.vp.ca();if(this.Gp==eu.CONST.NOTICE_TYPE_FORUMADMIN){this.ik.termId=-1}else{this.ik.termId=g.termDto.id}this.ik.type=this.Gp;if(this.bMf.checked||this.bMf.checked==true){this.bqs=1}else{this.bqs=0}};xJ.rN=function(da){var eH=this.fu.hG(this.ik.title);if(!this.ik.title||this.ik.title==""){this.ld.cs("请输入公告标题！");return false}else if(eH>60){this.ld.cs("公告标题过长！");return false}else{this.mk.cg();return true}if(!!da){if(!this.ik.content||this.ik.content==""){this.mk.cs("请输入公告内容！");return false}else{this.mk.cg()}}return true};xJ.bMh=function(){this.PZ();if(!!this.rN(true)){this.ge.bLe(this.ik,0,1)}};xJ.bdv=function(){this.PZ();if(!!this.rN(false)){this.ge.cnP(this.ik,this.bqs,0)}};xJ.dgo=function(W){if(W==1){eu.cp.bP({message:"邮件内容重复，确定要重新发送吗",okFunc:function(){this.ge.bLe(this.ik,this.bqs,0)}.Z(this),cancelFunc:f})}else{this.ge.bLe(this.ik,this.bqs,0)}};xJ.bhZ=function(){this.bn("onCancel")};xJ.bE=function(Y){this.bG(Y);this.cK=100||g.termDto.id;this.ik=Y.noticeDto||{};this.jK();this.fu=new p.hZ;if(!!Y.isAdmin){e.bK(this.KV,"button green");e.bK(this.boZ,"button green");e.bK(this.kk,"button green");eu.bs(e.bQ("j-mailtipInfo"));this.bMf.checked=false;e.fm(e.bQ("j-mailtipInfo").parentNode,"paddingTop","20px")}this.Gp=Y.noticeType||eu.CONST.NOTICE_TYPE_TERM};xJ.bJ=function(){if(!!this.rt){this.rt=eu.ef.bg(this.rt)}if(!!this.vp){this.vp=ui.fG.bg(this.vp)}if(!!this.ld){this.ld=eu.cz.bg(this.ld)}if(!!this.mk){this.mk=eu.cz.bg(this.mk)}this.bN()}})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),u=NEJ.P("nej.u"),t=NEJ.P("nej.ut"),eu=NEJ.P("edu.u"),v=NEJ.P("nej.v"),ui=NEJ.P("nej.ui"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),so,dgm;var dn=e.bX('<div class="noitce f-cb"><div class="noticeitem f-f0 f-pr f-cb"><div class="f-cb item j-item"><span class="j-name name f-fl f-thide">这是第一条公告</span><span class="j-type type f-fc9 f-fl">草稿</span><a class="j-show show f-f1 f-icon f-fr" title="查看详情"></a><a class="j-delete delete f-f1 f-icon f-fr" title="删除"></a><a class="j-edit edit f-f1 f-icon f-fr" title="编辑"></a><span class="j-time time f-f1 f-fr">2014年01月08日</span></div><div class="f-cb detailtitlpage"><span class="j-detailtit detailtit f-fl f-f0">这是第一条公告</span><span class="j-lpagetype type f-fc9 f-fl">草稿</span><span class="f-fc9 f-fr f-f1 nopublish j-nopublish">尚未发布，在前端页面上还不能看到这条公告</span></div><div class="j-detailcnt detailcnt f-fc6 f-richEditorText"></div><div class="icons j-icons f-pa"><div class="icon"></div></div><div class="j-detailcntout detailcntout f-fc6 f-richEditorText"></div><div class="f-cb opt j-opt"></div><div class="f-cb lptimeout"><div class="f-fr j-lpagetime lptime"></div></div></div><a class="j-showmore showmore f-f0">点击载入更多</a></div>');eu.uN=NEJ.C();so=eu.uN.bt(eu.cq,true);dgm=eu.uN.cH;so.bU=function(){this.bW=dn};so.bL=function(){this.bO();this.pO=e.bc(this.bb,"j-item")[0];this.fO=e.bc(this.bb,"j-name")[0];this.cm=e.bc(this.bb,"j-type")[0];this.bYW=e.bc(this.bb,"j-lpagetype")[0];this.zE=e.bc(this.bb,"j-time")[0];this.pk=e.bc(this.bb,"j-delete")[0];this.yG=e.bc(this.bb,"j-edit")[0];this.xK=e.bc(this.bb,"j-show")[0];this.qF=e.bc(this.bb,"j-opt")[0];this.Nl=e.bc(this.bb,"j-icons")[0];this.Cu=e.bc(this.bb,"j-detailcnt")[0];this.bMD=e.bc(this.bb,"j-detailcntout")[0];this.bME=e.bc(this.bb,"j-detailtit")[0];this.DY=e.bc(this.bb,"j-showmore")[0];this.bMH=e.bc(this.bb,"j-lpagetime")[0];this.bYV=e.bc(this.bb,"j-nopublish")[0];v.bd(this.yG,"click",this.xn.Z(this));v.bd(this.xK,"click",this.bMJ.Z(this));v.bd(this.pk,"click",this.Gr.Z(this));v.bd(this.DY,"click",this.bdU.Z(this));this.ge=new d.xD;this.ge.bd("onDeleteAnnouncementById",this.PS.Z(this))};so.xn=function(){this.bMP(this.sC);if(!!this.Cw){this.bem(this.Cw)}};so.bdU=function(){this.bn("showMoreItems")};so.bMP=function(da){if(!!da){this.sC=false;if(!!this.iY){this.iY=eu.vF.bg(this.iY)}eu.bv(this.pO);eu.bs(this.qF)}else{this.sC=true;eu.bs(this.pO);eu.bv(this.qF);this.iY=eu.vF.bh({parent:this.qF,saveOrPublish:this.GM.Z(this),noticeDto:this.ik,onCancel:function(){if(!!this.iY){eu.bv(this.pO);eu.bs(this.qF);this.iY=eu.vF.bg(this.iY);this.sC=false}}.Z(this),isAdmin:this.bYU,noticeType:this.Gp})}};so.bem=function(da){if(!!da){this.xK.innerText="";this.xK.title="查看详情";this.Cw=false;this.Cu.style.display="none";this.Nl.style.display="none"}else{this.Cw=true;this.xK.innerText="";this.xK.title="隐藏详情";eu.bv(this.Cu);this.Cu.style.display="block";this.Nl.style.display="block"}};so.bMJ=function(){this.bem(this.Cw)};so.Gr=function(){if(!eu.dK())return;if(!!this.bYU){if(!!window.confirm("确定删除此公告？")){this.ge.bZb(this.ik.id)}}else{eu.cp.bP({message:"你确定要删除改公告吗？",cancelFunc:function(){},okFunc:function(){this.ge.bZb(this.ik.id)}.Z(this)})}};so.PS=function(W){if(!!W){this.bn("deleteNotice")}};so.GM=function(W){eu.bv(this.pO);eu.bs(this.qF);if(!!W){this.ik=NEJ.X(this.ik,W);this.beq();this.sC=false;if(!!this.iY){this.iY=eu.vF.bg(this.iY)}}};so.beq=function(){var eH=this.fu.hG(this.ik.title);if(eH>60){this.fO.innerText=this.fu.EU(this.ik.title,50)+"..."}else{this.fO.innerText=this.ik.title}if(this.ik.status==0){eu.bv(this.cm);eu.bv(this.bYW);eu.bv(this.bYV)}else{eu.bs(this.cm);eu.bs(this.bYW);eu.bs(this.bYV)}this.bME.innerText=this.ik.title;this.Cu.innerHTML=this.ik.content;this.bMD.innerHTML=this.ik.content;u.kM(this.Cu);u.kM(this.bMD);if(!!this.ik.gmtModified){this.bMH.innerText=eu.fH(this.ik.gmtModified);this.zE.innerText=eu.fH(this.ik.gmtModified)}};so.brI=function(da){if(!!da){this.DY.style.display="block"}else{this.DY.style.display="none"}};so.bYT=function(){return this.DY.style.display!="none"};so.bE=function(Y){this.bG(Y);this.sC=false;this.Cw=false;this.xK.innerText="";eu.bs(this.Cu);eu.bs(this.qF);if(!!Y.showMore){this.dfV=true;this.DY.style.display="block"}else{this.dfV=false;this.DY.style.display="none"}this.ik=Y.noticeDto||null;this.fu=new p.hZ;this.beq();if(!!Y.islearnPage){this.pO.innerHTML="";this.bME.parentNode.style.display="block";this.bMD.style.display="block";this.bMH.style.display="block"}else{this.zE.style.display="block";this.bME.parentNode.style.display="none";this.bMH.style.display="none"}this.bYU=Y.isAdmin||false;this.Gp=Y.noticeType||eu.CONST.NOTICE_TYPE_TERM};so.bJ=function(){this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),ut=NEJ.P("nej.ut"),bYS;ut.PO=NEJ.C();bYS=ut.PO.bt(ut.Dx,!0);dfM=ut.PO.cH;bYS.RA=function(bj){dfM.RA.apply(this,arguments);this.bn("ondragstart",bj)}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),p=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bC=u.fb(),gW,oA="ck-ManageStudentCache",jz=20;p.yA=NEJ.C();gW=p.yA.bt(p.hF);gW.bYR=function(bT){this.bI({key:oA+bC,url:"MocScoreManagerBean.getMocTermDataStatisticDto",param:[bT],onload:this.dfd.Z(this)})};gW.dfd=function(W){this.bn("onGetMocTermDataStatisticDto",W)};gW.bYP=function(dZ,Ee){if(!eu.dK())return;this.bI({key:oA+bC,url:"MocScoreManagerBean.confirmTestScores",param:[dZ,Ee],onload:this.deW.Z(this)})};gW.deW=function(W){this.bn("onConfirmScores",W)};gW.deT=function(dZ){if(!eu.dK())return;this.bI({key:oA+bC,url:"MocScoreManagerBean.confirmSubjectScore",param:[dZ],onload:this.deR.Z(this)})};gW.deR=function(W){this.bn("onConfirmSubjectScore",W)};gW.deP=function(xM,Ee){if(!eu.dK())return;this.bI({key:oA+bC,url:"MocScoreManagerBean.confirmExamScores",param:[xM,Ee],onload:this.deH.Z(this)})};gW.deH=function(W){this.bn("onConfirmExamScores",W)};gW.bNy=function(bT,ih,Jj,PF,qo){this.bI({key:oA+bC,url:"MocScoreManagerBean.getStudentScores",param:[bT,jz,ih,Jj,PF,qo],onload:this.deG.Z(this)})};gW.deG=function(W){this.bn("onGetStudentScores",W)};gW.bND=function(dZ,ih,sg,sS){this.bI({key:oA+bC,url:"MocScoreManagerBean.getStudentTestAggreScores",param:[dZ,jz,ih,sg,sS],onload:this.deF.Z(this)})};gW.deF=function(W){this.bn("onGetStudentTestAggreScores",W)};gW.bNK=function(dZ,ih,sg,sS){this.bI({key:oA+bC,url:"MocScoreManagerBean.getStudentScoresByTestId",param:[dZ,jz,ih,sg,sS],onload:this.deD.Z(this)})};gW.deD=function(W){this.bn("onGetStudentScoresByTestId",W)};gW.bYO=function(xM,ih,sg){this.bI({key:oA+bC,url:"MocScoreManagerBean.getStudentScoresByExamId",param:[xM,ih,jz,sg],onload:this.dem.Z(this)})};gW.dem=function(W){this.bn("onGetStudentScoresByExamId",W)};gW.dek=function(dZ,dei,ga){if(!eu.dK())return;this.bI({key:oA+bC,url:"MocScoreManagerBean.giveAwardsForStudentOnEffectiveScore",param:[dZ,dei,ga],onload:this.deg.Z(this)})};gW.deg=function(W){this.bn("onGiveAwardsForStudentOnEffectiveScore",W)};gW.dee=function(dZ,bOa,ga){if(!eu.dK())return;this.bI({key:oA+bC,url:"MocScoreManagerBean.giveAwardsForStudentOnSubjectScore",param:[dZ,bOa,ga],onload:this.ddY.Z(this)})};gW.ddY=function(W){this.bn("onGiveAwardsForStudentOnSubjectScore",W)};gW.bYM=function(dZ,bz){this.bI({key:oA+bC,url:"MocScoreManagerBean.showSentMailToast",param:[dZ,bz],onload:this.ddK.Z(this)})};gW.ddK=function(W){this.bn("onShowSentMailToast",W)};gW.ddJ=function(lr,bT){this.bI({key:oA+bC,url:"MocScoreManagerBean.getSingleStudentScores",param:[lr,bT],onload:this.ddE.Z(this)})};gW.ddE=function(W){this.bn("onGetSingleStudentScores",W)};gW.ddD=function(bT,lr){if(!eu.dK())return;this.bI({key:oA+bC,url:"MocScoreManagerBean.generateFinalScores",param:[bT,lr],onload:this.ddw.Z(this)})};gW.ddw=function(W){this.bn("onGenerateFinalScores",W)};gW.bOj=function(bT){this.bI({key:oA+bC,url:"MocScoreManagerBean.getTermSummaryInfo",param:[bT],onload:this.ddq.Z(this)})};gW.ddq=function(W){this.bn("onGetTermSummaryInfo",W)};gW.ddl=function(dZ,Rj){if(!eu.dK())return;this.bI({key:oA+bC,url:"MocScoreManagerBean.refreshSingleTest",param:[dZ,Rj],onload:this.ddi.Z(this)})};gW.ddi=function(W){this.bn("onRefreshSingleTest",W)};gW.dcZ=function(dZ){if(!eu.dK())return;this.bI({key:oA+bC,url:"MocScoreManagerBean.refreshExam",param:[dZ],onload:this.dcY.Z(this)})};gW.dcY=function(W){this.bn("onRefreshExam",W)};gW.UV=function(bT){this.bI({key:oA+bC,url:"MocScoreManagerBean.getMocAchivementDto",param:[bT],onload:this.dcS.Z(this)})};gW.dcS=function(W){this.bn("onGetMocAchivementDto",W)};gW.dcR=function(bT){if(!eu.dK())return;this.bI({key:oA+bC,url:"MocScoreManagerBean.submitTermScoreForReview",param:[bT],onload:this.dcO.Z(this)})};gW.dcO=function(W){this.bn("onSubmitTermScoreForReview",W)};gW.dcN=function(dcM){if(!eu.dK())return;this.bI({key:oA+bC,url:"MocScoreManagerBean.updateSummaryScore",param:[dcM],onload:this.dcF.Z(this)})};gW.dcF=function(W){this.bn("onUpdateSummaryScore",W)};gW.bYH=function(bT,ih,Jj,PF,qo){if(!eu.dK())return;this.bI({key:oA+bC,url:"MocScoreManagerBean.getRelatedMoocStudentScores4Spoc",param:[bT,jz,ih,Jj,PF,qo],onload:this.dcA.Z(this)})};gW.dcA=function(W){this.bn("onGetRelatedMoocStudentScores4Spoc",W)}})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),oH;var cv=e.dA(".#<uispace> {}.#<uispace> .sicon{font-size:16px;color:#ddd;position:absolute;top:3px;right:10px;cursor:pointer;}");var ev=e.bX('<div class="u-searchIpt f-pr"><input type="text" name="inputtxt" class="j-input"></input><label class="j-label f-fc9" for="inputtxt"></label><div class="f-icon sicon j-searchIcon"></div></div>');eu.lI=NEJ.C();oH=eu.lI.bt(eu.cq,true);oH.bU=function(){this.bW=ev;this.ds=cv};oH.bL=function(){this.bO();this.dcw=e.bc(this.bb,"j-searchIcon")[0];v.bd(this.dcw,"click",function(){this.bn("onSearchIconClick")}.Z(this))};oH.bE=function(Y){this.bG(Y);this.qq=eu.cD.bh({inputArea:this.bb,labelText:Y.labelText||"",onInputChange:function(bj){this.bn("onInputChange",bj)}.Z(this),onInputKeyDown:function(bj){this.bn("onInputKeyDown",bj)}.Z(this)})};oH.bJ=function(){if(!!this.qq){this.qq=eu.cD.bg(this.qq)}this.bN()};oH.mt=function(){return this.qq};oH.ca=function(){return this.qq.ca()}})();
(function(){var o=NEJ.O,g=window,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),p=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bC=u.fb(),tK,Pg="ck-CommonCache";p.Pf=NEJ.C();tK=p.Pf.bt(p.hF);tK.dcu=function(){this.bI({key:Pg+bC,url:"MemberBean.checkSSOError",notShowLoading:true,param:[],onload:this.dcf.Z(this)})};tK.dcf=function(W){this.bn("onCheckSSOError",W)};tK.dce=function(fs,bT,dbG,bz,dbv){this.bI({key:Pg+bC,url:"ChartStatisticsBean.asyncGenerateStatisticExcel",param:[fs,bT,dbG,bz,dbv],notShowLoading:true,onload:this.bOV.Z(this)})};tK.bOV=function(W){this.bn("onAsyncGenerateStatisticExcel",W)};tK.Nj=function(bFs){this.bI({key:Pg+bC,url:"CommonBean.getThreadStatusByThreadId",param:[bFs],notShowLoading:true,onload:this.bkc.Z(this)})};tK.bkc=function(W){this.bn("onGetThreadStatusByThreadId",W)};tK.dbu=function(nd){this.bI({key:Pg+bC,url:"CommonBean.checkAccountStatus",param:[nd],notShowLoading:true,onload:this.bOY.Z(this)})};tK.bOY=function(W){this.bn("onCheckAccountStatus",W)};tK.bYB=function(){if(!!eu.LK()){this.bI({notShowLoading:true,key:Pg+bC,url:"MessageBean.getUnreadMessageCount",param:[0],onload:this.bPa.Z(this)})}};tK.bPa=function(W){this.bn("onGetUrdMsgList",W)};tK.dbr=function(bV){this.bI({key:Pg+bC,url:"CourseBean.getByVideoId",notShowLoading:true,param:[bV],onload:this.bPd.Z(this)})};tK.bPd=function(W){this.bn("onGetByVideoId",W)};tK.dbi=function(nQ){this.bI({key:Pg+bC,url:"MocSearchBean.getCloudClassSuggestlist",notShowLoading:true,param:[nQ],onload:this.dba.Z(this)})};tK.dba=function(W){this.bn("onCloudClassSuggestlist",W)}})();
(function(){var g=window,o=NEJ.O,eu=NEJ.P("edu.u");eu.blo=function(gy){gy=parseInt(gy||0);var Vd=null;var cN="";var daT=gy>=0?"":"-";gy=Math.abs(gy);if(gy<1e3){cN=""+gy+""}else if(gy<1e6){Vd=Math.floor(gy%1e3/100);gy=Math.floor(gy/1e3);cN=gy>=10?gy+"k":Vd>0?gy+"."+Vd+"k":gy+"k"}else{gy/=1e3;Vd=Math.floor(gy%1e3/100);gy=Math.floor(gy/1e3);cN=gy>=10?gy+"m":Vd>0?gy+"."+Vd+"m":gy+"m"}return daT+cN}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),Kh;var kP='<div><p class="f-cb"><span class="u-tcnt f-thide f-ib" title="内容">内容</span><b class="u-close f-icon f-ib">&nbsp</b></p></div>';var dla="<span></span>";p.bPs=NEJ.C();Kh=p.bPs.bt(eu.cq,true);Kh.bU=function(){var dn=e.bX(kP);this.bW=dn};Kh.bL=function(){this.bO()};Kh.bE=function(Y){this.bG(Y);this.blC=Y.big;this.dk=Y.index;this.OP=Y.from||"";this.bYw=this.blC?"w-tag-hover w-tag-big-hover":"w-tag-hover";if(this.blC){this.bb.className="w-tag w-tag-big f-ib"}else{this.bb.className="w-tag f-ib"}this.OJ=e.cJ(this.bb);this.bPy=this.OJ[0];this.OJ=e.cJ(this.bPy);this.Vf=this.OJ[0];this.bPD=this.OJ[1];var bmb=this.Vg=Y.tagName;this.bPI=bmb.sys||false;if(this.bPI){e.bK(this.bb,"sys")}else{e.bZ(this.bb,"sys")}this.fO=bmb.name;if(!!bmb.pop){this.daJ=bmb.pop;var bYv=e.qw("span","j-count u-count");bYv.innerText="x "+eu.blo(this.daJ||0);this.bb.appendChild(bYv)}this.Vf.title=this.fO||"";if(!!Y.charlen){this.fu=new p.hZ;var eH=this.fu.hG(this.fO);if(eH>=50){this.fO=this.fu.EU(this.fO,Y.charlen)+"..."}}this.Vf.innerText=this.fO||"";this.gN([[this.bPy,"mouseover",this.bIN.Z(this)],[this.bPy,"mouseout",this.daB.Z(this)],[this.Vf,"click",this.ll.Z(this)]]);eu.bv(this.bPD);if(Y.canDelete&&!this.bPI){this.gN([[this.bPD,"click",this.dax.Z(this)]])}else{this.bPD.style.display="none"}};Kh.bIN=function(){if(!!this.bPP){window.clearTimeout(this.bPP);this.bPP=null}this.bPQ=setTimeout(function(){e.bK(this.bb,this.bYw)}.Z(this),0)};Kh.daB=function(){if(!!this.bPQ){window.clearTimeout(this.bPQ);this.bPQ=null}this.bPP=setTimeout(function(){e.bZ(this.bb,this.bYw)}.Z(this),0)};Kh.ll=function(bj){v.dG(bj);if(this.OP=="ask"){if(this.bPI){if(location.pathname==g.askIndexPrefix){g.dispatcher.cI(eu.umi("askIndex")+"?resType="+this.Vg.resType+"&resId="+this.Vg.resId+"&st=0")}else{g.open(g.askIndexPrefix+"?fromId="+this.Vg.linkId+"&fromType="+this.Vg.linkType+"#"+eu.umi("askIndex")+"?resType="+this.Vg.resType+"&resId="+this.Vg.resId+"&st=0","_blank")}}else{g.open(g.askSearchByLabelPrefix+"?label="+g.encodeURIComponent(this.fO),"_blank")}}};Kh.dax=function(bj){v.dG(bj);this.bn("onDeleteTag",this,this.dk);this.bJ()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),Dh;var kP='<div class="w-tags"></div>';p.bgB=NEJ.C();Dh=p.bgB.bt(eu.cq,true);Dh.bU=function(){var dn=e.bX(kP);this.bW=dn};Dh.bL=function(){this.bO()};Dh.bE=function(Y){this.bG(Y);this.dav=Y.canDelete;this.blC=Y.big;this.OP=Y.from||"";this.ln=[];this.dI=[];this.das=Y.charlen||null;this.bPY(Y.list)};Dh.bJ=function(){this.bN();if(!!this.ln&&this.ln.length){u.nT(this.ln,this.brw,this)}this.dI=[];this.ln=[]};Dh.bPZ=function(eA,bf){for(var i=0;i<this.ln.length;i++){if(eA==this.ln[i]){this.dI.splice(i,1);this.ln.splice(i,1)}}this.bn("onDeleteTag",eA.fO)};Dh.bYu=function(bo,cL){var cL=cL||this.ln.length,BU=p.bPs.bh({parent:this.bb,canDelete:this.dav,tagName:bo,big:this.blC,index:cL,charlen:this.das,onDeleteTag:this.bPZ.Z(this),from:this.OP});BU.index=cL;this.ln.push(BU)};Dh.dlb=function(bo,cL){for(var i=this.dI.length-1;i>=0;i--){if(this.dI[i].id==bo.id){eu.showToastTips({type:2,content:"标签重复!"});return false}}this.dI.push(bo);this.bYu(bo,cL)};Dh.brw=function(bo,bf){this.ln.splice(bf,1);this.dI.splice(bf,1);bo=p.bPs.bg(bo)};Dh.bPY=function(bF){if(!!this.ln&&this.ln.length){u.nT(this.ln,this.brw,this)}u.bw(bF,this.bYu,this);this.bn("afterrefresh");this.dI=bF};Dh.bYt=function(){return this.dI}})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),Jh,daj;var cv=e.dA(".#<uispace> {line-height:22px;}.#<uispace>.loading{background: url("+g.imageUrlMap.loading_circle_gif+") no-repeat 10px 6px; text-indent: 20px;}");var ev=e.bX('<a style="display:none" class="u-btn u-loading-btn">下载</a>');eu.jg=NEJ.C();Jh=eu.jg.bt(eu.cq,true);daj=eu.jg.cH;Jh.bU=function(){this.bW=ev;this.ds=cv};Jh.bL=function(){this.bO();this.cc=new d.Pf;this.cc.bd("onAsyncGenerateStatisticExcel",this.bOV.Z(this));this.cc.bd("onGetThreadStatusByThreadId",this.bkc.Z(this))};Jh.bOV=function(W){if(!!W){this.bQh=W.threadId}};Jh.bkc=function(W){if(!!W.finished){var dai=e.bfA({src:W.data,name:"excel",parent:document.body,visible:false,onload:function(){e.wX(dai)}});this.bmP=g.clearInterval(this.bmP);e.bZ(this.bb,"u-btn-disabled loading");e.bK(this.bb,this.bQk);v.bd(this.bb,"click",this.bYs.Z(this))}};Jh.bYs=function(bj){e.bZ(this.bb,this.bQk);e.bK(this.bb,"u-btn-disabled loading");v.dY(this.bb,"click");if(!!this.bYr){this.bmP=g.setInterval(function(){this.bYr()}.Z(this),this.cZI)}this.cc.dce(this.hI,this.cK,this.cZF,this.cm,this.cZC)};Jh.bE=function(Y){this.bG(Y);eu.bv(this.bb);this.bQk=Y.clazz||"u-btn-normal";this.cZI=Y.timeOut||1e3;this.bb.innerText=Y.name||"导出数据";this.bb.href=Y.href||"javascript:void(0)";this.cZF=Y.resourceId;e.bK(this.bb,this.bQk);this.gN([[this.bb,"click",this.bYs.Z(this)]]);this.bQh=null;this.hI=Y.courseId;this.cK=Y.termId;this.cm=Y.type;this.cZC=Y.downloadType};Jh.bYr=function(bj){if(!!this.bQh){this.cc.Nj(this.bQh)}};Jh.bJ=function(){e.bZ(this.bb,"u-btn-disabled loading");v.dY(this.bb,"click");this.bmP=g.clearInterval(this.bmP);this.bN()}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),p=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bC=u.fb(),xQ,Vm="ck-tpMocSpocCache";p.bgT=NEJ.C();xQ=p.bgT.bt(p.hF);xQ.cZB=function(bcU,bT){if(!eu.dK())return;this.bI({key:Vm+bC,url:"SpocTermBean.enrollSpocByNickName",param:[bcU,bT],onload:this.bQw.Z(this)})};xQ.bQw=function(W){this.bn("onenrollSpocByNickName",W)};xQ.bnr=function(bT,bz,jz,ih){this.bI({key:Vm+bC,url:"SpocTermBean.listSpocEventRecords",param:[bT,bz,jz,ih],onload:this.bgW.Z(this)})};xQ.bgW=function(W){this.bn("onlistSpocEventRecords",W)};xQ.bYo=function(bgY,bT){if(!eu.dK())return;this.bI({key:Vm+bC,url:"SpocTermBean.sendSpocInviteMails",param:[bgY,bT],onload:this.bQC.Z(this)})};xQ.bQC=function(W){this.bn("onsendSpocInviteMails",W)};xQ.cZv=function(bT,bnJ,Ee){if(!eu.dK())return;this.bI({key:Vm+bC,url:"SpocTermBean.kickSpocEnroll",param:[bT,bnJ,Ee],onload:this.bQF.Z(this)})};xQ.bQF=function(W){this.bn("onkickSpocEnroll",W)};xQ.bYm=function(bT,jz,ih){this.bI({key:Vm+bC,url:"SpocTermBean.listEnrolls",param:[bT,jz,ih],onload:this.bQH.Z(this)})};xQ.bQH=function(W){this.bn("onlistEnrolls",W)};xQ.cZr=function(bT){this.bI({key:Vm+bC,url:"PublishCourseBean.getTermPassword",param:[bT],onload:this.cZq.Z(this)})};xQ.cZq=function(W){this.bn("getTermPassword",W)}})();
(function(){var bp=NEJ.P,bq=bp("nej.ut"),bM;if(!!bq.bnQ)return;bq.bnQ=NEJ.C();bM=bq.bnQ.bt(bq.bhs);bM.bE=function(Y){Y=NEJ.X({},Y);Y.timing="easein";this.bG(Y)}})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),u=NEJ.P("nej.u"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u");var Rk,bQL,bQM;var cZp=e.dL('<div id="loadingMask" class="loading-mask" style="display: none;z-index: 10051;"></div><div id="loadingPb" class="u-loading f-cb" style="display: none;z-index: 10052;"></div>');var cZo=e.dL('<div id="${tipId}" class="u-tips ${type}" style="position:fixed;top:38%;left:44%;z-index:20000;"><span class="f-icon icon"></span><span class="f-f0">${content}</span></div>');eu.bnY=function(ch){return ch+u.fb(2)};var hk=function(){Rk=e.hU(e.bS(cZp));document.body.appendChild(Rk);bQL=e.bQ("loadingMask");bQM=e.bQ("loadingPb")};eu.showLoading=function(bQR){if(!Rk)hk();bQR=bQR||false;if(!bQR){eu.bv(bQL)}eu.bv(bQM)};eu.hideLoading=function(){eu.bs(bQL);eu.bs(bQM)};eu.showToastTips=function(Y){var bV=eu.bnY("toasttips"),Y=Y||o,cX=Y.content||"请输入提示的内容",NG=Y.minutes||1e3,bz="u-tips"+(Y.type||1);var boe=e.hU(e.bS(cZo,{tipId:bV,content:cX,type:bz}));document.body.appendChild(boe);var boh;var options={from:{offset:100,velocity:10},to:{offset:0},duration:500,onupdate:function(offset){boe.style.opacity=offset.offset/100},onstop:function(){boh=nej.ut.bnQ.bg(boh);boe.parentNode.removeChild(boe)}};g.setTimeout(function(){boh=nej.ut.bnQ.bh(options);boh.Gw()}.Z(this),NG)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),u=NEJ.P("nej.u"),ut=NEJ.P("nej.ut"),eu=NEJ.P("edu.u"),tN,JM="js-zhvr-901",bYl="ui-"+u.fb(),bQX=["163.com","126.com","yeah.net","vip.163.com","vip.126.com","popo.163.com","188.com","qq.com","yahoo.com","sina.com"];var bQZ="#<uispace>-hack{position:absolute;z-index:99;}#<uispace>{position:absolute;z-index:101;border:1px solid #d5d5d5;background:#FAFAFA;color:#444}#<uispace> .zitm{width:100%;text-indent:6px;height:32px;line-height:32px;cursor:default;}#<uispace> .zitm."+JM+"{color:#16914E;background-color:#ECECEE;}";p.bor=NEJ.C();tN=p.bor.bt(ut.hW,true);p.bor.Z=function(mr,Y){if(bQZ){e.bCm(bQZ.replace(/\#\<.*?\>/gi,"."+bYl));bQZ=null}return new p.bor(mr,Y)};tN.hk=function(mr,Y){this.hu(Y);this.eP=e.bQ(mr);this.eP.setAttribute("autocomplete","off");this.bb=e.qw("div",bYl);this.fV=e.bQ(Y.parent)||document.body;this.cZk(Y);v.bd(this.eP,"blur",this.Oi.Z(this));v.bd(this.eP,"focus",this.JA.Z(this));v.bd(this.eP,"keydown",this.bRf.Z(this));v.bd(this.bb,"mouseover",this.cZj.Z(this))};tN.cZk=function(Y){Y=Y||o;this.bQX=Y.suffixes||bQX;this.bd("onselect",Y.onselect||f);if(Y.width)this.bb.style.width=Y.width+"px"};tN.Oi=function(event){this.q=g.clearInterval(this.q);if(!!eu.vx(this.eP.value)){this.bYk()}};tN.JA=function(event){this.Vs=eu.vx(this.eP.value);if(!this.q)this.q=g.setInterval(this.cZb.Z(this),100)};tN.bRf=function(event){if(!this.cYX())return;var nl=event.keyCode;switch(nl){case 9:case 13:this.bYk();break;case 38:case 40:this.cYW(nl==40);break}};tN.cZj=function(event){var mW=v.fh(event),bF=e.cJ(this.bb);if(!bF.length||bF[0]==mW)return;for(var i=1,l=bF.length;i<l;++i)bF[i]==mW?e.bK(bF[i],JM):e.bZ(bF[i],JM)};tN.cYX=function(){var dO=this.bb.parentNode;return!!dO&&!!dO.tagName};tN.cYW=function(cYS){var bF=e.cJ(this.bb);for(var i=0,l=bF.length,bfi;i<l;++i){if(e.hv(bF[i],JM)){bfi=cYS?i==l-1?1:i+1:i==1?l-1:i-1;e.bZ(bF[i],JM);e.bK(bF[bfi],JM);break}}};tN.bYk=function(){for(var i=0,bF=e.cJ(this.bb),l=bF.length;i<l;++i)if(e.hv(bF[i],JM)){this.eP.value=bF[i].innerHTML;this.Vs=this.eP.value;this.bhS(false);this.bn("onselect",this.Vs);break}if(i>=l&&bF[1]){this.eP.value=bF[1].innerHTML;this.Vs=this.eP.value;this.bhS(false);this.bn("onselect",this.Vs)}};tN.bhS=function(cYK){!cYK?e.dq(this.bb):this.fV.appendChild(this.bb)};tN.cZb=function(){var bH=eu.vx(this.eP.value);if(bH!=this.Vs){this.Vs=bH;this.cYJ(bH)}};tN.cYG=function(){this.bb.innerHTML=""};tN.cYJ=function(bH){this.cYG();if(!bH){this.bhS(false);return}var zN=[],i;var Ro=bH.indexOf("@"),Bn=this.bQX;if(Ro<0){for(i=0;i<Bn.length;++i)zN.push(bH+"@"+Bn[i])}else{var QV=bH.substring(Ro+1),eU=QV.length;for(i=0;i<Bn.length;++i)if(Bn[i].substr(0,eU)==QV)zN.push(bH.substring(0,Ro)+"@"+Bn[i])}if(!zN.length){this.bhS(false);return}for(var i=0,bYh=['<div class="zitm f-thide s-fc6">请选择或继续输入...</div>'];i<zN.length;++i)bYh.push('<div class="zitm f-thide'+(i==0?" "+JM:"")+'">'+zN[i]+"</div>");this.bhS(true);this.bb.innerHTML=bYh.join("")};tN.vt=function(zD,ma){if(zD==null||ma==null)return;var kg=this.bb.style;kg.top=ma+"px";kg.left=zD+"px"}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),p=NEJ.P("edu.m"),d=NEJ.P("edu.d"),ut=NEJ.P("nej.ut"),eu=NEJ.P("edu.u"),nN,cT=["云课堂","爱课程网"],cYr=new RegExp(/@([a-z0-9]+[_|\-|\.]?)*[a-z0-9]+\.[a-z]{2,3}$/i);p.bYg=NEJ.C();nN=p.bYg.bt(ut.hW,true);nN.hk=function(qB,Y){this.hu(Y);this.bb=qB;this.xV=e.bc(this.bb,"j-logform")[0];this.ix=e.bc(this.bb,"j-submit")[0];this.bpu=e.bc(this.bb,"j-loginTip")[0];this.JI=e.bc(this.bb,"j-autologin")[0];this.bYf=e.bc(this.bb,"fLogin_username_input")[0];this.Vw=e.bc(this.bb,"fLogin_password_input")[0];this.bYe=Y.regUrlNode;this.cc=new d.Pf;this.cc.bd("onCheckAccountStatus",this.bOY.Z(this));v.bd(this.bpu,"click",this.cYl.Z(this));if(!this.xV)return;this.bii=this.xV.id||"";this.xV.reset();this.cYk()};nN.dld=function(){eu.bs(e.bc(this.bb,"fLogin_username")[0]);eu.bs(e.bc(this.bb,"fLogin_password")[0])};nN.cYl=function(bj){var eh=v.fh(bj,"c:j-btn"),bz=e.dj(eh,"type");if(!!eh&&!!bz){eu.bs(this.bpu);if(bz==cT[0]){this.Vw.focus();this.Vw.select()}else{window.open(g.yktHref+"/member/icourseLogin.htm?emailEncoded="+u.PG(this.cYa)+"&returnUrl="+u.PG(eu.bdq(this.bpW.concat([{key:"forcelogin",value:"true"}]))),"_self")}}};nN.cYk=function(){for(var i=0,bF=["username","password"],mr,xY;i<bF.length;++i){mr=e.bc(this.bb,this.bii+"_"+bF[i]+"_input")[0];xY=e.bc(this.bb,this.bii+"_"+bF[i])[0];if(mr&&xY){v.bd(xY,"click",this.cXY.Z(this));v.bd(mr,"blur",this.Oi.Z(this));v.bd(mr,"focus",this.JA.Z(this));v.bd(mr,"keydown",this.bRf.Z(this))}}this.bYc=e.bc(this.bb,this.bii+"_autologin")[0];if(this.JI){v.bd(this.JI,eu.qt()?"propertychange":"change",this.bYa.Z(this,this.JI));v.bd(this.JI.parentNode,eu.qt()?"mouseleave":"mouseout",this.bRU.Z(this,false));v.bd(this.JI.parentNode,eu.qt()?"mouseenter":"mouseover",this.bRU.Z(this,true))}v.bd(this.ix,"click",this.bqh.Z(this));v.bd(this.bYe,"click",function(){if(!!this.bqj){eu.es("reg",this.bqj)}}.Z(this));var bXZ=e.bc(this.bb,"fLogin_username_input")[0];if(bXZ){this.wG=p.bor.Z(bXZ,{width:293,parent:this.bb,onselect:this.cXE.Z(this)});this.wG.vt(35,47)}};nN.bOY=function(W){var qG=false,Y,nw;if(W==11){qG=!0;Y={type:cT[1],type2:cT[0]}}if(qG){eu.bv(this.bpu);this.bpu.innerHTML=e.bS("jst-edu-login-tips",Y)}};nN.cXE=function(nd){if(!!nd&&cYr.test(nd)){this.cYa=nd;this.cc.dbu(nd)}};nN.cXY=function(event){var mW=v.fh(event);if(!mW||!mW.id)return;var jQ=e.bc(this.bb,mW.id+"_input")[0];!!jQ&&jQ.focus()};nN.Oi=function(event){var mW=v.fh(event);if(!mW||!mW.name)return;var bH=eu.vx(mW.value),xY=e.bc(this.bb,this.bii+"_"+mW.name)[0];if(!bH)eu.bv(xY);e.bZ(mW.parentNode,"f-err")};nN.JA=function(event){var mW=v.fh(event);if(!mW||!mW.name)return;e.bZ(mW.parentNode,"f-err")};nN.bRf=function(event){var mW=v.fh(event);if(!mW||!mW.name)return;var xY=e.bc(this.bb,this.bii+"_"+mW.name)[0];eu.bs(xY);switch(event.keyCode){case 13:v.dG(event);if(mW.name=="username"){this.Vw.focus();this.Vw.select()}else if(mW.name=="password"){this.bqh()}break}};nN.bqh=function(){var NI,CZ;if(!(NI=this.cWX()))return;if(!(CZ=this.cWW()))return;if(!!this.bXU){this.bXU()}this.cWG(CZ,NI);this.xV.submit();if(!!this.bqj){eu.es("logon",this.bqj)}return};nN.cWX=function(){var NI=eu.vx(this.bYf.value);if(!NI){e.bK(this.bYf.parentNode,"f-err");return}return NI};nN.cWG=function(CZ,NI){this.xV["username"].value=NI;CZ=u.daU(CZ.substring(0,16));this.xV["password"].value=CZ;this.xV["type"].value=0};nN.cWW=function(){var CZ=eu.vx(this.Vw.value);if(!CZ){e.bK(this.Vw.parentNode,"f-err");return}return CZ};nN.bYa=function(cWF){if(cWF.checked){this.xV["savelogin"].value="1"}else{this.xV["savelogin"].value="0"}this.bXT();this.bRU(false)};nN.bRU=function(qG){if(!qG){eu.bs(this.bYc)}else{eu.bv(this.bYc)}};p.bindLoginForm=function(qB,Y){return new p.bYg(qB,Y)};nN.cWC=function(cWx){this.bXU=cWx};nN.cWv=function(gz){this.bqj=gz||"otherauth";this.bYe.href=eu.cXd();this.JI.checked=true;this.bYa(this.JI)};nN.cWr=function(cWq,cWn){this.cWg=cWq;this.bpW=cWn||[];this.xV["url"].value=eu.bdq(this.bpW);this.bXT()};nN.bXT=function(){var cWd=[2,4,3];u.bw(this.cWg,function(fT,bf){if(bf>2){fT.href=g.yktHref+"/member/icourseLogin.htm?returnUrl="+u.PG(eu.bdq(this.bpW.concat([{key:"forcelogin",value:"true"}])))}else{fT.href=g.yktHref+"/sns/doOAuth.htm?snsType="+cWd[bf]+"&oauthType=login&returnUrl="+u.PG(eu.bdq(this.bpW.concat([{key:"forcelogin",value:"true"}])))+(this.JI.checked?"&edusave=1":"")}}.Z(this))}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),biU;var dh;eu.wZ=NEJ.C();biU=eu.wZ.bt(eu.gb,true);eu.wZ.JO=function(Y){if(!!dh){return}dh=eu.wZ.bh(Y);dh.fI()};eu.wZ.dlh=function(Y){if(!dh){return}dh=eu.wZ.bg(dh)};biU.bJ=function(){dh=null;this.bN()};biU.bU=function(){var cVZ=e.bS("jst-edu-login-form");var cVT=e.bS("jst-edu-login-dialog",{loginform:cVZ});this.bW=e.bX(cVT)};biU.bL=function(){this.bO();this.xV=e.bc(this.bb,"j-loginform")[0];this.cVP=e.bc(this.bb,"j-regUrl")[0];this.bSC=p.bindLoginForm(this.xV,{regUrlNode:this.cVP});this.cVO=e.bc(this.bb,"j-slink")};biU.bE=function(Y){Y=Y||{};Y.title="登录云课堂";Y.clazz="u-logwin";this.bG(Y);this.bSC.cWC(Y.beforeSubmitFunc||f);this.bSC.cWv(Y.from);this.bSC.cWr(this.cVO,Y.aftParams)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),p=NEJ.P("nej.ui"),dv='<div class="m-allwrap"><div class="cnt f-cb"></div><a class="u-loadmore f-bg f-f0" style="display:none">载入更多</a><div class="nocnt f-fc9" style="display:none">暂无内容</div></div>',pP;eu.oS=NEJ.C();pP=eu.oS.bt(eu.cq,true);pP.bU=function(){this.bW=e.bX(dv)};pP.bL=function(){this.bO();this.dk=1;var tX=e.cJ(this.bb);this.brg=tX[0];this.VE=tX[1];this.brm=tX[2]};pP.hK=function(W,dy){this.fW=dy||this.fW;if(!!W){var bjF=W.pagination;if(!!bjF&&bjF.totlePageCount>1){eu.bv(this.VE);if(bjF.pageIndex===1){this.gN([[this.VE,"click",this.wt.Z(this)]])}if(bjF.pageIndex===bjF.totlePageCount){eu.bs(this.VE);v.vd(this.VE,"click",this.wt.Z(this))}}else{eu.bs(this.VE)}var bru=false;if(!!W.lectorResult&&W.lectorResult.length>0){this.oP.hK(W.lectorResult,this.fW,eu.CONST.ROLE_LECTOR);bru=true}if(!!W.assistResult&&W.assistResult.length>0){this.oP.hK(W.assistResult,this.fW,eu.CONST.ROLE_ASSISTANT);bru=true}if(!!W.result&&W.result.length>0){this.oP.hK(W.result,this.fW);bru=true}if(!!bru){if(!!this.bXR){this.bXR()}eu.bs(this.brm)}else{this.bXQ()}}else{this.bXQ()}};pP.bXQ=function(){if(!!this.bXP){this.bXP()}else{eu.bv(this.brm)}};pP.wt=function(){this.bn("onLoad",++this.dk)};pP.bE=function(Y){this.bG(Y);this.fW=Y.tpl||"";this.cVA=Y.noCnt||"暂无内容";this.bAE=Y.clickActions||[];this.bXR=Y.hasCntCb||null;this.bXP=Y.noCntCb||null;this.brm.innerHTML=this.cVA;this.oP=eu.ns.bh({parent:this.brg,tpl:this.fW,clickActions:this.bAE});this.bn("onLoad",this.dk)};pP.bJ=function(){if(!!this.oP){this.oP=eu.ns.bg(this.oP)}this.dk=1;eu.bs(this.brm);eu.bs(this.VE);this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),bjH;var dv=e.dL('<div class="ctn"><img src="" class="j-pic f-fl" width="125"/><div class="f-fl tip">用微信扫描二维码<br>分享至好友和朋友圈</div></div>');eu.brC=NEJ.C();bjH=eu.brC.bt(eu.gb,true);eu.brC.bP=function(Y){var fc=eu.brC.bh(Y);fc.fI()};bjH.bU=function(){this.bW=e.bX(e.bS(dv))};bjH.bL=function(){this.bO();this.Ts=e.bc(this.bb,"j-pic")[0]};bjH.bJ=function(){this.bN()};bjH.bE=function(Y){Y.title=" ";Y.clazz="m-QRCodeDialog";this.bG(Y);this.Ts.src=Y.pic}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),yg,cVx=e.dL('<div class="u-share f-cb"><a class="solo f-fl f-fc6 sina" title="分享到新浪微博" rel="sina"></a><a class="solo f-fl f-fc6 qzone" title="分享到QQ空间" rel="qzone"></a><a class="solo f-fl f-fc6 renren" title="分享到人人" rel="renren"></a><a class="weixin solo f-fl f-fc6" href="javascript:;" title="分享到微信" rel="weixin"></a><a class="yixin solo f-fl f-fc6" href="javascript:;" title="分享到易信" rel="yixin"></a></div>');eu.Ja=NEJ.C();yg=eu.Ja.bt(eu.cq,true);yg.bU=function(){this.bW=e.bX(e.bS(cVx))};yg.bL=function(){this.bO();this.bvn=e.cJ(this.bb);this.Di={};this.Di.netease="HrJOJ17S62E4ipIa";this.Di.sina={};this.Di.sina.id="4122644977";this.cVs="yxd47a24089cb047c29f862bbbf8b402e4";this.Di.renren="";this.Di.kaixin={};this.Di.kaixin.starid="0";this.Di.kaixin.aid="0";this.Di.douban="";var bjX=[];bjX[0]="height=505,width=615,top="+(screen.height-280)/2;bjX[1]="left="+(screen.width-550)/2;bjX[2]="toolbar=no, menubar=no, scrollbars=no,";bjX[2]+="resizable=yes,location=no, status=no";this.bvr=bjX.join(",")};yg.cVg=function(item){var bXO;bXO=item.getAttribute("rel");this.gN([[item,"click",this.ll.Z(this,bXO)]])};yg.ll=function(rel,event){if(!!this.cUV){this.bn("onClick",rel)}else{this.cUU(rel)}};yg.cUU=function(rel){switch(rel){case"sina":this.cUS();break;case"renren":this.cUF();break;case"qzone":this.cUE();break;case"douban":this.dli();break;case"weixin":eu.brC.bP({pic:this.bvA});break;case"yixin":this.cUC();break;default:break}eu.es("share",rel,this.OP+":"+this.lw)};yg.dlj=function(bsu){this.Ts=bsu};yg.cUC=function(){var ji={appkey:this.cVs,type:"webpage",title:this.bvE,desc:this.bkr,userdesc:"",pic:this.Ts,url:this.lw};var arr=[];for(var tmp in ji){arr.push(tmp+"="+encodeURIComponent(ji[tmp]||""))}url="http://open.yixin.im/share?"+arr.join("&");g.open(url,"_blank",this.bvr)};yg.cUE=function(dlk){var ji={url:this.lw,title:this.bvE,pics:this.Ts,summary:this.bkr};var arr=[];for(var tmp in ji){arr.push(tmp+"="+encodeURIComponent(ji[tmp]||""))}url="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?"+arr.join("&");g.open(url,"Qzone",this.bvr)};yg.cUS=function(){var param={url:this.lw,appkey:this.Di.sina.id,title:this.hP,pic:this.Ts,ralateUid:this.Di.sina.ralateUid,language:"zh_cn"};var arr=[];for(var tmp in param){arr.push(tmp+"="+encodeURIComponent(param[tmp]||""))}url="http://service.weibo.com/share/share.php?"+arr.join("&");g.open(url,"_blank",this.bvr)};yg.cUF=function(){var rrShareParam={api_key:this.Di.renren,resourceUrl:"",srcUrl:this.lw,pic:this.Ts,title:this.bvE,description:this.bkr};var hl=location.href.indexOf("#");var resUrl=hl==-1?location.href:location.href.substr(0,hl);var shareImgs="";var getParam=function(param){param=param||{};param.api_key=param.api_key||"";param.resourceUrl=param.resourceUrl||resUrl;param.title=param.title||"";param.pic=param.pic||"";param.description=param.description||"";if(resUrl==param.resourceUrl){param.images=param.images||shareImgs}param.charset=param.charset||"";return param};var submitUrl="http://widget.renren.com/dialog/share";var p=getParam(rrShareParam);var prm=[];for(var i in p){if(p[i])prm.push(i+"="+encodeURIComponent(p[i]))}var url=submitUrl+"?"+prm.join("&"),maxLgh=eu.qt?2048:4100,wa="width=700,height=650,left=0,top=0,resizable=yes,scrollbars=1";g.open(url,"renren",wa)};yg.bE=function(Y){this.bG(Y);u.bw(this.bvn,this.cVg.Z(this));this.hP=Y.title||"";this.bvE=Y.topic||"";this.bkr=Y.description||"";this.Ts=Y.pic||"";this.lw=Y.url||g.location.href;this.cm=Y.type||0;this.bvA=Y.weixinQR||"";this.cUV=Y.yield||false;eu.cW(this.bvn[4],!!this.bvA);eu.cW(this.bvn[3],!!this.bvA);e.bZ(this.bb,"u-share2");if(this.cm==1){e.bK(this.bb,"u-share2")}this.OP=Y.from||""};yg.bJ=function(){this.bN()}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),p=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bC=u.fb(),IT,Te="ck-examCreateCache";p.IS=NEJ.C();IT=p.IS.bt(p.hF);IT.bkC=function(yj,fo){if(!eu.dK())return;var bz=fo;if(fo==400){bz=200}this.bI({key:Te+bC,url:"TermDraftBean.manageExamDraft",param:[yj,bz],onload:this.bkD.Z(this,fo)})};IT.bkD=function(fo,W){this.bn("onManageExamDraft",fo,W)};IT.bvN=function(bT,xM,yj){if(!eu.dK())return;this.bI({key:Te+bC,url:"TermDraftBean.publishExamDraft",param:[bT,xM,yj],onload:this.cUy.Z(this)})};IT.cUy=function(W){this.bn("onPublishExamDraft",W)};IT.bsV=function(IR,fo,xM){if(!eu.dK())return;this.bI({key:Te+bC,url:"MocAdminQuizBean.manageExamTestDraft",param:[IR,fo,xM],onload:this.cUw.Z(this,fo)})};IT.cUw=function(fo,W){this.bn("onManageExamTestDraft",fo,W)};IT.cUp=function(xM,bT){this.bI({key:Te+bC,url:"MocAdminQuizBean.getExamDraft",param:[xM,bT],onload:this.bsZ.Z(this)})};IT.bsZ=function(W){this.bn("onGetExamDraft",W)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),zR,dn=e.bX('<div class="u-simpleFileUpload"><div class="j-uploadArea f-cb" style="display:none;"><div class="j-upload f-fl uploadBtn"></div><div class="j-tipNode f-fl tipNode"></div></div><div class="j-info f-cb info" style="display:none;"><div class="f-fl name f-thide"></div><div class="f-fl fb"></div><a class="f-fl cancel">取消</a></div></div>');eu.SX=NEJ.C();zR=eu.SX.bt(eu.cq,!0);zR.bU=function(){this.bW=dn};zR.bL=function(){this.bO();this.ZI=e.bc(this.bb,"j-uploadArea")[0];this.rH=e.bc(this.bb,"j-upload")[0];this.cUl=e.bc(this.bb,"j-tipNode")[0];this.nV=e.bc(this.bb,"j-info")[0];this.cV=e.cJ(this.nV);this.fO=this.cV[0];this.Iy=this.cV[1];this.ml=this.cV[2];v.bd(this.ml,"click",this.is.Z(this))};zR.It=function(W){this.gO.yD("上传中···");this.fO.innerText=eu.DE(W.name||"");eu.bv(this.ml);eu.bv(this.nV);eu.bs(this.ZI);this.bn("beginUpload",W)};zR.cUk=function(W){this.gO.cg();this.fO.innerText="";eu.bs(this.ml);eu.bs(this.nV);eu.bv(this.ZI)};zR.is=function(){if(!!this.eQ){this.eQ.rL()}this.bn("abortUpload")};zR.cUf=function(W){if(W.total>this.ZL.maxSize){eu.yo(eu.CONST.UPLOAD_ERROR_LIMITED,this.is.Z(this));return}this.bn("onupdateProgress",W)};zR.wt=function(W){if(!!W.retSuc){this.gO.cg();this.bn("onFinishUpload",W)}else{eu.yo()}this.cUk()};zR.sz=function(ip){if(!!this.ZL.suffixs){return eu.Ru(null,ip,this.ZL.suffixs)}return true};zR.ve=function(){if(!!this.eQ){this.eQ=eu.nY.bg(this.eQ)}this.eQ=eu.nY.bh({parent:this.rH,beginUpload:this.It.Z(this),txt:this.ZL.txt,action:"/file/smallFileUpload.htm",supportAnchor:false,tokenType:eu.CONST.UPLOAD_TOKEN_TYPE_DEFAULT,verifyFile:this.sz.Z(this),onFinishUpload:this.wt.Z(this),onupdateProgress:this.cUf.Z(this),onUploadError:function(){this.bn("onUploadError")}.Z(this)});this.cUl.innerHTML=this.ZL.tip;eu.bs(this.nV);eu.bv(this.ZI)};zR.bE=function(Y){this.bG(Y);this.ZL={txt:Y.txt||"+ 上传附件",tip:Y.tip||"",suffixs:Y.suffixs,maxSize:Y.maxSize||eu.CONST.UPLOAD_SIZE_MAX_SIMPLE};this.ve();this.gO=eu.cz.bh({parent:this.Iy});this.gO.cg()};zR.bJ=function(){if(!!this.gO){this.gO=eu.cz.bg(this.gO)}if(this.eQ){this.eQ=eu.nY.bg(this.eQ)}this.bN()}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),bC=u.fb(),IO,re="ck-testBaseCache";d.btx=NEJ.C();IO=d.btx.bt(d.hF);IO.bXN=function(SP,te,Ki){this.bI({key:re+bC,url:"MocQuizBean.saveDraftAnswers",onlyHideLoading:!Ki,param:[SP,te],onload:this.cUb.Z(this,Ki)})};IO.cUb=function(Ki,W){this.bn("onSaveDraftAnswers",W,Ki)};IO.ZR=function(SP,te){this.bI({key:re+bC,url:"MocQuizBean.submitAnswers",param:[SP,te],onload:this.cUa.Z(this)})};IO.cUa=function(W){this.bn("onSubmitAnswers",W)};IO.btI=function(){this.bI({key:re+bC,url:"MemberBean.getMocMemberTutorialInfo",param:[],onload:this.cTU.Z(this)})};IO.cTU=function(W){this.bn("onGetMocMemberTutorialInfo",W)};IO.VS=function(bR,bH){this.bI({key:re+bC,url:"MemberBean.setMocMemberTutorialInfo",param:[bR,bH],onload:this.cTQ.Z(this)})};IO.cTQ=function(W){this.bn("onSetMocMemberTutorialInfo",W)}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),bC=u.fb(),lo,re="ck-HomeworkCacheCache";d.sA=NEJ.C();lo=d.sA.bt(d.btx);lo.bXM=function(dZ,hE,fa){this.bI({key:re+bC,url:"MocQuizBean.getHomeworkInfo",param:[dZ,hE,fa],onload:this.bwr.Z(this)})};lo.bwr=function(W){this.bn("onGetHomeworkInfo",W)};lo.VU=function(dZ,bwt,cTK,vh,hE,te){var bwv=te?"MocAdminQuizBean.previewTestDraft":"MocQuizBean.getHomeworkPaperDto";var lQ=te?[dZ]:[dZ,bwt,cTK,vh,hE];this.bI({key:re+bC,url:bwv,param:lQ,onload:this.cTF.Z(this)})};lo.cTF=function(W){this.bn("onGetHomeworkPaper",W)};lo.cTD=function(dZ,SJ){this.bI({key:re+bC,url:"MocEvaluateBean.getEvaluateStatus",param:[dZ,SJ],onload:this.cTA.Z(this)})};lo.cTA=function(W){this.bn("onGetEvaluateStatus",W)};lo.cTf=function(dZ,hE){this.bI({key:re+bC,url:"MocEvaluateBean.getEvaluateStatusByAid",param:[dZ,hE],onload:this.cTd.Z(this)})};lo.cTd=function(W){this.bn("onGetEvaluateStatusByAid",W)};lo.cSY=function(dZ,SJ){this.bI({key:re+bC,url:"MocEvaluateBean.getEvaluateDetail",param:[dZ,SJ],onload:this.cSU.Z(this)})};lo.cSU=function(W){this.bn("onGetEvaluateDetail",W)};lo.bwE=function(dZ,SJ,cC){this.bI({key:re+bC,url:"MocEvaluateBean.startOneSubmissionEvaluate",param:[dZ,SJ],onload:this.cST.Z(this,cC)})};lo.cST=function(cC,W){this.bn("onGetNextEvaluate",W,cC)};lo.dll=function(dZ,SJ){this.bI({key:re+bC,url:"MocEvaluateBean.startSelfSubmissionEvaluate",param:[dZ,SJ],onload:this.cSJ.Z(this)})};lo.cSJ=function(W){this.bn("onGetSelfEvaluate",W)};lo.bwI=function(cSI,buF){this.bI({key:re+bC,url:"MocEvaluateBean.submitSubmissionEvaluate",param:[cSI,buF],onload:this.bwL.Z(this,buF)})};lo.bwL=function(buF,W){if(!!buF){this.bn("onSaveEvaluate",W)}else{this.bn("onSubmitEvaluate",W)}};lo.cSH=function(bT,mT){this.bI({key:re+bC,url:"MocAdminQuizBean.getEvaluateTrain",param:[bT,mT||false],onload:this.cSG.Z(this)})};lo.cSG=function(W){this.bn("onGetTrainPaper",W)};lo.cSF=function(lr,bT){this.bI({key:re+bC,url:"MocEvaluateBean.saveTrainedRecord",param:[lr,bT],onload:this.cSC.Z(this)})};lo.cSC=function(W){this.bn("onSaveTrainedRecord",W)};lo.buX=function(dZ,hE){this.bI({key:re+bC,url:"MocQuizBean.getHomeworkEvalInfo",param:[dZ,hE],onload:this.cSB.Z(this)})};lo.cSB=function(W){this.bn("onGetHomeworkEvalInfo",W)};lo.cSx=function(hE,cSs){this.bI({key:re+bC,url:"MocQuizBean.deleteAttachment",param:[hE,cSs],onload:this.cSn.Z(this)})};lo.cSn=function(W){this.bn("onDeleteAttachment",W)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),u=NEJ.P("nej.u"),eu=NEJ.P("edu.u"),Sz,cSf;eu.bkL=NEJ.C();Sz=eu.bkL.bt(eu.cq,true);cSf=eu.bkL.cH;Sz.bL=function(){this.Bh=u.fb(2);this.mQ=NEJ.P("edu.u.pdfReader"+this.Bh);this.bO();this.NY()};Sz.bJ=function(){if(!!this.fV){var bF=e.cJ(this.fV);if(!!bF){for(var i=0;i<bF.length;i++){this.fV.removeChild(bF[i])}}}delete this.lO;this.bN()};Sz.NY=function(){this.mQ.changePage=this.cSb.Z(this)};Sz.cSb=function(cRZ){this.bn("onPageChange",{toPageNum:cRZ})};Sz.bE=function(Y){e.Jm({src:g.imageUrlMap.image_pdf_swf,width:"100%",height:"100%",parent:Y.parent,params:{wmode:"transparent",flashvars:"namespace=edu.u.pdfReader"+this.Bh,allowscriptaccess:"always",allowFullScreen:!Y.notAllowFullScreen},onready:function(lM){this.lO=lM}.Z(this)});this.bG(Y);this.cRW(Y.lessonLearnVo)};Sz.cRW=function(bam){if(!bam){return}this.dlm=bam;if(!!this.ban){this.ban=g.clearInterval(this.ban)}this.ban=g.setInterval(function(){if(!!this.lO){this.lO.loadSwfFile(bam.textUrl,{startPageNum:bam.learnedPosition||1,widthHeightRadio:bam.textPageWhRatio});this.ban=g.clearInterval(this.ban)}}.Z(this),100)}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),bC=u.fb(),oO,Ix="ck-forumCache",lL=20;d.CX=NEJ.C();oO=d.CX.bt(d.hF);oO.cRN=function(bT){this.bI({key:Ix+bC,url:"MocForumBean.getForumInfo",param:[bT],onload:this.cRM.Z(this)})};oO.cRM=function(W){this.bn("onGetForumInfo",W)};oO.bar=function(bT,fa,ZP){this.bI({key:Ix+bC,url:"MocForumBean.getForumListByTermId",param:[bT,fa,ZP],onload:this.bxk.Z(this)})};oO.bxk=function(W){if(!W)return;var dr=W[0];W[0]=W[1];W[1]=W[2];W[2]=dr;if(!!W[4]&&W[4].type==eu.CONST.FORUM_TYPE_ELITE){dr=W[4];W.splice(4,1);W.splice(3,0,dr)}this.bn("onGetForumListByTermId",W)};oO.cRD=function(bT,yh,mT,ZP){this.bI({key:Ix+bC,url:"MocForumBean.getForumByIdWithChildrens",param:[bT,yh,mT,ZP],onload:this.cRw.Z(this)})};oO.cRw=function(W){this.bn("onGetForumByIdWithChildrens",W)};oO.bxo=function(bT,vM,bq,Sf){this.bI({key:Ix+bC,url:"PostBean.getUserFollowedPosts",param:[bT,vM,bq,lL],onload:this.cRr.Z(this,Sf)})};oO.cRr=function(Sf,W){this.bn("onGetUserFollowedPosts",W,Sf)};oO.cRp=function(bT,yh,sS,bq,fa,bau){this.bI({key:Ix+bC,url:"PostBean.getAllPostsPagination",param:[bT,yh,sS,bq,lL,fa,bau||null],onload:this.cRm.Z(this)})};oO.cRm=function(W){this.bn("onGetAllPostsPagination",W)};oO.cRk=function(yh,rm,mT,bT){this.bI({key:Ix+bC,url:"MocForumBean.getForumNavi",param:[yh,rm,mT,bT],onload:this.cRh.Z(this)})};oO.cRh=function(W){this.bn("onGetForumNavi",W)};oO.cRe=function(lr,bT){this.bI({key:Ix+bC,url:"MemberBean.getMocMemberTrim",param:[lr,bT],onload:this.cQY.Z(this)})};oO.cQY=function(W){this.bn("onGetMocMemberTrim",W)};oO.bxz=function(Iq,da){Iq=NEJ.X(Iq||{},{highlight:true});this.bI({key:Ix+bC,url:"MocForumBean.searchMocForum",notShowLoading:true,param:[Iq,da],onload:this.cQW.Z(this)})};oO.cQW=function(W){this.bn("onSearchMocForum",W)};oO.bXH=function(bV){this.bI({key:Ix+bC,url:"MocForumBean.getMocForumDto",param:[bV],onload:this.cQR.Z(this)})};oO.cQR=function(W){this.bn("ongetMocForumDto",W)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),d=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),Ks;var dv='<div class="f-pa u-previewstatus"><a class="f-fl u-btn u-btn-primary publishbtn j-btn">发布</a><span class="f-fl statustxt f-fc9 j-txt"></span></div>';var cv=e.dA(".#<uispace>{ width:120px; top:6px; right:-120px; height:28px;}.#<uispace> .publishbtn{ line-height:22px; margin-left:8px; padding:2px 9px; min-width:0px;}.#<uispace> .statustxt{ line-height:28px; margin-left:8px;}");eu.yb=NEJ.C();Ks=eu.yb.bt(eu.cq,true);Ks.bU=function(){this.ds=cv;this.bW=e.bX(dv)};Ks.bL=function(){this.bO();this.blB=e.bc(this.bb,"j-btn")[0];this.Lo=e.bc(this.bb,"j-txt")[0];this.pq=new d.rq;this.pq.bd("onPublishChapter",this.bxI.Z(this));this.pq.bd("onPublishTest",this.bxI.Z(this));this.zF=new d.IS;this.zF.bd("onPublishExamDraft",this.bxI.Z(this));v.bd(this.blB,"click",this.cQQ.Z(this))};Ks.cQQ=function(qf){v.dG(qf);if(!!this.bXG)return;switch(this.cm){case eu.CONST.CHAPTER_QUIZ:case eu.CONST.CHAPTER_HOMEWORK:this.pq.bmU(this.iH,this.iH.test.type);break;case eu.CONST.CHAPTER_TYPE_NORMAL:this.pq.ccM(this.iH.termId,this.iH.id);break;case eu.CONST.CHAPTER_TYPE_EXAM:this.zF.bvN(this.iH.termId,this.iH.id,null);break}};Ks.bxI=function(W){if(!!W&&Boolean(W.success)==true){eu.showToastTips({type:1,content:"发布成功"});this.blB.style.display="none";this.Lo.innerHTML="已发布"}else{var cT="";if(W.message){cT=W.message}else if(W.messages){for(var i=W.messages.length-1;i>=0;i--){cT+=W.messages[i]}}eu.cp.bP({type:1,message:cT})}};Ks.bE=function(Y){this.bG(Y);this.iH=Y.vo;this.cm=Y.type;this.bXG=Y.hidePublish;this.cQO()};Ks.cQO=function(){this.jZ=this.iH.testDraftStatus==undefined?this.iH.draftStatus:this.iH.testDraftStatus;var eT="";var bxO=true;switch(this.jZ){case eu.CONST.CHAPTERSTATUS_CREATE:eT="未发布";break;case eu.CONST.CHAPTERSTATUS_PUBLISHED:eT="";bxO=false;break;case eu.CONST.CHAPTERSTATUS_MODIFIED:eT="有修改";break;case eu.CONST.CHAPTERSTATUS_DELETED:eT="已删除";break}e.bZ(this.bb,"leftin");if(this.cm==eu.CONST.CHAPTER_TYPE_EXAM&&bxO!=false){e.bK(this.bb,"leftin")}this.Lo.innerHTML=eT;if(bxO&&!this.bXG){this.blB.style.display="block"}else{this.blB.style.display="none"}};Ks.bJ=function(){this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),blT;var qL=e.bX('<div class="u-moocbl"><span class="j-tips"></span></div>');eu.xU=NEJ.C();blT=eu.xU.bt(eu.cq,true);blT.bU=function(){this.bW=qL};blT.bL=function(){this.bO();this.cQM=e.bc(this.bb,"j-tips")[0]};blT.bE=function(Y){this.bG(Y);this.cQM.innerText=Y.tips||"MOOC内容"}})();
(function(){var dC=window,de=NEJ.O,dm=NEJ.F,bm=NEJ.P("nej.e"),cd=NEJ.P("nej.v"),bY=NEJ.P("edu.u"),CR;var cv=bm.dA(".#<uispace> .anonyInfo{color:#999;}.#<uispace> .userInfo .type{margin:0 5px;padding:0 5px;display:inline-block;line-height:18px;color:#fff;text-align:center;}.#<uispace> .userInfo .type.lector{background-color:#6CB4FB;}.#<uispace> .userInfo .type.manager{background-color:#9BCE00;}.#<uispace> .userInfo.fightAttend .userName{padding:5px 5px 5px 24px;background:url(/res/images/pages/learn/fight.png) -150px -147px no-repeat;}.#<uispace> .userInfo .type.assist{background-color:#6CB4FB;}");var ev=bm.bX('<span><span class="anonyInfo j-anonyInfo">匿名发表</span><span class="userInfo j-userInfo"></span></span>');bY.Ih=NEJ.C();CR=bY.Ih.bt(bY.cq,true);CR.bU=function(){this.bW=ev;this.ds=cv};CR.bL=function(){this.bO();this.bXF=bm.bc(this.bb,"j-anonyInfo")[0];this.xR=bm.bc(this.bb,"j-userInfo")[0];this.fl=new cO.vU;this.fl.bd("onsetUserBannedForSite",this.bXC.Z(this,"site"));this.fl.bd("onsetUserBannedForTerm",this.bXC.Z(this,"term"));cd.bd(this.xR,"click",this.cQz.Z(this))};CR.byb=function(W,bT){this.bXB(false);var dN=this.xR.innerHTML,Up=W[1],byd=W[2],bmp=W[3];this.cK=bT;this.bXA=W;dN+=' <a href="mailto:'+Up+'" class="f-fcgreen" title="'+Up+'">发邮件</a>';if(eu.bzP([eu.CONST.ROLE_OUT_COURSE_EDITOR,eu.CONST.ROLE_FORUM_MANAGER])){dN+=' <a class="j-ban" class="f-fcgreen" data-action="site" data-state="'+byd+'">'+(byd>0?"解除":"")+"全站禁言</a>";dN+=' <a class="j-ban" class="f-fcgreen" data-action="term" data-state="'+bmp+'">'+(bmp>0?"解除":"")+"课程禁言</a>"}else if(eu.Ir(dC.courseDto.lectorPanels,eu.dE().id)||eu.bHb((dC.courseDto.ordinaryEditor||{}).id)){if(byd>0){dN+=' <span class="f-fc9">已被全站禁言</span>'}else{dN+=' <a class="j-ban" class="f-fcgreen" data-action="term" data-state="'+bmp+'">'+(bmp>0?"解除":"")+"禁言</a>"}}this.xR.innerHTML=dN};CR.cQz=function(bj){var eh=cd.fh(bj,"c:j-ban");if(!!eh){cd.dG(bj);var eL=bm.dj(eh,"action"),il=bm.dj(eh,"state");if(eL=="site"){this.cQv(il)}else{this.cQq(il)}}};CR.cQv=function(il){var fe=il>0?'<p class="f-fwb">你确认解除该用户禁言吗？</p><p>解除后该用户可在所有讨论区发表主题、回复、评论</p>':'<p class="f-fwb">你确认将该用户禁言吗？</p><p>确认后该用户将无法在所有讨论区发表主题、回复、评论</p>';bY.cp.bP({type:1,message:fe,okFunc:function(){this.fl.cQm(this.kW.id,il>0?0:1)}.Z(this),cancelFunc:dm})};CR.cQq=function(il){var fe=il>0?'<p class="f-fwb">你确认解除该用户禁言吗？</p><p>解除后该用户可在本课程讨论区发表主题、回复、评论</p>':'<p class="f-fwb">你确认将该用户禁言吗？</p><p>确认后该用户将无法在本课程讨论区发表主题、回复、评论</p>';bY.cp.bP({type:1,message:fe,okFunc:function(){this.fl.cQk(this.kW.id,this.cK,il>0?0:1)}.Z(this),cancelFunc:dm})};CR.bXC=function(bz,W,il){if(!!W){var bf=bz=="site"?2:3;eu.showToastTips({type:1,content:(il>0?"":"解除")+"禁言成功"});this.bXA[bf]=il;this.byb(this.bXA,this.cK)}};CR.bXB=function(byl){if(!!byl){bY.bv(this.bXF);bY.bs(this.xR)}else{bY.bs(this.bXF);bY.bv(this.xR);var bXz="#"+eu.umi("learnForumPersonal")+"?uid="+this.kW.id;var dN;if(!!this.kW.fightStatus){bm.bK(this.xR,"fightAttend")}if(this.byn){dN='<span class="f-fc6 userName" title="'+this.kW.nickName+'">'+eu.bom(this.kW.nickName,12)+"</span>"}else{dN='<a class="f-fcgreen userName" href="'+bXz+'" title="'+this.kW.nickName+'">'+eu.bom(this.kW.nickName,12)+"</a>"}if(eu.mR(this.kW.roles,eu.CONST.ROLE_FORUM_MANAGER)){dN+="<span class='type manager'>管理员</span>"}else{var kn=bY.Ir(dC.courseDto.lectorPanels,this.kW.id);if(!!kn){switch(kn.lectorType){case bY.CONST.REL_TYPE_TERM_CHIEF_LECTOR:case bY.CONST.REL_TYPE_TERM_LECTOR:dN='<a class="f-fcgreen" href="'+bXz+'"  title="'+this.kW.realName+'">'+eu.bom(this.kW.realName,12)+"</a>"+"<span class='type lector'>老师</span>";break;case bY.CONST.REL_TYPE_TERM_ASSIST:dN+="<span class='type assist'>助教</span>";break}}}this.xR.innerHTML=dN}};CR.bJ=function(){this.xR.title="";this.bN()};CR.bE=function(Y){this.bG(Y);this.kW=Y.userDto;this.dln=Y.locked||eu.Il()==eu.CONST.FORUM_FORBID_ELITE||false;bm.bZ(this.xR,"fightAttend");this.bXB(!!Y.anonymous)}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bC=u.fb(),gs,mw="ck-forumDetailCache";d.vU=NEJ.C();gs=d.vU.bt(d.hF);gs.bXx=function(bV,bT){this.bI({key:mw+bC,url:"PostBean.getPostDetailById",param:[bV,bT],onload:this.cPO.Z(this)})};gs.cPO=function(W){this.bn("onGetPostDetailById",W)};gs.cPN=function(bV){this.bI({notShowLoading:true,key:mw+bC,url:"PostBean.incrPostBrowse",param:[bV],onload:this.cPM.Z(this)})};gs.cPM=function(W){this.bn("onAddBrowseCount",W)};gs.cPK=function(bV,bT){this.bI({notShowLoading:true,key:mw+bC,url:"PostBean.clearUnreadCount",param:[bV,bT],onload:this.cPI.Z(this)})};gs.cPI=function(W){this.bn("onclearUnreadCount",W)};gs.cPH=function(bV){this.bI({key:mw+bC,url:"MocForumBean.deletePost",param:[bV],onload:this.cPF.Z(this)})};gs.cPF=function(W){this.bn("onDelPost",W)};gs.cPE=function(bV){this.bI({key:mw+bC,url:"MocForumBean.changePostFollow",param:[bV,true],onload:this.cPC.Z(this)})};gs.cPC=function(W){if(!!W){eu.showToastTips({content:"关注成功!",type:1});this.bn("onFollowPost",W)}else{eu.showToastTips({content:"关注失败!",type:2})}};gs.cPB=function(bV){this.bI({key:mw+bC,url:"MocForumBean.changePostFollow",param:[bV,false],onload:this.cPu.Z(this)})};gs.cPu=function(W){if(!!W){eu.showToastTips({content:"取消成功!",type:1});this.bn("onCancelFollowPost",W)}else{eu.showToastTips({content:"取消失败!",type:2})}};gs.cPq=function(byE,Ri,bT){this.bI({key:mw+bC,url:"MocForumBean.addReply",param:[byE,Ri,bT],onload:this.cPk.Z(this)})};gs.cPk=function(W){this.bn("onAddReply",W)};gs.cOT=function(rm,baY){this.bI({key:mw+bC,url:"MocForumBean.deleteReply",param:[rm,baY],onload:this.cOR.Z(this)})};gs.cOR=function(W){this.bn("onDelReply",W)};gs.cOG=function(bV,sS,vK,ih,bT){var cOA=sS=="gmt_create"?vK=="asc"?1:2:3;this.bI({key:mw+bC,url:"PostBean.getPaginationReplys",param:[bV,cOA,ih,bT],onload:this.cOh.Z(this)})};gs.cOh=function(W){this.bn("onGetReplyList",W)};gs.cOg=function(baY,ih){this.bI({key:mw+bC,url:"PostBean.getPaginationComments",param:[baY,ih],onload:this.cOc.Z(this)})};gs.cOc=function(W){this.bn("onGetCmtList",W)};gs.cNU=function(cNQ,Ri){this.bI({key:mw+bC,url:"MocForumBean.addComment",param:[cNQ,Ri],onload:this.cNO.Z(this)})};gs.cNO=function(W){this.bn("onAddComment",W)};gs.cNr=function(rm,byU){this.bI({key:mw+bC,url:"MocForumBean.deleteComment",param:[rm,byU],onload:this.cNm.Z(this)})};gs.cNm=function(W){this.bn("onDelComment",W)};gs.cNj=function(rm,bV,bz,cNi,bnz){this.bI({key:mw+bC,url:"MocForumBean.markVote",param:[rm,bV,bz,cNi,bnz],onload:this.cNf.Z(this)})};gs.cNf=function(W){this.bn("onVote",W)};gs.bXr=function(rm,bV,bz,ma){this.bI({key:mw+bC,url:"MocForumBean.markTop",param:[rm,bV,bz,!!ma?1:0],onload:this.cMW.Z(this,ma)})};gs.cMW=function(ma,W){if(!!W){eu.showToastTips({content:!!ma?"已标记为置顶":"已取消置顶",type:1})}this.bn("onMarkTop",W)};gs.bXq=function(rm,bV,bz,bnI){this.bI({key:mw+bC,url:"MocForumBean.markAgree",param:[rm,bV,bz,!!bnI?1:0],onload:this.cML.Z(this,bnI)})};gs.cML=function(bnI,W){if(!!W){eu.showToastTips({content:!!bnI?"已标记为赞同":"已取消赞同",type:1})}this.bn("onMarkAgree",W)};gs.cMG=function(rm,bnL){this.bI({key:mw+bC,url:"MocForumBean.markSolve",param:[rm,!!bnL?1:0],onload:this.cME.Z(this,bnL)})};gs.cME=function(bnL,W){if(!!W){eu.showToastTips({content:!!bnL?"已标记为解决":"已取消解决",type:1})}this.bn("onMarkSolve",W)};gs.bXp=function(rm,bV,bz){this.bI({key:mw+bC,url:"MocForumBean.checkPosterInfo",param:[rm,bV,bz],onload:this.cMC.Z(this)})};gs.cMC=function(W){this.bn("onCheckPosterInfo",W)};gs.cMA=function(Qo,Ri){this.bI({key:mw+bC,url:"MocForumBean.addPost",param:[Qo,Ri],onload:this.cMr.Z(this)})};gs.cMr=function(W){this.bn("onAddPost",W)};gs.cMo=function(Qo,Ri){this.bI({key:mw+bC,url:"MocForumBean.editPost",param:[Qo,Ri],onload:this.cLZ.Z(this)})};gs.cLZ=function(W){this.bn("onEditPost",W)};gs.cQm=function(bC,Hy){this.bI({key:mw+bC,url:"MocForumBean.setUserBannedForSite",param:[bC,Hy],onload:this.cLN.Z(this,Hy)})};gs.cLN=function(Hy,W){this.bn("onsetUserBannedForSite",W,Hy)};gs.cQk=function(bC,bT,Hy){this.bI({key:mw+bC,url:"MocForumBean.setUserBannedForTerm",param:[bC,bT,Hy],onload:this.cLL.Z(this,Hy)})};gs.cLL=function(Hy,W){this.bn("onsetUserBannedForTerm",W,Hy)};gs.bXm=function(bT){this.bI({key:mw+bC,url:"MocForumBean.checkUserBannedList",param:[bT],onload:this.cLA.Z(this)})};gs.cLA=function(W){this.bn("oncheckUserBannedList",W)};gs.cLv=function(CW,cLq,cKW){this.bI({key:mw+bC,url:"MocForumBean.copyGoodPost",param:[CW,cLq,cKW],onload:this.cKN.Z(this)})};gs.cKN=function(W){this.bn("onCopyGoodPost",W)}})();
(function(){var dC=window,de=NEJ.O,dm=NEJ.F,bm=NEJ.P("nej.e"),cd=NEJ.P("nej.v"),cO=NEJ.P("edu.d"),bY=NEJ.P("edu.u"),PY;var cv=bm.dA(".#<uispace> div{cursor:pointer;width:15px;height:15px;background: url("+dC.imageUrlMap.forum_icon_sprite+") no-repeat -4999px -4999px;}.#<uispace> .num{color:#666;line-height:15px;max-width:45px;margin:0 3px;}.#<uispace> .up{ background-position:2px -22px;}.#<uispace> .up.hvr:hover{ background-position:-15px -22px;}.#<uispace> .up.voted{ background-position:-33px -22px;}.#<uispace> .down{ background-position:2px -44px;}.#<uispace> .down.hvr:hover{ background-position:-15px -44px;}.#<uispace> .down.voted{ background-position:-33px -44px;}");var ev=bm.bX('<div class="f-cb"><div class="up f-fl j-up"></div><p class="num f-fl f-thide j-num"></p><div class="down f-fl j-down"></div></div>');bY.bbu=NEJ.C();PY=bY.bbu.bt(bY.cq,true);PY.bU=function(){this.bW=ev;this.ds=cv};PY.bL=function(){this.bO();this.PX=bm.bc(this.bb,"j-up")[0];this.bXi=bm.bc(this.bb,"j-num")[0];this.PW=bm.bc(this.bb,"j-down")[0];cd.bd(this.PX,"click",this.bXh.Z(this,bY.CONST.TALK_VOTE_DIGG));cd.bd(this.PW,"click",this.bXh.Z(this,bY.CONST.TALK_VOTE_CAI));this.fl=new cO.vU;this.fl.bd("onVote",this.cKA.Z(this))};PY.bXh=function(cKz,bj){cd.dG(bj);if(eu.Il()>0){this.bn("onBanned");return}this.Wt=cKz;this.fl.cNj(this.pY,this.hw,this.cm,this.Wt,this.xF.voteOpinion===this.Wt?1:0)};PY.cKA=function(W){if(W==null){bY.showToastTips({type:2,content:"投票失败"});return}var bbA=0;var bXg=this.Wt;if(this.xF.voteOpinion<0){bbA=1}else if(this.Wt!=this.xF.voteOpinion){bbA=2}else{bXg=-1;bbA=-1}this.xF.voteOpinion=bXg;if(this.Wt==bY.CONST.TALK_VOTE_DIGG){this.xF.voteCount+=bbA}else if(this.Wt==bY.CONST.TALK_VOTE_CAI){this.xF.voteCount-=bbA}this.bXf();this.bn("onVote",{voteOpinion:this.xF.voteOpinion,targetId:this.hw,targetType:this.cm})};PY.bXf=function(){this.xF.voteCount=this.xF.voteCount||0;this.bXi.innerText=bY.blo(this.xF.voteCount);this.bXi.title=this.xF.voteCount;bm.bZ(this.PX,"voted");bm.bZ(this.PW,"voted");bm.bK(this.PX,"hvr");bm.bK(this.PW,"hvr");this.PX.title="顶";this.PW.title="踩";if(this.xF.voteOpinion==bY.CONST.TALK_VOTE_DIGG){bm.bZ(this.PX,"hvr");bm.bK(this.PX,"voted");this.PX.title="取消顶"}else if(this.xF.voteOpinion==bY.CONST.TALK_VOTE_CAI){bm.bZ(this.PW,"hvr");bm.bK(this.PW,"voted");this.PW.title="取消踩"}};PY.bE=function(Y){this.bG(Y);this.pY=Y.postId;this.hw=Y.id;this.cm=Y.type;this.xF=Y.dataVo;this.bXf()}})();
(function(){var dC=window,de=NEJ.O,dm=NEJ.F,bm=NEJ.P("nej.e"),cd=NEJ.P("nej.v"),bD=NEJ.P("nej.u"),bY=NEJ.P("edu.u"),PT;var cv=bm.dA(".#<uispace> .bd{color:#ddd;margin:0 5px;}.#<uispace> .manBtn span{display:inline-block;vertical-align:middle;height:14px;width:14px;background:url("+dC.imageUrlMap.forum_icon_sprite+") no-repeat -55px -45px;}.#<uispace> .manBtn:hover span{background-position:-72px -45px;}.u-manList{position:absolute;width:110px;background-color:#fff;border:1px solid #DDD;border-bottom:none;}.u-manList li{line-height:30px;text-align:center;border-bottom:1px solid #DDD;cursor:pointer;}.u-manList li:hover a{color:#61A500;}");var ev=bm.bX('<div class="f-cb"><div class="f-fl bd">|</div><a hidefocus="true" class="f-fl f-fc9 manBtn"><span></span>管理</a></div>');bY.bbC=NEJ.C();PT=bY.bbC.bt(bY.cq,true);PT.bU=function(){this.bW=ev;this.ds=cv};PT.bL=function(){this.bO();cd.bd(this.bb,bY.qt()?"mouseenter":"mouseover",this.bbD.Z(this,true));cd.bd(this.bb,bY.qt()?"mouseleave":"mouseout",this.bbD.Z(this,false))};PT.bbD=function(qG,bj){if(!!qG){if(this.bXa){dC.clearTimeout(this.bXa)}if(this.rO&&document.body.contains(this.rO)){return}var bWZ=bm.oR(this.bb);this.rO.style.zIndex=1e3;this.rO.style.top=bWZ.y+18+"px";this.rO.style.left=bWZ.x-20+"px";document.body.appendChild(this.rO)}else{this.bXa=dC.setTimeout(function(){if(this.rO&&document.body.contains(this.rO)){document.body.removeChild(this.rO)}}.Z(this),10)}};PT.bJ=function(){if(this.rO&&this.rO.parentNode){this.rO.parentNode.removeChild(this.rO)}this.bN()};PT.bbG=function(itemStr,eq){var bWY=this.bWX[itemStr];if(!!bWY){bWY.innerText=eq||""}};PT.bE=function(Y){this.bG(Y);var dN="<ul class='u-manList'>";bD.bw(Y.showItems,function(bo){switch(bo){case"onCheck":dN+="<li data-eventmes='onCheck'><a hidefocus='true' class='f-fc9'>查看发帖人信息</a></li>";break;case"onResolve":dN+="<li data-eventmes='onResolve'><a hidefocus='true' class='f-fc9'>已解决</a></li>";break;case"onTop":dN+="<li data-eventmes='onTop'><a hidefocus='true' class='f-fc9'>置顶</a></li>";break;case"onAgree":dN+="<li data-eventmes='onAgree'><a hidefocus='true' class='f-fc9'>赞同</a></li>";break;case"onDel":dN+="<li data-eventmes='onDel'><a hidefocus='true' class='f-fc9'>删除</a></li>";break}});dN+="</ul>";this.rO=bm.hU(dN);var cJx=bm.cJ(this.rO);this.bWX={};bD.bw(cJx,function(uw){var eq=bm.dj(uw,"eventmes");this.bWX[eq]=bm.cJ(uw)[0];this.gN([[uw,"click",function(){this.bn(eq)}.Z(this)]])}.Z(this));this.gN([[this.rO,bY.qt()?"mouseenter":"mouseover",this.bbD.Z(this,true)],[this.rO,bY.qt()?"mouseleave":"mouseout",this.bbD.Z(this,false)]]);this.bbD(false)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),wf,cJv=e.dL('<div class="m-edititem"><div class="editwrap"><textarea name="edittxt" class="j-edittxt edittxt"></textarea><label class="j-hint hint" for="edittxt"></label></div><div class="editopt f-cb"><a hidefocus="true" class="j-edit-btn u-btn u-btn-primary editbtn"><span class="j-btn-text">保存</span></a><a hidefocus="true" class="j-close-btn f-fc9 cancelbtn">取消</a></div></div>');eu.bzZ=NEJ.C();wf=eu.bzZ.bt(eu.cq,true);wf.bU=function(){this.bW=e.bX(e.bS(cJv))};wf.bL=function(){this.bO();this.uE=e.bc(this.bb,"j-hint")[0];this.hm=e.bc(this.bb,"j-edittxt")[0];this.bpb=e.bc(this.bb,"j-edit-btn")[0];this.cJl=e.bc(this.bb,"j-btn-text")[0];this.KE=e.bc(this.bb,"j-close-btn")[0];v.bd(this.uE,"click",this.baF.Z(this));v.bd(this.hm,"focus",this.bQb.Z(this));v.bd(this.hm,"blur",this.Uf.Z(this));v.bd(this.hm,"keydown",this.bQo.Z(this));v.bd(this.bpb,"click",this.bWW.Z(this));v.bd(this.KE,"click",this.cJg.Z(this))};wf.baF=function(){this.hm.focus()};wf.Uf=function(bj){v.dG(bj);var hx=this.hm.value;if(!hx){eu.bv(this.uE)}else{eu.bs(this.uE)}this.bn("onBlurArea")};wf.bQb=function(bj){v.dG(bj);eu.bs(this.uE);this.bn("onFocusArea")};wf.bQo=function(bj){if(!!bj.ctrlKey){switch(bj.keyCode){case 13:v.dG(bj);this.bWW();break}}};wf.bWW=function(bj){v.dG(bj);this.bn("onEditClick")};wf.cJg=function(bj){v.dG(bj);this.bn("onCloseClick")};wf.bE=function(Y){this.bG(Y);this.cJl.innerText=Y.btnText||"保存";this.KE.innerText=Y.cancelBtnText||"取消";this.uE.innerText=Y.labelText||"";eu.bv(this.uE);var bAf=Y.notShowClose||false;if(!bAf){eu.bv(this.KE)}else{eu.bs(this.KE)}};wf.cZ=function(bH){bH=eu.vx(bH||"");this.Uo=bH;this.hm.value=bH;this.Uf()};wf.ckn=function(){var Mf=this.ca();return this.Uo!=Mf&&Mf!=""};wf.ca=function(){var hx=eu.vx(this.hm.value||"");return hx}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),p=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bC=u.fb(),bbO,bAh="ck-reportCache";p.bWV=NEJ.C();bbO=p.bWV.bt(p.hF);bbO.cIX=function(rm,Hq,rU,cX,cG,Et){this.bI({key:bAh+bC,url:"ReportBean.reportPost",param:[rm,Hq,rU,cX,cG,Et],onload:this.bAm.Z(this)})};bbO.cIW=function(baY,Hq,cX,cG,Et){this.bI({key:bAh+bC,url:"ReportBean.reportReply",param:[baY,Hq,cX,cG,Et],onload:this.bAm.Z(this)})};bbO.cIP=function(byU,Hq,cX,cG,Et){this.bI({key:bAh+bC,url:"ReportBean.reportComment",param:[byU,Hq,cX,cG,Et],onload:this.bAm.Z(this)})};bbO.bAm=function(W){this.bn("onReportCb",W)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),d=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),Ho;bAq=e.bX('<div class="m-reportDialog"><div class="j-reportedit reportedit"></div><div class="j-feedback feedback"></div></div>');eu.bbR=NEJ.C();Ho=eu.bbR.bt(eu.gb,true);eu.bbR.bP=function(Y){var fc=eu.bbR.bh(Y);fc.fI()};Ho.bU=function(){this.bW=bAq};Ho.bL=function(){this.bO();this.cIF=e.bc(this.bb,"j-reportedit")[0];this.Iy=e.bc(this.bb,"j-feedback")[0];this.bpA=new d.bWV;this.bpA.bd("onReportCb",this.cIy.Z(this))};Ho.cIy=function(W){if(!!W){eu.showToastTips({content:"提交成功，感谢你对云课堂高等教育的支持！",type:1});this.eB()}else{this.gv.cs("提交失败，请重试")}};Ho.bbU=function(){var Et=this.tw.ca();if(Et==""){this.gv.cs(this.cIw,true)}else{switch(this.cm){case eu.CONST.TALK_VOTE_POST:this.bpA.cIX(this.iH.id,this.iH.posterId,this.iH.title,this.iH.content,location.href,Et);break;case eu.CONST.TALK_VOTE_REPLY:this.bpA.cIW(this.iH.id,this.iH.replyerId,this.iH.content,location.href,Et);break;case eu.CONST.TALK_VOTE_COMMENT:this.bpA.cIP(this.iH.id,this.iH.commentorId,this.iH.content,location.href,Et);break}}};Ho.cIs=function(){this.eB()};Ho.cIr=function(){this.gv.cg()};Ho.bJ=function(){if(!!this.gv){this.gv=eu.cz.bg(this.gv)}if(!!this.tw){this.tw=eu.bzZ.bg(this.tw)}this.bN()};Ho.bE=function(Y){this.iH=Y.vo;this.cm=Y.type;Y.title=Y.title||"举报不良信息";Y.clazz="u-window-pd";var cIp=Y.placeHold||"请填写举报原因";this.cIw=Y.feedBackTxt||"请填写举报原因";this.bG(Y);this.gv=eu.cz.bh({parent:this.Iy});this.gv.cg();this.tw=eu.bzZ.bh({parent:this.cIF,labelText:cIp,btnText:"提交"});this.tw.cZ("");this.tw.bd("onFocusArea",this.cIr.Z(this));this.tw.bd("onEditClick",this.bbU.Z(this));this.tw.bd("onCloseClick",this.cIs.Z(this))}})();
(function(){var dC=window,de=NEJ.O,dm=NEJ.F,bm=NEJ.P("nej.e"),cd=NEJ.P("nej.v"),bD=NEJ.P("nej.u"),cO=NEJ.P("edu.d"),bY=NEJ.P("edu.u"),qP;var cv=bm.dA(".#<uispace>{background-color:#f8f8f8;padding:10px 20px;}.#<uispace> .title{max-width:68%;word-break:break-word;}.#<uispace> .content{padding-top:10px;}.#<uispace> .infobar{padding:10px 0;border-bottom:1px solid #eee;}.#<uispace> .infobar .time{padding:0 10px;}.#<uispace> .optbar{padding-top:10px;}.#<uispace> .optBox,.#<uispace> .votebox{margin-top:5px;}.#<uispace> .optBox .divider{color:#ddd;margin:0 5px;}.#<uispace> .optbar a.u-btn-sm{line-height:18px;}.#<uispace> .optbar a i{vertical-align:-3px;display:inline-block;width:20px;height:16px;background:url("+dC.imageUrlMap.forum_icon_sprite+") no-repeat -4999px -4999px;}.#<uispace> .optbar .replyBtn i{background-position: -54px 1px;}.#<uispace> .followBtn{margin-right:10px;}.#<uispace> .optbar .followBtn.unfollowed i{background-position: -78px 0;}.#<uispace> .optbar .followBtn.unfollowed .second,.#<uispace> .optbar .followBtn.unfollowed .secHvr{display:none;}.#<uispace> .optbar .followBtn.followed i{background-position: -53px -24px;}.#<uispace> .optbar .followBtn.followed .first,.#<uispace> .optbar .followBtn.followed .secHvr{display:none;}.#<uispace> .optbar .followBtn.followed:hover .second{display:none;}.#<uispace> .optbar .followBtn.followed:hover .secHvr{display:inline-block;padding-left:8px;}");var ev=bm.bX('<div><div class="f-cb"><h3 class="j-title title f-fl"></h3><a class="f-fr u-btn u-btn-sm u-btn-default j-transBtn" style="display:none">迁移至“过往学期精华贴”</a><div class="f-cb f-fr j-tagBox"><div class="u-forumtag u-forumtag1 j-tagTopNode">置顶</div><div class="u-forumtag j-tagAgreeNode">赞同</div><div class="u-forumtag j-tagSolveNode">已解决</div><div class="u-forumtag j-tagTeacherNode">老师参与</div></div></div><div class="content f-richEditorText j-content"></div><div class="infobar f-cb"><div class="j-infoBox"><div class="f-fl name j-name"></div><div class="f-fl f-fc9 time j-time"></div></div><div class="f-fl f-fc9 j-fromUnitBox">来自课件“<a class="j-fromUnit f-fcgreen"></a>”</div></div><div class="optbar f-cb"><a hidefocus="true" class="f-fl followBtn u-btn u-btn-sm j-followBtn"><span class="first j-followInner"><i></i>关注</span><span class="second j-followInner"><i></i>已关注</span><span class="secHvr j-followInner">取消关注</span></a><a hidefocus="true" class="f-fl replyBtn u-btn u-btn-sm j-replyBtn"><span><i></i>回复</span></a><div class="f-cb f-fr optBox j-optBox"><div class="f-fl j-editDivider divider">|</div><a hidefocus="true" class="f-fl f-fc9 editBtn j-editBtn">编辑</a><div class="f-fl divider">|</div><a hidefocus="true" class="f-fl f-fc9 editBtn j-reportBtn">举报</a><div class="f-fl j-manBox"></div></div><div class="f-fr votebox j-vote"></div></div></div>');bY.bAD=NEJ.C();qP=bY.bAD.bt(bY.cq,true);qP.bU=function(){this.bW=ev;this.ds=cv};qP.bL=function(){this.bO();this.hn=bm.bc(this.bb,"j-title")[0];this.gl=bm.bc(this.bb,"j-content")[0];this.bAG=bm.bc(this.bb,"j-time")[0];this.eJ=bm.bc(this.bb,"j-name")[0];this.bAI=bm.bc(this.bb,"j-vote")[0];this.dlu=bm.bc(this.bb,"j-optBox")[0];this.nE=bm.bc(this.bb,"j-editBtn")[0];this.bWR=bm.bc(this.bb,"j-editDivider")[0];this.bAM=bm.bc(this.bb,"j-reportBtn")[0];this.bcc=bm.bc(this.bb,"j-followBtn")[0];this.dlx=bm.bc(this.bb,"j-followInner");this.cHk=bm.bc(this.bb,"j-replyBtn")[0];this.KF=bm.bc(this.bb,"j-manBox")[0];this.bWO=bm.bc(this.bb,"j-transBtn")[0];this.WC=bm.bc(this.bb,"j-tagBox")[0];this.bcf=bm.bc(this.bb,"j-tagTopNode")[0];this.bcg=bm.bc(this.bb,"j-tagAgreeNode")[0];this.bWN=bm.bc(this.bb,"j-tagSolveNode")[0];this.bWM=bm.bc(this.bb,"j-tagTeacherNode")[0];this.bWL=bm.bc(this.bb,"j-infoBox")[0];this.bWK=bm.bc(this.bb,"j-fromUnitBox")[0];this.bWJ=bm.bc(this.bb,"j-fromUnit")[0];cd.bd(this.nE,"click",this.bbU.Z(this));cd.bd(this.bAM,"click",this.bBa.Z(this));cd.bd(this.bcc,"click",this.cGC.Z(this));cd.bd(this.cHk,"click",this.bBc.Z(this));this.bWI=dC.newTermId;cd.bd(this.bWO,"click",function(bj){if(!this.bWH){this.fl.cLv(this.eb.termId,this.eb.id,this.bWI);this.bWH=true}}.Z(this));this.fl=new cO.vU;this.fl.bd("onDelPost",this.cGv.Z(this));this.fl.bd("onFollowPost",this.bcm.Z(this,true));this.fl.bd("onCancelFollowPost",this.bcm.Z(this,false));this.fl.bd("onCheckPosterInfo",this.KJ.Z(this,"onCheck"));this.fl.bd("onMarkAgree",this.KJ.Z(this,"onAgree"));this.fl.bd("onMarkTop",this.KJ.Z(this,"onTop"));this.fl.bd("onMarkSolve",this.KJ.Z(this,"onResolve"));this.fl.bd("onCopyGoodPost",this.cGu.Z(this))};qP.cGu=function(W){var eT="已成功迁址至“过往学期精华贴”",bz=1;this.bWH=false;if(!W){eT="迁移失败";bz=2}bY.showToastTips({type:bz,content:eT})};qP.bBa=function(bj){bY.bbR.bP({vo:this.eb,type:bY.CONST.TALK_VOTE_POST})};qP.cGv=function(W){if(!!W){dC.dispatcher.cI(bY.umi("learnForumIndex"))}};qP.pB=function(){bY.cp.bP({type:1,message:"<b>你确定删除该贴吗？</b><p>确定后将删除该贴下全部回复和评论</p>",okFunc:function(){this.fl.cPH(this.eb.id)}.Z(this),cancelFunc:dm.Z(this),focusNum:1})};qP.bcm=function(bWG){bY.bv(this.bcc);this.eb.hasFollowed=!!bWG;bm.bZ(this.bcc,"followed unfollowed");if(!!bWG){bm.bK(this.bcc,"followed")}else{bm.bK(this.bcc,"unfollowed")}};qP.cGC=function(){if(eu.Il()>0){this.bn("onBanned");return}if(!!this.eb.hasFollowed){this.fl.cPB(this.eb.id)}else{this.fl.cPE(this.eb.id)}};qP.KJ=function(eq,W){if(!!W){switch(eq){case"onCheck":if(this.lk){this.lk.byb(W,this.eb.termId)}break;case"onAgree":this.eb.tagAgree=!this.eb.tagAgree;break;case"onTop":this.eb.tagTop=!this.eb.tagTop;break;case"onResolve":this.eb.tagSolve=!this.eb.tagSolve;break}this.bcr()}};qP.KK=function(eq){switch(eq){case"onCheck":if(this.eb.type==eu.CONST.TYPE_LESSONUNIT){bY.showToastTips({content:"该贴来自课件,无法查看发贴人信息",type:2})}else{this.fl.bXp(this.eb.id,this.eb.id,bY.CONST.TALK_VOTE_POST)}break;case"onAgree":this.fl.bXq(this.eb.id,this.eb.id,bY.CONST.TALK_VOTE_POST,!this.eb.tagAgree);break;case"onTop":this.fl.bXr(this.eb.id,this.eb.id,bY.CONST.TALK_VOTE_POST,!this.eb.tagTop);break;case"onResolve":this.fl.cMG(this.eb.id,!this.eb.tagSolve);break}};qP.bcr=function(){bY.bv(this.WC);if(!!this.eb.tagTop||!!this.eb.tagAgree||!!this.eb.tagSolve||!!this.eb.tagLector){bY.bs(this.bcf);bY.bs(this.bcg);bY.bs(this.bWN);bY.bs(this.bWM);if(!!this.eb.tagTop){bY.bv(this.bcf)}if(!!this.eb.tagAgree){bY.bv(this.bcg)}if(!!this.eb.tagSolve){bY.bv(this.bWN)}if(!!this.eb.tagLector){bY.bv(this.bWM)}}else{bY.bs(this.WC)}if(!!this.bWI){bY.bs(this.WC);bY.bv(this.bWO)}if(!!this.vT){this.vT.bbG("onTop",!!this.eb.tagTop?"取消置顶":"置顶");this.vT.bbG("onAgree",!!this.eb.tagAgree?"取消赞同":"赞同");this.vT.bbG("onResolve",!!this.eb.tagSolve?"取消解决":"已解决")}};qP.bBc=function(){this.bn("onReply")};qP.bbU=function(){dC.dispatcher.cI(bY.umi("learnForumTopic")+"?fid="+this.eb.forumId+"&pid="+this.eb.id)};qP.cGo=function(){if(this.eb.relateUnit){bY.bv(this.bWK);this.bWJ.innerText=this.eb.relateUnit.name;this.bWJ.href="#"+bY.umi("learnContent")+"?type=detail&id="+this.eb.relateUnit.lessonId+"&cid="+this.eb.relateUnit.id}else{bY.bs(this.bWK)}if(this.eb.type==eu.CONST.TYPE_LESSONUNIT){bY.bs(this.bWL)}else{bY.bv(this.bWL);this.bAG.innerText=bY.bqp(this.eb.postTime);this.lk=bY.Ih.bh({parent:this.eJ,anonymous:this.eb.anonymous,userDto:this.kW})}};qP.bE=function(Y){this.bG(Y);this.eb=Y.postVo;this.kW=this.eb.poster||{};this.hn.innerText=bY.bcT(this.eb.title||"");if(!!bY.vx(this.eb.content)){bY.bv(this.gl);bD.kM(this.gl,this.eb.content)}else{bY.bs(this.gl)}this.cGo();this.Ow=bY.bbu.bh({parent:this.bAI,postId:this.eb.id,id:this.eb.id,type:bY.CONST.TALK_VOTE_POST,dataVo:{voteCount:this.eb.countVote,voteOpinion:!!this.eb.hasVoteUp?bY.CONST.TALK_VOTE_DIGG:!!this.eb.hasVoteDown?bY.CONST.TALK_VOTE_CAI:-1},onVote:function(W){this.bn("onVote",W)}.Z(this),onBanned:function(){this.bn("onBanned")}.Z(this)});this.bcm(this.eb.hasFollowed);if(bY.bzC(this.kW.id)){bY.bv(this.nE);bY.bv(this.bWR)}else{bY.bs(this.nE);bY.bs(this.bWR)}if(bY.Ir(dC.courseDto.lectorPanels,bY.dE().id)||bY.bHb((dC.courseDto.ordinaryEditor||{}).id)||bY.ed(bY.CONST.ROLE_OUT_COURSE_EDITOR)||bY.ed(bY.CONST.ROLE_PLATFORM_ADMIN)||bY.ed(bY.CONST.ROLE_FORUM_MANAGER)){bY.bv(this.KF);var bWF=["onCheck","onResolve","onTop","onAgree"];if(this.eb.type!=eu.CONST.TYPE_LESSONUNIT){bWF.push("onDel")}this.vT=bY.bbC.bh({parent:this.KF,showItems:bWF,onTop:this.KK.Z(this,"onTop"),onAgree:this.KK.Z(this,"onAgree"),onResolve:this.KK.Z(this,"onResolve"),onCheck:this.KK.Z(this,"onCheck"),onDel:this.pB.Z(this)})}else{bY.bs(this.KF)}this.bcr()};qP.bJ=function(){if(!!this.lk){this.lk=bY.Ih.bg(this.lk)}if(!!this.Ow){this.Ow=bY.bbu.bg(this.Ow)}if(!!this.vT){this.vT=bY.bbC.bg(this.vT)}this.bN()}})();
(function(){var dC=window,de=NEJ.O,dm=NEJ.F,bm=NEJ.P("nej.e"),cd=NEJ.P("nej.v"),bY=NEJ.P("edu.u"),cA=NEJ.P("nej.ui"),wf;var cv=bm.dA(".#<uispace> {}.#<uispace> .rich-opt{margin-top:10px;}.#<uispace> .rich-opt label{cursor:pointer;color:#999;vertical-align:top;}.#<uispace> .rich-opt label:hover{color:#61a500;}.#<uispace> .rich-opt label input{margin-top:3px;}.#<uispace> .rich-opt .cancelbtn{margin-right:10px;line-height:24px;}.#<uispace> .unlogin{position:absolute;top:0;left:0;bottom:0;right:0;}.#<uispace> .unlogin .autowrap {margin:115px auto;width:188px;}.#<uispace> .unlogin .autowrap p{line-height:26px;color:#666;margin-right:10px;}");var dn=bm.bX('<div class="ui-richEditor f-cb f-pr"><div class="rich-wrap"><div class="rich-editor j-richeditor"></div><div class="rich-opt f-cb"><label class="j-anony f-fl"><input type="checkbox" hidefocus="true" class="j-anonycheck"/>&nbsp;&nbsp;匿名发表</label><a hidefocus="true" class="j-edit-btn editbtn u-btn u-btn-sm u-btn-primary f-fr"></a><a hidefocus="true" class="j-close-btn cancelbtn f-fc9 f-fr">取消</a></div></div><div class="unlogin j-unloginbox"><div class="autowrap f-cb"><p class="f-fl">发表观点要登录哦！</p><a hidefocus="true" class="j-login-btn loginbtn u-btn u-btn-sm u-btn-primary f-fl">立即登录</a></div></div></div>');bY.bcw=NEJ.C();tn=bY.bcw.bt(bY.cq,true);tn.bU=function(){this.bW=dn;this.ds=cv};tn.bL=function(){this.bO();this.cFI=bm.bc(this.bb,"j-richeditor")[0];this.bpb=bm.bc(this.bb,"j-edit-btn")[0];this.KE=bm.bc(this.bb,"j-close-btn")[0];this.dlA=bm.bc(this.bb,"j-anony")[0];this.bWD=bm.bc(this.bb,"j-anonycheck")[0];this.bBy=bm.bc(this.bb,"j-unloginbox")[0];this.bBz=bm.bc(this.bb,"j-login-btn")[0];cd.bd(this.bpb,"click",this.Oq.Z(this));cd.bd(this.KE,"click",this.jv.Z(this));cd.bd(this.bBz,"click",this.bBB.Z(this))};tn.Oq=function(bj){cd.dG(bj);this.bn("onEditClick")};tn.jv=function(bj){cd.dG(bj);this.bn("onCloseClick")};tn.bBB=function(bj){cd.dG(bj);bY.wZ.JO({})};tn.cFm=function(){if(bY.LK()){bY.bs(this.bBy)}else{bY.bv(this.bBy)}};tn.bE=function(Y){this.bG(Y);this.bpb.innerText=Y.btnText||"发表";var bAf=Y.notShowClose||false;if(!bAf){bY.bv(this.KE)}else{bY.bs(this.KE)}this.Uo=Y.initContent||"";this.KO=cA.fG.bh({parent:this.cFI,content:this.Uo,focus:!!Y.focus,height:Y.height});this.bWC(!!Y.anonyChecked);this.cFm()};tn.ckn=function(){var Mf=this.ca();return this.Uo!=Mf&&Mf!=""};tn.ca=function(){return this.KO.ca()};tn.bWB=function(){return!!this.bWD.checked?1:0};tn.bWC=function(byl){this.bWD.checked=!!byl};tn.ze=function(){return this.KO.ze()};tn.hK=function(cX){return this.KO.hK(cX)};tn.bWA=function(cFg){if(!bY.xG(this.bBy)){this.KO.hK("");this.bWC(false);if(!!cFg){this.KO.bkX()}}};tn.bJ=function(){if(!!this.KO){this.KO=cA.fG.bg(this.KO)}this.bN()}})();
(function(){var dC=window,de=NEJ.O,dm=NEJ.F,bm=NEJ.P("nej.e"),cd=NEJ.P("nej.v"),cO=NEJ.P("edu.d"),bY=NEJ.P("edu.u"),bcC;bY.bBJ=NEJ.C();bcC=bY.bBJ.bt(bY.bcw,true);bcC.bL=function(){this.bO();this.fl=new cO.vU;this.fl.bd("onAddReply",this.cEU.Z(this))};bcC.bBL=function(){var hx=this.ca();if(hx!=""){this.fl.cPq({postId:this.pY,content:hx,anonymous:this.bWB()},bY.bwO(this.ze()),this.cK)}else{bY.showToastTips({content:"请输入回复内容！",type:2})}};bcC.cEU=function(bWz){if(!bWz){eu.cp.bP({type:1,message:"发表失败，请刷新重试"});return}if(this.bcF){this.bcF(bWz)}this.bWA(true)};bcC.bE=function(Y){Y.btnText=Y.btnText||"发表回复";this.bcF=Y.submitCallback;this.pY=Y.postId;this.cK=Y.termId;this.bd("onEditClick",this.bBL.Z(this));Y.notShowClose=true;Y.focus=false;Y.initContent="";this.bG(Y)}})();
(function(){var dC=window,de=NEJ.O,dm=NEJ.F,bm=NEJ.P("nej.e"),cd=NEJ.P("nej.v"),bD=NEJ.P("nej.u"),cO=NEJ.P("edu.d"),bY=NEJ.P("edu.u"),xo;var cv=bm.dA(".#<uispace>{width:100%;padding-top:15px;}.#<uispace> .tagCt{margin-bottom:6px;}.#<uispace> .bar{padding:10px 0;}.#<uispace> .time{padding-left:10px;}.#<uispace> .opt{cursor:pointer;}.#<uispace> .divider{color:#ddd;margin:0 5px;}");var ev=bm.bX('<div class="m-detailInfoItem f-pr"><div class="tagCt f-cb j-tagBox"><div class="u-forumtag u-forumtag1 j-tagTopNode">置顶</div><div class="u-forumtag j-tagAgreeNode">赞同</div></div><div class="f-richEditorText j-content"></div><div class="bar f-cb"><div class="f-fl name j-name"></div><div class="f-fl f-fc9 time j-time"></div><div class="f-fr j-manBox"></div><a hidefocus="true" class="f-fr f-fc9 opt delBtn j-reportBtn">举报</a><div class="f-fr divider">|</div><a hidefocus="true" class="f-fr f-fc9 opt delBtn j-delBtn">删除</a><div class="j-delDivider f-fr divider">|</div><a hidefocus="true" class="f-fr f-fc9 opt cmtBtn j-cmtBtn">评论(0)</a><div class="j-cmtDivider f-fr divider">|</div><div class="f-fr votebox j-vote"></div></div></div>');bY.bcH=NEJ.C();xo=bY.bcH.bt(bY.cq,true);xo.bU=function(){this.bW=ev;this.ds=cv};xo.bL=function(){this.bO();this.bAG=bm.bc(this.bb,"j-time")[0];this.io=bm.bc(this.bb,"j-delBtn")[0];this.brt=bm.bc(this.bb,"j-cmtBtn")[0];this.bAM=bm.bc(this.bb,"j-reportBtn")[0];this.bWy=bm.bc(this.bb,"j-delDivider")[0];this.bWx=bm.bc(this.bb,"j-cmtDivider")[0];this.gl=bm.bc(this.bb,"j-content")[0];this.eJ=bm.bc(this.bb,"j-name")[0];this.bAI=bm.bc(this.bb,"j-vote")[0];this.KF=bm.bc(this.bb,"j-manBox")[0];this.WC=bm.bc(this.bb,"j-tagBox")[0];this.bcf=bm.bc(this.bb,"j-tagTopNode")[0];this.bcg=bm.bc(this.bb,"j-tagAgreeNode")[0];cd.bd(this.bAM,"click",this.bBa.Z(this));cd.bd(this.io,"click",this.pB.Z(this));cd.bd(this.brt,"click",this.brx.Z(this));this.fl=new cO.vU;this.fl.bd("onMarkAgree",this.KJ.Z(this,"onAgree"));this.fl.bd("onMarkTop",this.KJ.Z(this,"onTop"));this.fl.bd("onCheckPosterInfo",this.KJ.Z(this,"onCheck"))};xo.bBa=function(bj){bY.bbR.bP({vo:this.kH,type:this.bcM})};xo.KJ=function(eq,W){if(!!W){switch(eq){case"onCheck":if(this.lk){this.lk.byb(W,dC.termDto.id)}break;case"onAgree":this.kH.tagAgree=!this.kH.tagAgree;break;case"onTop":this.kH.tagTop=!this.kH.tagTop;break}this.bcr()}};xo.KK=function(eq){switch(eq){case"onCheck":this.fl.bXp(this.kH.postId,this.kH.id,this.bcM);break;case"onAgree":this.fl.bXq(this.kH.postId,this.kH.id,this.bcM,!this.kH.tagAgree);break;case"onTop":this.fl.bXr(this.kH.postId,this.kH.id,this.bcM,!this.kH.tagTop);break}};xo.bcr=function(){if(!!this.kH.tagTop||!!this.kH.tagAgree){bY.bv(this.WC);bY.bs(this.bcf);bY.bs(this.bcg);if(!!this.kH.tagTop){bY.bv(this.bcf)}if(!!this.kH.tagAgree){bY.bv(this.bcg)}}else{bY.bs(this.WC)}if(!!this.vT){this.vT.bbG("onTop",!!this.kH.tagTop?"取消置顶":"置顶");this.vT.bbG("onAgree",!!this.kH.tagAgree?"取消赞同":"赞同")}};xo.bE=function(Y){this.bG(Y);this.kH=Y.infoVo;this.bcM=Y.type;this.kW=Y.userDto||{};this.bAG.innerText=bY.bqp(this.kH.gmtCreate);bD.kM(this.gl,this.kH.content||"");if(bY.bzC(this.kW.id)&&eu.Il()==eu.CONST.FORUM_FORBID_NORMAL){bY.bv(this.io);bY.bv(this.bWy)}else{bY.bs(this.io);bY.bs(this.bWy)}if(bY.Ir(dC.courseDto.lectorPanels,bY.dE().id)||bY.bHb((dC.courseDto.ordinaryEditor||{}).id)||bY.ed(bY.CONST.ROLE_OUT_COURSE_EDITOR)||bY.ed(bY.CONST.ROLE_PLATFORM_ADMIN)||bY.ed(bY.CONST.ROLE_FORUM_MANAGER)){bY.bv(this.KF);this.vT=bY.bbC.bh({parent:this.KF,showItems:["onCheck","onTop","onAgree","onDel"],onTop:this.KK.Z(this,"onTop"),onAgree:this.KK.Z(this,"onAgree"),onCheck:this.KK.Z(this,"onCheck"),onDel:this.pB.Z(this)})}else{bY.bs(this.KF)}this.bcr();if(!!Y.showCmtBtn){bY.bv(this.brt);bY.bv(this.bWx)}else{bY.bs(this.brt);bY.bs(this.bWx)}this.lk=bY.Ih.bh({parent:this.eJ,anonymous:this.kH.anonymous,userDto:this.kW});this.Ow=bY.bbu.bh({parent:this.bAI,postId:this.kH.postId,id:this.kH.id,type:this.bcM,dataVo:{voteCount:this.kH.countVote,voteOpinion:!!this.kH.hasVoteUp?bY.CONST.TALK_VOTE_DIGG:!!this.kH.hasVoteDown?bY.CONST.TALK_VOTE_CAI:-1},onVote:function(W){this.bn("onVote",W)}.Z(this),onBanned:function(){this.bn("onBanned")}.Z(this)})};xo.cEG=function(){var dQ=1;if(bY.xG(this.io)){dQ++}if(bY.xG(this.KF)){dQ++}return dQ};xo.bWw=function(dQ){this.brt.innerText="评论("+(dQ||0)+")"};xo.brx=function(){this.bn("onCmt")};xo.pB=function(){this.bn("onDel")};xo.bJ=function(){if(!!this.lk){this.lk=bY.Ih.bg(this.lk)}if(!!this.Ow){this.Ow=bY.bbu.bg(this.Ow)}if(!!this.vT){this.vT=bY.bbC.bg(this.vT)}this.bN()}})();
(function(){var dC=window,de=NEJ.O,dm=NEJ.F,bm=NEJ.P("nej.e"),cd=NEJ.P("nej.v"),cO=NEJ.P("edu.d"),bY=NEJ.P("edu.u"),DT;var cv=bm.dA(".#<uispace> {width:550px;}.#<uispace> .small{background-color:#fff;border:1px solid #dfdfdf;padding:10px;color:#999;}.#<uispace> .small a{color:#61A500;}.#<uispace> .small.j-logupbox{cursor:pointer;}.#<uispace> .ui-richEditor .rich-editor .ztbar{padding:0 4px;}");var dn=bm.bX('<div><p class="small j-unlogbox">发表观点要登录哦！点击<a hidefocus="true" class="j-loginbtn loginbtn">登录</a></p><p class="small j-logupbox">添加评论...</p><div class="j-logdownbox"></div></div>');bY.bCa=NEJ.C();DT=bY.bCa.bt(bY.cq,true);DT.bU=function(){this.bW=dn;this.ds=cv};DT.bL=function(){this.bO();this.bWv=bm.bc(this.bb,"j-unlogbox")[0];this.brG=bm.bc(this.bb,"j-logupbox")[0];this.bCd=bm.bc(this.bb,"j-logdownbox")[0];this.bBz=bm.bc(this.bb,"j-loginbtn")[0];cd.bd(this.brG,"click",this.bCe.Z(this,true));cd.bd(this.bBz,"click",this.bBB.Z(this));this.fl=new cO.vU;this.fl.bd("onAddComment",this.cEw.Z(this))};DT.bBB=function(bj){cd.dG(bj);bY.wZ.JO({})};DT.bCe=function(tA){if(!!tA){if(eu.Il()>0){this.bn("onBanned");return}bY.bs(this.brG);bY.bv(this.bCd);this.eR=bY.bcw.bh({parent:this.bCd,focus:true,initContent:"",height:80,btnText:"添加评论",onEditClick:this.bBL.Z(this),onCloseClick:this.brJ.Z(this,false)})}else{if(!!this.eR){this.eR=bY.bcw.bg(this.eR)}bY.bv(this.brG);bY.bs(this.bCd)}};DT.brJ=function(tA){if(bY.LK()){bY.bs(this.bWv);this.bCe(tA)}else{this.bCe(false);bY.bv(this.bWv);bY.bs(this.brG)}};DT.bBL=function(){var hx=this.eR.ca();if(hx!=""){this.fl.cNU({postId:this.pY,replyId:this.cEv,content:hx,anonymous:this.eR.bWB()},bY.bwO(this.eR.ze()))}else{bY.showToastTips({content:"请输入评论内容！",type:2})}};DT.cEw=function(bcS){if(!bcS){eu.cp.bP({type:1,message:"发表失败，请刷新重试"});return}if(this.bcF){this.bcF(bcS)}this.brJ(false)};DT.bE=function(Y){this.bcF=Y.submitCallback;this.pY=Y.postId;this.cEv=Y.replyId;this.bG(Y);this.brJ(false)};DT.bJ=function(){if(!!this.eR){this.eR=bY.bcw.bg(this.eR)}this.bN()}})();
(function(){var dC=window,de=NEJ.O,dm=NEJ.F,bm=NEJ.P("nej.e"),cd=NEJ.P("nej.v"),cO=NEJ.P("edu.d"),bY=NEJ.P("edu.u"),NE;var cv=bm.dA(".#<uispace>{border-bottom:1px solid #eee;}.#<uispace> .m-detailInfoItem .bar{padding:5px 0;}");var ev=bm.bX("<div></div>");bY.brN=NEJ.C();NE=bY.brN.bt(bY.cq,true);NE.bU=function(){this.bW=ev;this.ds=cv};NE.bL=function(){this.bO();this.fl=new cO.vU;this.fl.bd("onDelComment",this.cEd.Z(this))};NE.cEd=function(W){if(!!W){this.bn("onDelSuc",W);bY.brN.bg(this)}};NE.pB=function(){bY.cp.bP({type:1,message:"你确定删除该评论吗？",okFunc:function(){this.fl.cNr(this.brS.postId,this.brS.id)}.Z(this),cancelFunc:dm.Z(this),focusNum:1})};NE.bE=function(Y){this.bG(Y);this.brS=Y.commentVo;this.vy=bY.bcH.bh({parent:this.bb,infoVo:this.brS,userDto:this.brS.commentor,showCmtBtn:false,type:bY.CONST.TALK_VOTE_COMMENT,onVote:function(W){this.bn("onVote",W)}.Z(this),onBanned:function(){this.bn("onBanned")}.Z(this)});this.vy.bd("onDel",this.pB.Z(this))};NE.bJ=function(){if(!!this.vy){this.vy=bY.bcH.bg(this.vy)}this.bN()}})();
(function(){var dC=window,de=NEJ.O,dm=NEJ.F,bm=NEJ.P("nej.e"),cd=NEJ.P("nej.v"),NC=NEJ.P("edu.m"),cO=NEJ.P("edu.d"),bY=NEJ.P("edu.u"),Go;bY.bCr=NEJ.C();Go=bY.bCr.bt(NC.yF,true);Go.bL=function(){this.wx=true;this.bO();this.fl=new cO.vU;this.fl.bd("onGetCmtList",this.cDK.Z(this))};Go.yr=function(fp){var cU=bY.brN.bh({commentVo:fp,onDelSuc:this.bsb.Z(this),onVote:function(W){this.bn("onVote",W)}.Z(this),onBanned:function(){this.bn("onBanned")}.Z(this)});return cU};Go.yx=function(cU){return bY.brN.bg(cU)};Go.wA=function(iS){var bf=iS?iS.index:-1;if(!!this.eS&&this.eS!=bf){this.eS=bf;this.fl.cOg(this.bcW.id,this.eS)}};Go.cDK=function(Cq){if(!!Cq){var dM=this.bWp(Cq);this.ru(dM);this.bWo(Cq)}};Go.bWo=function(Cq){if(Cq){this.bn("onUpdateCmtCnt",Cq.totalCount)}};Go.bWp=function(Cq){var dM=null;if(!!Cq){dM={totlePageCount:Cq.totalPageCount,currentPageNo:Cq.pageNo,list:Cq.list||[]}}return dM};Go.bE=function(Y){this.bcW=Y.cmtData;Y.dataMaps=this.bWp(Y.commentsMaps);this.bG(Y);this.bWo(Y.commentsMaps)}})();
(function(){var dC=window,de=NEJ.O,dm=NEJ.F,bm=NEJ.P("nej.e"),cd=NEJ.P("nej.v"),bD=NEJ.P("nej.u"),bY=NEJ.P("edu.u"),TE;var cv=bm.dA(".#<uispace> .triangle{position:absolute;top:0;width:14px;height:10px;background: url("+dC.imageUrlMap.forum_icon_sprite+") no-repeat -100px -2px;}.#<uispace> .wrap{margin-top:7px;border:1px solid #ddd;border-radius:2px;}.#<uispace> .wrap .m-comment-pool{padding:0 10px;}.#<uispace> .wrap .m-comment-pool .j-list{padding-bottom:20px;}.#<uispace> .wrap .m-add-comment{padding:15px 10px;background-color:#fafafa;border-top:1px solid #eee;position:relative;}");var cDD=bm.bX('<div class="m-commentWrapper f-pr f-cb"><div class="wrap f-fr"><div class="m-comment-pool j-commentpool"></div><div class="m-add-comment j-addcomment"></div></div><div class="j-triangle triangle"></div></div>');bY.bsm=NEJ.C();TE=bY.bsm.bt(bY.cq,true);TE.bU=function(){this.bW=cDD;this.ds=cv};TE.bL=function(){this.bO();this.bCB=bm.bc(this.bb,"j-triangle")[0];this.cDC=bm.bc(this.bb,"j-commentpool")[0];this.cDB=bm.bc(this.bb,"j-addcomment")[0]};TE.cDA=function(bcS){if(!!bcS&&!!this.bdd){this.bdd.bdc(bcS);this.bn("onAddItem")}};TE.bE=function(Y){this.bG(Y);this.bcW=Y.cmtData;this.bCB.style.right=Y.triRight+"px"||"0px";this.bss=bY.bCa.bh({parent:this.cDB,postId:this.bcW.postId,replyId:this.bcW.id,submitCallback:this.cDA.Z(this),onBanned:function(){this.bn("onBanned")}.Z(this)});this.bdd=bY.bCr.bh({parent:this.cDC,cmtData:this.bcW,commentsMaps:Y.commentsMaps,onUpdateCmtCnt:function(W){this.bn("onUpdateCmtCnt",W)}.Z(this),onDelItem:function(){this.bn("onDelItem")}.Z(this),onVote:function(W){this.bn("onVote",W)}.Z(this),onBanned:function(){this.bn("onBanned")}.Z(this)})};TE.cDz=function(qG){if(!!qG){bY.bv(this.bCB)}else{bY.bs(this.bCB)}};TE.bJ=function(){if(!!this.bdd){this.bdd=bY.bCr.bg(this.bdd)}if(!!this.bss){this.bss=bY.bCa.bg(this.bss)}this.bN()}})();
(function(){var dC=window,de=NEJ.O,dm=NEJ.F,bm=NEJ.P("nej.e"),cd=NEJ.P("nej.v"),cO=NEJ.P("edu.d"),bY=NEJ.P("edu.u"),Ge;var cv=bm.dA(".#<uispace>{border-bottom:1px solid #eee;zoom:1;}.#<uispace> .m-commentWrapper{margin:-5px 0 15px 0;}.#<uispace> .m-commentWrapper .wrap{width:570px; position:relative;}");var ev=bm.bX('<div class="f-pr"></div>');bY.bsz=NEJ.C();Ge=bY.bsz.bt(bY.cq,true);Ge.bU=function(){this.bW=ev;this.ds=cv};Ge.bL=function(){this.bO();this.fl=new cO.vU;this.fl.bd("onDelReply",this.cDy.Z(this))};Ge.cDy=function(W){if(!!W){this.bsA(0);this.bn("onDelSuc",W);bY.bsz.bg(this)}};Ge.pB=function(){bY.cp.bP({type:1,message:"<b>你确定删除该回复吗？</b><p>确定后将删除该回复下的全部评论</p>",okFunc:function(){this.fl.cOT(this.rf.postId,this.rf.id)}.Z(this),cancelFunc:dm.Z(this),focusNum:1})};Ge.brx=function(jH,bj){if(!!this.DK){this.DK=bY.bsm.bg(this.DK)}else if(this.rf.countComment||!jH){if(eu.Il()>0&&!this.rf.countComment){this.bn("onBanned");return}this.DK=bY.bsm.bh({parent:this.bb,cmtData:this.rf,triRight:this.vy.cEG()*40+20,onUpdateCmtCnt:this.bsA.Z(this),onAddItem:function(){this.bsA(this.rf.countComment+1);this.bn("onAddCmtItem",this.rf)}.Z(this),onDelItem:function(){this.bsA(this.rf.countComment-1)}.Z(this),onVote:function(W){this.bn("onVote",W)}.Z(this),onBanned:function(){this.bn("onBanned")}.Z(this)});this.DK.jW().style.zIndex=99;if(!this.rf.countComment){this.DK.bss.brJ(true)}}};Ge.bsA=function(bWn){this.rf.countComment=bWn>0?bWn:0;this.vy.bWw(this.rf.countComment);if(!!this.DK){this.DK.cDz(!!this.rf.countComment)}};Ge.bE=function(Y){this.bG(Y);this.rf=Y.replyVo;this.rf.countComment=this.rf.countComment||0;this.bb.style.zIndex=Y.zIndex||0;this.vy=bY.bcH.bh({parent:this.bb,infoVo:this.rf,userDto:this.rf.replyer,showCmtBtn:true,type:bY.CONST.TALK_VOTE_REPLY,onVote:function(W){this.bn("onVote",W)}.Z(this)});this.vy.jW().style.zIndex=100;this.vy.bd("onDel",this.pB.Z(this));this.vy.bd("onCmt",this.brx.Z(this,false));this.vy.bWw(this.rf.commentCount);this.brx(true)};Ge.bJ=function(){if(!!this.vy){this.vy=bY.bcH.bg(this.vy)}if(!!this.DK){this.DK=bY.bsm.bg(this.DK)}this.bN()}})();
(function(){var dC=window,de=NEJ.O,dm=NEJ.F,bm=NEJ.P("nej.e"),cd=NEJ.P("nej.v"),bD=NEJ.P("nej.u"),NC=NEJ.P("edu.m"),cO=NEJ.P("edu.d"),bY=NEJ.P("edu.u"),Cp;bY.bCQ=NEJ.C();Cp=bY.bCQ.bt(NC.yF,true);Cp.bL=function(){this.wx=true;this.bO();this.fl=new cO.vU;this.fl.bd("onGetReplyList",this.cDu.Z(this))};Cp.yr=function(fp){var cU=bY.bsz.bh({replyVo:fp,onDelSuc:this.bsb.Z(this),onAddCmtItem:function(W){this.bn("onAddCmtItem",W)}.Z(this),onVote:function(W){this.bn("onVote",W)}.Z(this),onBanned:function(){this.bn("onBanned")}.Z(this)});return cU};Cp.yx=function(cU){return bY.bsz.bg(cU)};Cp.wA=function(iS){var bf=iS?iS.index:-1;if(!!this.eS&&this.eS!=bf){this.eS=bf;this.fl.cOG(this.eb.id,this.ib,this.Tg,this.eS,this.eb.termId)}};Cp.cDu=function(Co){if(!!Co){var dM=this.bWm(Co);this.ru(dM);this.bWk(Co)}};Cp.bWk=function(Co){if(Co){this.bn("updateCount",Co.totalCount)}};Cp.bWm=function(Co){var dM=null;if(!!Co){dM={totlePageCount:Co.totalPageCount,currentPageNo:Co.pageNo,list:Co.list||[]}}return dM};Cp.cCy=function(sS,vK){this.ib=sS;this.Tg=vK;this.cdz(1)};Cp.dlE=function(){return{sortType:this.ib,sortAsc:this.Tg}};Cp.bE=function(Y){this.eb=Y.postVo;this.ib=Y.sortType;this.Tg=Y.sortAsc;Y.dataMaps=this.bWm(Y.replysMaps);this.bG(Y);this.bWk(Y.replysMaps)}})();
(function(){var dC=window,de=NEJ.O,dm=NEJ.F,bm=NEJ.P("nej.e"),cd=NEJ.P("nej.v"),bY=NEJ.P("edu.u"),DF;var cv=bm.dA(".#<uispace> {line-height:20px;color:#666;}.#<uispace> .divider{display:inline-block;border-left:1px solid #ddd;margin:0px 10px 0px 5px;}.#<uispace> a{color:#666;cursor:pointer;}.#<uispace> a:hover{color:#61A500;text-decoration:none;}.#<uispace> a span{background:url("+dC.imageUrlMap.forum_icon_sprite+") no-repeat -4999px -4999px;margin-left:4px;display:inline-block;width:12px;height:20px;vertical-align:top;}.#<uispace> .upsort,.#<uispace> .downsort{color:#61A500;}.#<uispace> .double.nosort span{background-position:0 2px;}.#<uispace> .double.downsort span{background-position:-20px 2px;}.#<uispace> .double.upsort span{background-position:-38px 2px;}");var cCs=bm.bX('<div>排序方式：<a class="j-time double">回复时间<span></span></a><span class="divider"></span><a class="j-vote single">投票数</a</div>');bY.bDb=NEJ.C();DF=bY.bDb.bt(bY.cq,true);DF.bU=function(){this.bW=cCs;this.ds=cv};DF.bL=function(){this.bO();this.cCg=bm.bc(this.bb,"j-time")[0];this.cCf=bm.bc(this.bb,"j-vote")[0];this.FU={gmt_create:this.cCg,vote_count:this.cCf};for(var i in this.FU){cd.bd(this.FU[i],"click",this.bWe.Z(this,i,true))}};DF.bWe=function(sS,gw){var vK=this.cBT(this.FU[sS]);if(!!gw){this.ib=sS;this.Tg=vK;this.bn("onSortChange",{sortType:sS,sortAsc:vK})}};DF.cBT=function(rg){if(!rg)return;var vK;if(bm.hv(rg,"nosort")){if(!!this.bDi){this.bWb(this.bDi)}this.bDi=rg;vK=this.Tg||"asc";bm.Fz(rg,"nosort",vK=="asc"?"upsort":"downsort")}else if(bm.hv(rg,"downsort")){bm.Fz(rg,"downsort","upsort");vK="asc"}else if(bm.hv(rg,"upsort")){bm.Fz(rg,"upsort","downsort");vK="desc"}return vK};DF.bWb=function(rg){if(!!rg){bm.bZ(rg,"downsort");bm.bZ(rg,"upsort");bm.bK(rg,"nosort")}};DF.cBE=function(bdu){bdu=bdu||[];for(var i in this.FU){bY.bs(this.FU[i])}for(var j=0;j<bdu.length;j++){if(!!this.FU[bdu[j]]){var jx=this.FU[bdu[j]];bY.bv(jx)}}};DF.bE=function(Y){this.bG(Y);this.bDi=null;this.cBE(Y.showTypes);if(Y.sortType!=undefined){this.cBB(Y.sortType,Y.sortAsc)}};DF.dlF=function(){return{sortType:this.ib,sortAsc:this.Tg}};DF.cBB=function(sS,vK){this.ib=sS;this.Tg=vK;for(var i in this.FU){this.bWb(this.FU[i])}this.bWe(sS,false)}})();
(function(){var dC=window,de=NEJ.O,dm=NEJ.F,bm=NEJ.P("nej.e"),cd=NEJ.P("nej.v"),bD=NEJ.P("nej.u"),cO=NEJ.P("edu.d"),bY=NEJ.P("edu.u"),rv,cBp;var cv=bm.dA(".#<uispace> .rinfobox{padding:30px 0 10px 0; border-bottom:1px solid #eee;}.#<uispace> .allbox{margin-bottom:20px;}");var ev=bm.bX('<div><div class="j-post"></div><div class="j-banState"></div><div class="rinfobox f-cb"><h4 class="j-reply-info f-fl"></h4><div class="j-reply-sort f-fr"></div></div><div class="j-reply-all allbox"></div><div class="j-reply-add"></div></div>');bY.SA=NEJ.C();rv=bY.SA.bt(bY.cq,true);cBp=bY.SA.cH;rv.bU=function(){this.bW=ev;this.ds=cv};rv.bL=function(){this.bO();this.cBo=bm.bc(this.bb,"j-post")[0];this.cAP=bm.bc(this.bb,"j-reply-info")[0];this.cAC=bm.bc(this.bb,"j-reply-sort")[0];this.cAa=bm.bc(this.bb,"j-reply-all")[0];this.czX=bm.bc(this.bb,"j-reply-add")[0];this.WX=bm.bc(this.bb,"j-banState")[0];this.fl=new cO.vU;this.fl.bd("oncheckUserBannedList",this.bdz.Z(this,-1,"banned"));this.uh=new cO.CX;this.uh.bd("ongetMocForumDto",this.bdz.Z(this,-1,"close"))};rv.Cj=function(PF){if(!!this.WZ&&!!PF){this.WZ.cCy(PF.sortType,PF.sortAsc)}};rv.bDB=function(){bm.tc(this.WX)};rv.bBc=function(){if(!!this.Xa){this.Xa.bWA(true);bm.tc(this.Xa.jW())}else if(this.Xb>0){this.bDB()}};rv.czS=function(){this.eb.countReply-=1;this.bDF()};rv.czJ=function(czy){this.eb.countReply=czy;this.bDF()};rv.bDF=function(){this.cAP.innerText="共"+(this.eb.countReply||0)+"回复"};rv.czk=function(byE){this.bdE.bcm(true);this.WZ.bdc(byE);this.eb.countReply+=1;this.bDF();if(!dC.isPreview){bY.es("forum","answerPost",bY.nb(this.bDK()))}};rv.bDK=function(){var gf={userId:bY.dE().id,courseId:dC.courseDto.id,termId:this.eb.termId,postId:this.eb.id,postType:this.eb.type};if(!!this.eb.relateUnit){gf["lessonId"]=this.eb.relateUnit.lessonId;gf["unitId"]=this.eb.relateUnit.id}return gf};rv.bVU=function(W){if(!dC.isPreview){var gf=this.bDK();NEJ.X(gf,W);bY.es("forum","vote",bY.nb(gf))}};rv.cyZ=function(){this.Xb=eu.Il();this.bdE=bY.bAD.bh({parent:this.cBo,postVo:this.eb,onReply:this.bBc.Z(this),onVote:this.bVU.Z(this),onBanned:this.bDB.Z(this)});this.bDO=bY.bDb.bh({parent:this.cAC,showTypes:["gmt_create","vote_count"],sortType:this.bVT,sortAsc:this.bVS,onSortChange:this.Cj.Z(this)});this.WZ=bY.bCQ.bh({parent:this.cAa,postVo:this.eb,sortType:this.bVT,sortAsc:this.bVS,updateCount:this.czJ.Z(this),onDelItem:this.czS.Z(this),onAddCmtItem:function(W){this.bdE.bcm(true);if(!dC.isPreview){var gf=this.bDK();gf["replyId"]=W.id;bY.es("forum","commentReply",bY.nb(gf))}}.Z(this),onVote:this.bVU.Z(this),onBanned:this.bDB.Z(this)});if(this.Xb<0){this.Xa=bY.bBJ.bh({parent:this.czX,postId:this.eb.id,termId:this.eb.termId,submitCallback:this.czk.Z(this)})}else{this.WX.innerHTML=bm.bS("jst-edu-"+this.Xb)}this.fl.cPN(this.eb.id);this.fl.cPK(this.eb.id,this.eb.termId)};rv.bE=function(Y){this.bG(Y);this.lV=Y.forumData||{};this.cK=Y.termId||dC.termDto.id;this.uh.bXH(this.lV.subForumId>0?this.lV.subForumId:this.lV.forumId);this.fl.bXm(this.cK);this.bdI=2;this.eb=Y.postVo;this.bVT="gmt_create";this.bVS="desc";this.WX.innerHTML=""};rv.bdz=function(bDT,bz,W){if(!!W){if(bz=="banned"){dC.bannedState={site:W[0],term:W[1]}}else if(bz=="close"){dC.mergedClosedStatus=W.mergedClosedStatus;dC.forumType=W.type}}this.bdI+=bDT;if(this.bdI>0)return;this.cyZ()};rv.en=function(){if(!!this.bdE){this.bdE=bY.bAD.bg(this.bdE)}if(!!this.bDO){this.bDO=bY.bDb.bg(this.bDO)}if(!!this.WZ){this.WZ=bY.bCQ.bg(this.WZ)}if(!!this.Xa){this.Xa=bY.bBJ.bg(this.Xa)}};rv.bJ=function(){this.en();this.bN()}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bC=u.fb(),fE,iX="ck-dataReportCache";d.Dt=NEJ.C();fE=d.Dt.bt(d.hF);fE.cyx=function(fs,bT){this.bI({key:iX+bC,url:"ChartStatisticsBean.getCourseLearnCountInfo",param:[fs,bT],onload:this.bDY.Z(this)})};fE.bDY=function(W){this.bn("onGetCourseLearnCountInfo",W)};fE.cyw=function(fs,bT){this.bI({key:iX+bC,url:"ChartStatisticsBean.getForumLogLearnInfo",param:[fs,bT],onload:this.Xf.Z(this)})};fE.Xf=function(W){this.bn("onGetForumLogLearnInfo",W)};fE.cyn=function(bT,Rj){this.bI({key:iX+bC,url:"ChartStatisticsBean.getLastestMocTestLogs",param:[bT,Rj],onload:this.bEc.Z(this)})};fE.bEc=function(W){this.bn("onGetLastestMocTestLogs",W)};fE.cxO=function(bT){this.bI({key:iX+bC,url:"ChartStatisticsBean.getLastestMocTestLogsMap",param:[bT],onload:this.bEe.Z(this)})};fE.bEe=function(W){this.bn("onGetLastestMocTestLogsMap",W)};fE.cxy=function(fs,bT){this.bI({key:iX+bC,url:"ChartStatisticsBean.getForumLogLearnTrendKeys",param:[fs,bT],onload:this.cxu.Z(this)})};fE.cxu=function(W){this.bn("onGetForumLogLearnTrendKeys",W)};fE.cxt=function(fs,bT,bau){this.bI({key:iX+bC,url:"ChartStatisticsBean.getForumLogLearnTrendValues",param:[fs,bT,bau],onload:this.cxr.Z(this)})};fE.cxr=function(W){this.bn("onGetForumLogLearnTrendValues",W)};fE.bEj=function(fs,bT){this.bI({key:iX+bC,url:"ChartStatisticsBean.getMocTestChartDtoList",param:[fs,bT],onload:this.cxl.Z(this)})};fE.cxl=function(W){this.bn("onGetTestLogLearnTrendKeys",W)};fE.bEl=function(bT,dZ){this.bI({key:iX+bC,url:"ChartStatisticsBean.getDaysMocTestLogByTestId",param:[bT,dZ],onload:this.cxf.Z(this)})};fE.cxf=function(W){this.bn("onGetTestLogLearnTrendValues",W)};fE.cxd=function(bT){this.bI({key:iX+bC,url:"MocScoreManagerBean.getTestsList",param:[bT],onload:this.cwW.Z(this)})};fE.cwW=function(W){this.bn("onGetTestsList",W)};fE.cwS=function(dZ,bz){this.bI({key:iX+bC,url:"MocScoreManagerBean.getCountForTestScore",param:[dZ,bz],onload:this.bEq.Z(this)})};fE.bEq=function(W){this.bn("onGetCountForTestScore",W)};fE.cwQ=function(bT){this.bI({key:iX+bC,url:"ChartStatisticsBean.getMocExamChartDtoList",param:[bT],onload:this.cwO.Z(this)})};fE.cwO=function(W){this.bn("onGetMocExamChartDtoList",W)};fE.cwK=function(bT,xM){this.bI({key:iX+bC,url:"ChartStatisticsBean.getDaysMocExamLogByExamId",param:[bT,xM],onload:this.cwH.Z(this)})};fE.cwH=function(W){this.bn("onGetDaysMocExamLogByExamId",W)};fE.cwF=function(bT){this.bI({key:iX+bC,url:"MocScoreManagerBean.getPieOfPass",param:[bT],onload:this.cwE.Z(this)})};fE.cwE=function(W){this.bn("ongetPieOfPass",W)};fE.cwC=function(bT){this.bI({key:iX+bC,url:"ChartStatisticsBean.getTermLearnNowTotalCount",param:[bT],onload:this.cwB.Z(this)})};fE.cwB=function(W){this.bn("ongetTotalStu",W)};fE.cwA=function(fs){this.bI({key:iX+bC,url:"ChartStatisticsBean.getCourseStoreCount",param:[fs],onload:this.cwz.Z(this)})};fE.cwz=function(W){this.bn("onGetCourseStoreCount",W)};fE.cwq=function(bT){this.bI({key:iX+bC,url:"ChartStatisticsBean.getVideoLearnCountInfo",param:[bT],onload:this.cwp.Z(this)})};fE.cwp=function(W){this.bn("onGetVideoLearnCountInfo",W)};fE.cwn=function(bT){this.bI({key:iX+bC,url:"ChartStatisticsBean.getPdfLearnCountInfo",param:[bT],onload:this.cwm.Z(this)})};fE.cwm=function(W){this.bn("onGetPdfLearnCountInfo",W)};fE.cwk=function(bT){this.bI({key:iX+bC,url:"ChartStatisticsBean.getTextLearnCountInfo",param:[bT],onload:this.cwh.Z(this)})};fE.cwh=function(W){this.bn("onGetTextLearnCountInfo",W)};fE.cwf=function(fs,bT){this.bI({key:iX+bC,url:"ChartStatisticsBean.getVideoLearnTrendKeys",param:[fs,bT],onload:this.cwd.Z(this)})};fE.cwd=function(W){this.bn("onGetVideoLearnTrendKeys",W)};fE.cwc=function(fs,bT){this.bI({key:iX+bC,url:"ChartStatisticsBean.getPdfLearnTrendKeys",param:[fs,bT],onload:this.cwb.Z(this)})};fE.cwb=function(W){this.bn("onGPdfLearnTrendKeys",W)};fE.cwa=function(fs,bT){this.bI({key:iX+bC,url:"ChartStatisticsBean.getTextLearnTrendKeys",param:[fs,bT],onload:this.cvW.Z(this)})};fE.cvW=function(W){this.bn("onGetTextLearnTrendKeys",W)};fE.cvS=function(bT,bau){this.bI({key:iX+bC,url:"ChartStatisticsBean.getLearnTrendValues",param:[bT,bau],onload:this.cvR.Z(this)})};fE.cvR=function(W){this.bn("onGetLearnTrendValues",W)};fE.cvJ=function(bT){this.bI({key:iX+bC,url:"ChartStatisticsBean.getTermUnenrollCountInfo",param:[bT],onload:this.bEQ.Z(this)})};fE.bEQ=function(W){this.bn("onGetTermUnenrollCountInfo",W)};fE.bVK=function(yh,bz,cvA){this.bI({key:iX+bC,url:"ChartStatisticsBean.getMocForumStatisticsInfo",param:[yh,bz,cvA],onload:this.cvz.Z(this)})};fE.cvz=function(W){this.bn("onGetMocForumStatisticsInfo",W)};fE.cvv=function(bT,bNC){this.bI({key:iX+bC,url:"ChartStatisticsBean.getForumActiveUsers",param:[bT,bNC],onload:this.cvu.Z(this)})};fE.cvu=function(W){this.bn("onGetForumActiveUsers",W)};fE.cvp=function(bV,bz){this.bI({key:iX+bC,url:"ChartStatisticsBean.getForumPartInValues",param:[bV,bz],onload:this.cvg.Z(this)})};fE.cvg=function(W){this.bn("ongetForumPartInValues",W)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),ui=NEJ.P("nej.ui"),Xj;var dy=e.bX('<div class="u-userranklist f-cb"><div class="j-pool pool"></div><div class="j-pager pager"></div></div>');var dN=e.dL('<table class="u-table" style="width:100%"><tr><th>昵称</th><th>贴子数(主题/回复/评论)</th><th>被顶次数</th></tr><col width="30%"></col><col width="40%"></col><col width="30%"></col>{list data as q}<tr><td class="j-name userInfo"><a href="${q.link}" class="username f-fl f-db f-thide" target="_blank" title="${q.name|default:\'\'|escape}">${q.name|default:\'\'|escape}</a></td><td class="f-fc6">${q.allCount|default:0}<span class="f-fc9">（ ${q.postCount|default:0}/${q.replyCount|default:0}/${q.commentCount|default:0} ）</span></td><td class="f-fc6">${q.votedCount|default:0}</td></tr>{/list}</table><div class="b-20"></div>');var cv=e.dA(".#<uispace> .userInfo .type{float:left; font-size:12px; margin:0 5px;padding:0 5px;display:inline-block;line-height:18px;color:#fff;text-align:center;}.#<uispace> .userInfo .type.lector{background-color:#6CB4FB;}.#<uispace> .userInfo .type.manager{background-color:#9BCE00;}.#<uispace> .userInfo .type.assist{background-color:#9BCE00;}.#<uispace> .userInfo .username{max-width:80%;}");eu.QJ=NEJ.C();Xj=eu.QJ.bt(eu.cq,!0);Xj.bU=function(){this.bW=dy;this.ds=cv};Xj.bL=function(){this.bO();this.iz=e.bc(this.bb,"j-pool")[0];this.ju=e.bc(this.bb,"j-pager")[0];this.cc=new d.Dt;this.cc.bd("onGetForumActiveUsers",this.bFc.Z(this))};Xj.bFc=function(W){if(!!this.eO){this.eO=ui.gZ.bg(this.eO)}if(!W){this.iz.innerHTML='<div class="empty j-empty"><span class="f-ib">还没有用户发布帖子</span></div>';return}this.iK=W.list;if(!this.iK){this.iz.innerHTML='<div class="empty j-empty"><span class="f-ib">还没有用户发布帖子</span></div>';return}var bVJ=g.urlPrefix.courseLearnPrefix;if(!!this.fZ){bVJ=g.urlPrefix.spocCourseLearnPrefix}for(var i=this.iK.length-1;i>=0;i--){if(!!this.iK[i]){this.iK[i].link=bVJ+encodeURIComponent(this.bFg)+"-"+encodeURIComponent(g.courseDto.id)+"?tid="+this.cK+"#"+eu.umi("learnForumPersonal")+"?uid="+this.iK[i].member.id}this.iK[i].name=this.iK[i].member.nickName}this.iz.innerHTML=e.bS(dN,{data:this.iK});u.bw(e.bc(this.iz,"j-name"),function(bB,bf){if(eu.mR(this.iK[bf].member.roles,eu.CONST.ROLE_FORUM_MANAGER)){bB.appendChild(e.hU("<span class='type manager'>管理员</span>"))}else{var kn=eu.Ir(this.bee,this.iK[bf].member.id);if(!!kn){switch(kn.lectorType){case eu.CONST.REL_TYPE_TERM_CHIEF_LECTOR:case eu.CONST.REL_TYPE_TERM_LECTOR:e.cJ(bB)[0].innerText=this.iK[bf].member.realName||"无名氏";e.cJ(bB)[0].title=this.iK[bf].member.realName||"无名氏";bB.appendChild(e.hU("<span class='type lector'>老师</span>"));break;case eu.CONST.REL_TYPE_TERM_ASSIST:bB.appendChild(e.hU("<span class='type assist'>助教</span>"));break}}}}.Z(this));if(!!W.query&&W.query.totlePageCount>1){if(!!this.WW&&W.query.totlePageCount>5){W.query.totlePageCount=5}this.eO=ui.gZ.fC({parent:this.ju,index:W.query.pageIndex||0,total:W.query.totlePageCount||0,clazz:"u-pager f-fr",onchange:function(fY){if(!!fY.last){this.gI["p"]=fY.index;g.dispatcher.cI(this.oJ+"?"+u.Pa(this.gI))}}.Z(this)})}};Xj.bE=function(Y){this.bG(Y);this.cK=Y.termId;this.bFg=Y.schoolName;this.bVI=Y.courseName;this.fZ=Y.isSpoc||false;this.gI=Y.param||{};this.gI["p"]=parseInt(this.gI["p"]||1);this.oJ=Y.umi;this.bee=Y.lector||[];this.WW=Y.limit||false;if(!!this.WW&&this.gI["p"]>5){this.gI["p"]=5}this.cc.cvv(this.cK,this.gI["p"])};Xj.bJ=function(){if(!!this.eO){this.eO=ui.gZ.bg(this.eO)}this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,u=NEJ.P("nej.u"),e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),IH;eu.beh=NEJ.C();IH=eu.beh.bt(eu.cq,true);IH.bL=function(){this.bO()};IH.bVH=f;IH.bei=f;IH.bej=f;IH.bkF=f;IH.bek=function(){return this.ep};IH.bE=function(Y){this.bG(Y);this.eG=Y.recordDto;this.im=Y.mode||0;this.sD=Y.position;this.BZ=Y.noScore||false;this.bkK=Y.showAnalysis;if(!!this.eG){this.ep=this.eG.qAnswerDto;this.ce=this.eG.questionDto}this.bei();if(this.im===1){e.Fz(this.bb,"examMode","analysisMode");this.bej()}else{e.Fz(this.bb,"analysisMode","examMode");this.bkF()}};IH.bJ=function(){this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),d=NEJ.P("edu.d"),u=NEJ.P("nej.u"),eu=NEJ.P("edu.u"),ui=NEJ.P("nej.ui"),vA;var ev=e.bX('<div class="u-questionItem u-analysisQuestion"><div class="j-title f-cb title questionDes"><div class="position f-fl"></div><div class="qaDescription f-fl f-cb"><div class="qaCate j-qacate f-fl"></div><div class="f-richEditorText j-richTxt f-fl"></div></div></div><div class="j-answer answer"><div class="j-richTip f-fc9 f-fs0" style="margin-bottom: 10px;text-align: right;display:none;">答案内容超过5000字建议使用附件形式上传</div><div class="j-richOrText text f-f0 f-richEditorText"></div><div class="j-attachment attachment f-cb"><div class="j-attchInfo attchinfo f-thide"></div><div class="j-upload attchupload"></div></div><div class="j-evaluate"></div></div></div>');eu.bkM=NEJ.C();vA=eu.bkM.bt(eu.beh,true);vA.bU=function(){this.bW=ev};vA.bL=function(){this.bO();this.hn=e.bc(this.bb,"j-title")[0];this.xf=e.cJ(this.hn);this.tx=e.bc(this.bb,"j-answer")[0];this.zt=e.bc(this.tx,"j-richOrText")[0];this.Iz=e.bc(this.tx,"j-upload")[0];this.PR=e.bc(this.tx,"j-attchInfo")[0];this.bkS=e.bc(this.tx,"j-attachment")[0];this.Xn=e.bc(this.bb,"j-qacate")[0];this.Iu=e.bc(this.bb,"j-richTxt")[0];this.bVG=e.bc(this.bb,"j-richTip")[0];this.fd=new d.sA;this.fd.bd("onDeleteAttachment",this.bVF.Z(this))};vA.bVF=function(W){this.PR.innerHTML="";if(!!this.ep&&!!this.ep.content){this.ep.content.attachments=[]}delete this.vH};vA.PC=function(){var gM=this.bFK();return gM};vA.bei=function(){this.xf[0].innerText=(this.sD||0)+1;this.Iu.innerHTML=this.ce.title||"";this.Xn.innerHTML=!!this.Is?"":"（"+this.ce.score+"分）";u.kM(this.Iu)};vA.bej=function(){eu.bs(this.bVG);if(!!this.ep&&this.ep.content){e.bK(this.zt,"f-richEditorText");this.zt.innerHTML='<span class="tit f-fc3">回答：</span>'+this.ep.content.content||"";u.kM(this.zt);if(!!this.ep.content.attachments&&this.ep.content.attachments.length>0){this.zt.innerHTML+='<a class="downloadLink u-btn u-btn-default u-btn-sm" href="'+g.urlPrefix.attachmentPrefix+"?key="+this.ep.content.attachments[0].filekey+"&aid="+this.lK+'" target="_blank">下载附件</a>'}}};vA.cuV=function(W){this.vH={filename:W.name,filekey:W.nosKey}};vA.bFK=function(){var fB="",bVE=!!this.ep?(this.ep.content||{}).attachments||[]:[];if(!!this.BT){fB=this.BT.ca()}if(!!this.vH){bVE[0]=this.vH}var gM={qid:this.ce.id,type:eu.CONST.TYPE_SUBJECTIVE_NORMAL,content:{content:fB,attachments:bVE}};return gM};vA.bkF=function(){e.bZ(this.zt,"f-richEditorText");eu.bv(this.bVG);this.BT=ui.fG.bh({parent:this.zt,content:!!this.ep?(this.ep.content||{}).content||"":""});if(!!this.ce.allowUpload){this.Io();eu.bv(this.bkS)}else{eu.bs(this.bkS)}if(!!this.ep&&this.ep.content&&this.ep.content.attachments&&this.ep.content.attachments.length>0){this.vH=this.ep.content.attachments[0];this.bFR()}else{this.PR.innerText=""}};vA.bFR=function(){if(!this.vH){return}this.PR.innerHTML='<div class="name f-fl f-thide">'+eu.DE(this.vH.filename||"")+"</div>";var bez=e.hU('<a class="del f-fl f-db">删除</a>');v.bd(bez,"click",function(bj){v.dG(bj);if(!!this.lK){this.fd.cSx(this.lK,this.vH.filekey)}else{this.bVF()}}.Z(this));this.PR.appendChild(bez)};vA.Io=function(){if(!!this.eQ){this.eQ=eu.SX.bg(this.eQ)}this.eQ=eu.SX.bh({parent:this.Iz,tip:"支持txt, png, jpg, html, pdf, jpeg, mp3, rar,zip,文件最大50M。<br/>请将Word、Excel和PowerPoint文件转为pdf格式上传。",suffixs:{support:["txt","pdf","html","jpg","jpeg","png","mp3","rar","zip"],max:"50M"},beginUpload:function(){eu.bs(this.PR)}.Z(this),onFinishUpload:function(W){if(!!W){this.Io();this.cuV(W);this.bFR();eu.bv(this.PR)}}.Z(this),abortUpload:function(){this.Io();this.bFR();eu.bv(this.PR)}.Z(this)})};vA.bE=function(Y){this.lK=Y.aid;this.bG(Y)};vA.bJ=function(){if(!!this.BT){this.BT=ui.fG.bg(this.BT)}if(!!this.eQ){this.eQ=eu.SX.bg(this.eQ)}this.zt.innerHTML="";this.bN()}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),bC=u.fb(),Pq,bFU="ck-quizCache";d.In=NEJ.C();Pq=d.In.bt(d.btx);Pq.bFW=function(dZ){this.bI({key:bFU+bC,url:"MocAdminQuizBean.previewTestDraft",param:[dZ],onload:this.cuP.Z(this)})};Pq.cuP=function(W){this.bn("onGetPreviewQuizList",W)};Pq.bFY=function(dZ,bOa,cuO){this.bI({key:bFU+bC,url:"MocQuizBean.getQuizPaperDto",param:[dZ,bOa,cuO],onload:this.cuL.Z(this)})};Pq.cuL=function(W){this.bn("onGetQuizPaperList",W)};Pq.bll=function(dZ,cuF,fa){this.bI({key:bFU+bC,url:"MocQuizBean.getQuizInfo",param:[dZ,cuF,fa],onload:this.bGd.Z(this)})};Pq.bGd=function(W){this.bn("onGetQuizInfo",W)}})();
(function(){var o=NEJ.O,g=window,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),If;var ev=e.bX('<div class="" style="width:870px;height:390px;"></div>');eu.bln=NEJ.C();If=eu.bln.bt(eu.cq,true);If.bU=function(){this.bW=ev};If.bL=function(){this.bO()};If.bE=function(Y){this.bG(Y);this.EY=g.echarts.init(this.bb)};If.blp=f;If.cuo=function(cul,ki){try{this.EY.on(echarts.config.EVENT[cul],ki)}catch(e){eu.cp.bP({type:1,message:"echarts bind event fail"})}};If.Ly=function(xd){this.EY.clear();xd.toolbox=xd.toolbox||{show:false};xd.tooltip=NEJ.X({trigger:"item",axisPointer:{type:"none"},textStyle:{color:"#333"},backgroundColor:"#fff",borderColor:"#61A500",borderWidth:1},xd.tooltip);xd.grid=NEJ.X({borderWidth:0},xd.grid);this.blp(xd);this.EY.setOption(xd)};If.bVC=function(Y){Y.yAxis=Y.yAxis||{};Y.yAxis["type"]="value";Y.yAxis["splitArea"]={show:false};Y.yAxis["axisLine"]={show:false};Y.yAxis["splitNumber"]=Y.yAxis["splitNumber"]||6;Y.yAxis["axisLabel"]=Y.yAxis["axisLabel"]||{formatter:eu.blo};Y.xAxis=Y.xAxis||{};Y.xAxis["axisLine"]={show:true,lineStyle:{color:"#61A500",width:1,type:"solid"}};Y.xAxis["axisTick"]={show:true,lineStyle:{color:"#61A500",width:1,type:"solid"},length:6}};If.bJ=function(){this.bN()}})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),bVB;eu.Xu=NEJ.C();bVB=eu.Xu.bt(eu.bln,true);bVB.blp=function(Y){Y.series=Y.series||[];var beI=10,eH=Y.series[0].data.length,bVA=Math.floor(eH/beI)||1;u.bw(Y.series,function(serie){serie.type="bar";serie.barWidth=30/bVA;serie.itemStyle=serie.itemStyle||{normal:{color:"#61A500"}}});if(eH>beI){Y.dataZoom={show:true,realtime:true,start:5,end:100,dataBackgroundColor:"#ccc",handleColor:"#61A500",fillerColor:"rgba(97,165,0,0.3)"}}this.bVC(Y)}})();
(function(){var g=window,o=NEJ.O,p=NEJ.P("edu.u");p.blx=function(bVy,blz,bGu,bGv){var iW=p.dB();if(blz<bVy){return p.CONST.FIGHT_CONFIRMSCORE}if(iW<bVy){return p.CONST.FIGHT_PREPAY}if(iW<blz){return p.CONST.FIGHT_FIGHTEND}if(bGv==1){return p.CONST.FIGHT_CERTSEND}if(iW<bGu){return p.CONST.FIGHT_CONFIRMSCORE}return p.CONST.FIGHT_APPLYCERTEND};p.bGw=function(){if(g.isPreview==1||g.termDto&&(g.termDto.mode!=p.CONST.MODE_MOOC||g.termDto.startTime==p.CONST.UNDETERMINDED_STARTTIME||g.termDto.fightEnable==0||g.termDto.chargable==1)){return 0}return 1};p.bVx=function(blz,bGu,bGv){var iW=p.dB();if(iW<blz){return p.CONST.PAYCERT_PRE}if(bGv==1){return p.CONST.PAYCERT_CERTSEND}if(iW<bGu){return p.CONST.PAYCERT_CONFIRMSCORE}return p.CONST.PAYCERT_APPLYCERTEND};p.bGy=function(){if(g.isPreview==1||!!g.termDto&&(g.termDto.mode!=p.CONST.MODE_MOOC||!(g.termDto.chargable==1&&g.termDto.chargeableCert==1))){return false}return true}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,u=NEJ.P("nej.u"),e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),d=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bGz;eu.beL=NEJ.C();bGz=eu.beL.bt(eu.cq,true);bGz.bL=function(){this.bO();this.hV=e.bc(this.bb,"j-configTxt")};bGz.bE=function(Y){this.bG(Y);this.pp=Y.configObj||{type:"hw",txt:"作业"};u.bw(this.hV,function(bo){bo.innerText=this.pp.txt}.Z(this))}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,u=NEJ.P("nej.u"),e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),d=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),Lz;eu.blE=NEJ.C();Lz=eu.blE.bt(eu.beL,true);Lz.bU=function(){this.bW=e.bX(e.bS("jst-edu-learnHomeworkEvaluateStatusHead"))};Lz.bL=function(){this.bO();this.ctE=e.bc(this.bb,"j-jd");this.blF=e.bc(this.bb,"j-lefttime");this.bVw=e.bc(this.bb,"j-status");this.bGH=e.bc(this.bb,"j-bar");this.ctz=e.bc(this.bb,"j-progress");this.bVv=e.bc(this.bb,"j-trainstatus")[0];this.fd=new d.sA;this.fd.bd("onGetEvaluateStatus",this.bVu.Z(this));this.fd.bd("onGetEvaluateStatusByAid",this.bVu.Z(this))};Lz.bE=function(Y){this.bG(Y);this.ub=Y.jdIndex;this.fz=Y.homeworkId;this.dR=Y.homeworkVo;this.lK=Y.aid;this.py=this.dR.releaseTime;this.beP=this.dR.deadline;this.bGQ=this.dR.evaluateStart;this.blP=this.dR.evaluateEnd;this.ctr=this.dR.evaluateScoreReleaseTime;this.Xw=Y.evaluateNeedTrain;this.cti();if(this.lK){this.fd.cTf(this.fz,this.lK)}else{this.fd.cTD(this.fz,eu.dE().id)}};Lz.bVu=function(W){if(!W)return;this.JF(false,0);this.JF(false,1);this.JF(false,2);this.JF(false,3);if(this.ub>=eu.CONST.HW_PHASE_SUBMIT){this.JF(W.stepSubmitted,0)}if(this.ub>=eu.CONST.HW_PHASE_EVALUATION){this.JF(W.stepTrained,1);this.JF(W.stepEvaluated,2);this.JF(W.stepSelfEvaluated,3)}if(this.Xw==eu.CONST.NEED_TRAIN_FALSE){this.bVv.style.display="none"}else{this.bVv.style.display="block"}};Lz.JF=function(ctf,bf){if(!!ctf){e.bK(this.bVw[bf],"done")}else{e.bZ(this.bVw[bf],"done")}};Lz.cti=function(){this.Oc=eu.dB();this.Oa=0;this.LC=0;this.blX=0;var EF={};if(this.ub==eu.CONST.HW_PHASE_SUBMIT){this.LC=(this.Oc-this.py)/(this.beP-this.py);this.blX=this.beP-this.Oc<0?-1:Math.ceil((this.beP-this.Oc)/1e3/24/3600);this.Oa=0;EF["1"]="feature";EF["2"]="feature"}if(this.ub==eu.CONST.HW_PHASE_EVALUATION){this.LC=(this.Oc-this.bGQ)/(this.blP-this.bGQ);this.blX=this.blP-this.Oc<0?-1:Math.ceil((this.blP-this.Oc)/1e3/24/3600);this.Oa=1;EF["0"]="pass";EF["2"]="feature"}if(this.ub==eu.CONST.HW_PHASE_SCORE){this.LC=(this.Oc-this.py)/(this.beP-this.py);this.Oa=2;EF["0"]="pass";EF["1"]="pass"}EF[this.Oa+""]="now";u.bw(this.ctE,function(bo,bf){e.bZ(bo,"pass");e.bZ(bo,"now");e.bZ(bo,"feature");e.bK(bo,EF[bf+""]);if(!!this.blF[bf]){this.blF[bf].innerHTML=""}}.Z(this));if(!!this.blF[this.Oa]){this.blF[this.Oa].innerHTML=this.blX<0?"(截止时间已过)":"(剩余"+(this.blX||1)+"天)"}this.LC=this.LC>1?1:this.LC;e.fm(this.ctz[this.Oa],"width",(this.LC>=0?this.LC:0)*100+"%");this.bGH[0].title=eu.fH(this.py)+"~"+eu.fH(this.beP);this.bGH[1].title=eu.fH(this.bGQ)+"~"+eu.fH(this.blP);this.bGH[2].title=eu.fH(this.ctr)+"发布成绩"};Lz.bJ=function(){this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,u=NEJ.P("nej.u"),e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),uu;var ev=e.bX('<div class="u-evaluateItem"><div class="evaluateArea"><div class="j-bar bar"><span class="tit">互评模块</span><span>(该阶段只有在互评阶段开放后才可使用）</span></div><div class="j-content"><div class="j-list list"></div><div class="j-comment comment" style="display:none;"><div class="j-qscore tit"></div><span class="j-addComment add" style="display:none;">点评</span><div class="j-commentRichOrText detail"></div><div class="j-answerVisible f-cb av"><label class="answerVisible f-fl"><input type="checkbox" class="j-acb"/><span>答题者可见</span></label><div class="j-fb f-fl"></div></div></div></div></div></div>');var cte=e.dL(' {if defined("xlist")}{list xlist as x}<div class="u-point"><div class="breif f-fc6"><p class="f-fc3">得分指导：</p><div class="f-richEditorText">${x.msg|default:""}</div></div><div class="detail"><p class="f-fc3">请给予评分：(满分${x.maxScore|default:0}分)</p><div class="s">{if !!x.details}{list x.details as d}<label class="d" for="j-select-${x.id}${d.score}-${instance}"><input id="j-select-${x.id}${d.score}-${instance}" type="radio" name="j-select-${x.id}-${instance}" class="j-select" data-jid="${x.id}" value="${d.score}" {if x.score && x.score.jscore == d.score}checked="true"{else}{if !x.score&&d.score==0}checked="true"{/if}{/if}/><span class="f-ib sc">${d.score}分</span></label>{/list}{else}<input type="radio" disabled/>{/if}</div></div></div>{/list}{/if}');var cta=e.dL('{if defined("xlist")}{list xlist as x}<div class="u-point show"><div class="breif f-richEditorText">${x.msg|default:""}</div><div class="detail">{if !!x.refScore}{if !!x.score&&x.score.jscore}<div class="info pointscoreinfo"><span class="num">你的评分：${x.score.jscore}</span></div>{/if}{if !!x.refScore&&x.refScore.score>=0}<div class="info refscoreinfo"><span class="num">老师评分：${x.refScore.score}</span></div>{/if}{else}{if !!x.score&&x.score.jscore>=0}<div class="info pointscoreinfo"><span class="num">你的得分：${x.score.jscore}</span></div>{/if}{if !!x.selfScore&&x.selfScore.jscore>=0}<div class="info pointscoreinfo"><span class="num">自评评分：${x.selfScore.jscore}</span></div>{/if}{/if}</div></div>{/list}{/if}');eu.bHe=NEJ.C();uu=eu.bHe.bt(eu.cq,true);uu.bU=function(){this.bW=ev};uu.bL=function(){this.bO();this.gF=e.bc(this.bb,"j-list")[0];this.bVt=e.bc(this.bb,"j-addComment")[0];this.zt=e.bc(this.bb,"j-commentRichOrText")[0];this.gl=e.bc(this.bb,"j-content")[0];this.bHg=e.bc(this.bb,"j-comment")[0];this.tx=e.bc(this.bb,"j-answer")[0];this.dlH=e.bc(this.bb,"j-answerVisible")[0];this.bVr=e.bc(this.bb,"j-acb")[0];this.tC=e.bc(this.bb,"j-fb")[0];this.csT=e.bc(this.bb,"j-qscore")[0];this.csR=e.bc(this.bb,"j-bar")[0]};uu.NP=function(){var nH=this.lb||{qid:this.ep.qid};if(!!this.BT){nH.qcomment=this.BT.ca()}if(!nH.qcomment){this.iq.cs("点评不能为空");return null}nH.answerCanViewComment=this.bVr.checked;if(!!this.bVq){nH.jitems=[];u.bw(this.bVq,function(bo){if(bo.checked==true){var csK={jid:e.dj(bo,"jid"),jscore:bo.value};nH.jitems.push(csK)}}.Z(this))}return nH};uu.bfa=function(){};uu.bVp=function(bF){var bB=e.hU(e.bS(cte,{xlist:bF,instance:this.id}));return bB};uu.csF=function(bF){var bB=e.hU(e.bS(cta,{xlist:bF}));return bB};uu.csB=function(){e.bK(this.bb,"initMode");eu.bs(this.bHg);var bB=this.bVp(["mock data"]);this.gF.appendChild(bB)};uu.csu=function(){e.bK(this.bb,"evaluateMode");eu.bv(this.bHg);eu.bv(this.bVt);if(!!this.XC&&this.XC.length>0){u.bw(this.XC,function(bo){if(bo.details[0].score>0){bo.details.unshift({score:0})}}.Z(this));var bB=this.bVp(this.XC);this.bVq=e.bc(bB,"j-select");this.gF.appendChild(bB)}this.zt.innerHTML="";this.BT=eu.cD.bh({parent:this.zt,width:675,height:94,content:(this.lb||{}).qcomment||"",onInputFocus:function(){if(!!this.iq){this.iq.cg()}}.Z(this)});this.bVr.checked=!this.lb?true:!!this.lb.answerCanViewComment;if(!this.iq){this.iq=eu.cz.bh({parent:this.tC});this.iq.cg()}};uu.csm=function(){e.bK(this.bb,"resultMode");eu.bv(this.bHg);eu.bs(this.bVt);this.csl();var bB=this.csF(this.XC);if(!!bB){this.gF.appendChild(bB)}var He=this.csj();this.zt.innerHTML=He};uu.csl=function(){u.bw(this.XC,function(bo){if((this.lb||{}).judge==eu.CONST.EVALUATE_JUDGE_TYPE_TEACHER&&!!bo.details){bo.score=bo.details[0]}if(!!this.Tp){u.bw(this.Tp.jitems||[],function(bVo){if(bVo.jid==bo.id){bo.selfScore=bVo}}.Z(this))}u.bw(bo.details,function(XD){if(!!this.Is){if(XD.score==bo.score.jscore){bo.score.msg=XD.msg}}if(bo.refScore>=0&&bo.refScore!=null){if(bo.refScore==0){bo.refScore={score:0}}else if(XD.score==bo.refScore){bo.refScore=XD}}if(!!bo.selfScore){if(XD.score==bo.selfScore.jscore){bo.selfScore.msg=XD.msg}}}.Z(this))}.Z(this))};uu.csj=function(){var ga=(this.lb||{}).qscore;this.csT.innerText="该题得分："+(ga!=null&&ga>=0?ga:"无");var He='<div class="tit">整体评价：</div>';bVn=(this.lb||{}).qcomments||[],cC=false,bHE=0;if((this.lb||{}).judge==eu.CONST.EVALUATE_JUDGE_TYPE_TEACHER){if(!!(this.lb||{}).qcomments&&(this.lb||{}).qcomments.length>0){var bVm=(this.lb||{}).qcomments[0];if(!!bVm){He+='<p><span class="stu">老师评价：</span>'+u.dV(bVm)+"</p>";cC=true}}}else{u.bw(bVn,function(bo,bf){bHE++;if(!!bo){He+='<p class="'+(bf==bVn.length-1?"last":"")+'"><span class="stu">student'+bHE+"：</span>"+u.dV(bo)+"</p>";cC=true}else{bHE--}}.Z(this))}if(!!this.Tp&&!!this.Tp.qcomment&&!this.Is){He+="<p><span>自评评价：</span>"+u.dV(this.Tp.qcomment||"")+"</p>";cC=true}if(!!this.Is){if(!!this.lb.qcomment&&!!this.lb.qcomment){He+='<p><span class="stu">我的评价：</span>'+u.dV(this.lb.qcomment)+"</p>";cC=true}if(!!(this.lb||{}).refcomment&&!!(this.lb||{}).refcomment){He+='<p><span class="stu">老师评价：</span>'+u.dV((this.lb||{}).refcomment)+"</p>";cC=true}}if(!cC){He='<div class="tit">整体评价：无</div>'}return He};uu.GT=function(){e.bZ(this.bb,"initMode evaluateMode resultMode");if(this.bHH==eu.CONST.HW_PHASE_SUBMIT){this.csB()}else if(this.bHH==eu.CONST.HW_PHASE_EVALUATION){this.csu()}else{eu.cW(this.csR,!!this.LO);this.csm()}};uu.bE=function(Y){this.bG(Y);this.bHH=Y.evaluateStatus||eu.CONST.HW_PHASE_SUBMIT;this.Is=Y.isTraining;this.LO=Y.needEvaluate;if(this.bHH!=eu.CONST.HW_PHASE_SUBMIT){this.XC=Y.data.judgeDtos;this.ep=Y.data.answerDto;this.lb=Y.data.evaluateDto;this.Tp=Y.data.selfEvaluateDto}this.bfa();this.GT()};uu.bJ=function(){this.gF.innerHTML="";e.bZ(this.zt,"f-dn");if(!!this.BT){this.BT=eu.cD.bg(this.BT)}if(!!this.iq){this.iq=eu.cz.bg(this.iq)}this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,u=NEJ.P("nej.u"),e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),LP;eu.bHK=NEJ.C();LP=eu.bHK.bt(eu.bkM,true);LP.bL=function(){this.bO();this.crW=e.bc(this.bb,"j-evaluate")[0]};LP.NP=function(){if(!!this.bfl){return this.bfl.NP()}};LP.bVl=function(W){this.bfl=eu.bHe.bh({parent:this.crW,evaluateStatus:this.LR,isTraining:this.Is,needEvaluate:this.LO,data:W})};LP.crU=function(){if(!!this.LO||this.LR==eu.CONST.HW_PHASE_SCORE){if(this.LR==eu.CONST.HW_PHASE_SUBMIT){this.bVl()}else{if(this.im==0){this.bej()}eu.bs(this.bkS);var xb=(this.lb||{}).jitems;var bsL=eu.cpu(this.ce.judgeDtos,xb);var crL={judgeDtos:bsL,answerDto:this.ep,evaluateDto:this.lb,selfEvaluateDto:this.Tp,needEvaluate:this.LO};this.bVl(crL)}}};LP.crK=function(){if(!!this.Is){var bf=this.ce.id.split("-t")[1];if(bf>0){eu.bs(this.hn)}else{eu.bv(this.hn)}}};LP.bE=function(Y){this.Is=Y.isTraining;this.bG(Y);this.LO=Y.needEvaluate==true?true:false;this.LR=Y.evaluateStatus||eu.CONST.HW_PHASE_SUBMIT;if(!!this.ep){this.lb=this.LR==eu.CONST.HW_PHASE_SCORE?this.ep.evalResult:this.ep.evaluateDto;if(this.LR==eu.CONST.HW_PHASE_SCORE){this.Tp=this.ep.evaluateDto}}this.crK();this.crU()};LP.bJ=function(){if(!!this.bfl){this.bfl=eu.bHe.bg(this.bfl)}this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,u=NEJ.P("nej.u"),e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),Gz;var dn=e.bX('<div class="m-homeworkQuestionList"></div>');eu.tv=NEJ.C();Gz=eu.tv.bt(eu.cq,true);Gz.bU=function(){this.bW=dn};Gz.bL=function(){this.bO();this.ey=[];this.XL=[]};Gz.NP=function(){var nH={evaluateId:this.DU,testId:this.dw,qitems:[]};var cC=true;u.bw(this.ey,function(bo){var bft=bo.NP();nH.qitems.push(bft);if(!bft){cC=false}});return{complete:cC,evaluateDto:nH}};Gz.PC=function(){var vO=[],bVk=true;u.bw(this.ey,function(bo,bf){var gM=bo.PC();vO.push(gM);if(!gM.content.content&&(!gM.content.attachments||gM.content.attachments.length<=0)){bVk=false}}.Z(this));return{answers:vO,finishFlag:bVk}};Gz.bIb=function(cU,bf,eU){if(bf==0){e.bK(cU.jW(),"first")}if(bf==eU){e.bK(cU.jW(),"last")}};Gz.Hx=function(Y){this.bVj=0;u.hH(Y.recordDto,function(){this.bVj++}.Z(this));u.hH(Y.recordDto,function(bo,bf){this.XL.push(bo.questionDto.id);var cU=eu.bHK.bh({parent:this.bb,mode:Y.mode||0,needEvaluate:Y.needEvaluate,evaluateStatus:Y.evaluateStatus||eu.CONST.HW_PHASE_SUBMIT,isTraining:this.Is,recordDto:bo,aid:this.pf.aid,position:this.XL.length-1});this.bIb(cU,this.XL.length-1,this.bVj-1);this.ey.push(cU)}.Z(this))};Gz.bE=function(Y){this.bG(Y);this.eG=Y.recordDto;if(!this.eG){return}this.Is=Y.isTraining;this.pf=Y.paperInfo||{};this.DU=this.pf.evaluateId;this.dw=this.pf.testId;this.lK=this.pf.aid;if(!!this.eG){this.Hx(Y)}};Gz.bJ=function(){this.XL=[];if(!!this.ey){for(var cL=this.ey.length-1;cL>=0;cL--){this.ey[cL]=eu.bHK.bg(this.ey[cL])}this.ey=[]}this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,u=NEJ.P("nej.u"),e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),d=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),yu;eu.bIf=NEJ.C();yu=eu.bIf.bt(eu.cq,true);yu.bU=function(){this.bW=e.bX(e.bS("jst-edu-learnHomeworkSubmit"))};yu.bL=function(){this.bO();this.Sw=e.bc(this.bb,"j-cannot-submit")[0];this.gl=e.bc(this.bb,"j-homework-con")[0];this.pR=e.bc(this.bb,"j-homework-paper")[0];this.bIi=e.bc(this.bb,"j-btnwrap")[0];this.Aj=e.bc(this.bb,"j-submit")[0];this.bVi=e.bc(this.bb,"j-tbntxt")[0];this.wh=e.bc(this.bb,"j-homeworkdes")[0];this.Si=e.bc(this.bb,"j-cxcheck")[0];this.Sh=e.bc(this.bb,"j-cxtxt")[0];this.Bw=e.bc(this.bb,"j-aftersubmit")[0];this.LY=e.bc(this.bb,"j-qaFormLink")[0];if(!!this.LY){this.LY.href="#"+eu.umi("learnForumTopic")+"?fid="+g.quizForumId}v.bd(this.Aj,"click",this.bmW.Z(this));this.fd=new d.sA;this.fd.bd("onGetHomeworkPaper",this.tZ.Z(this));this.fd.bd("onSaveDraftAnswers",this.bIs.Z(this));this.fd.bd("onSubmitAnswers",this.XN.Z(this));this.fd.bd("onGetMocMemberTutorialInfo",this.RQ.Z(this));this.pq=new d.xW;this.pq.bd("onGetAggreement",this.RP.Z(this))};yu.bE=function(Y){this.bG(Y);this.fz=Y.homeworkId;this.dR=Y.homeworkVo;this.bnb=this.dR.submitStatus!=eu.CONST.HW_STATUS_SUBMITTED&&!!this.dR.deadline&&eu.dB()>this.dR.deadline;eu.bs(this.Bw);this.wh.innerHTML=u.dV(this.dR.description||"");v.dY(this.Aj,"click");if(this.bnb){this.dc=eu.cz.bh({parent:this.Sw});this.dc.cs("温馨提示：<br/>本次作业的提交截止时间已过，无法成功提交作业。你可以在输入框中输入答案作为练习，但是所有答案都不会计入最后成绩。");e.bZ(this.Aj,"u-btn-default");eu.bv(this.bVi)}else{eu.bs(this.bVi);e.bK(this.Aj,"u-btn-default");v.bd(this.Aj,"click",this.bmW.Z(this))}if(!!g.isPreview){this.bIi.style.display="none"}this.fd.VU(this.dR.tid,null,false,eu.CONST.HW_PHASE_SUBMIT,this.dR.aid,g.isPreview);this.pq.bjp(3);this.fd.btI()};yu.tZ=function(W){if(!!W){this.kC=W;this.eG=eu.zQ(W.subjectiveQList,W.answers);this.gE=eu.tv.bh({parent:this.pR,mode:0,needEvaluate:false,paperInfo:this.kC,evaluateStatus:0,recordDto:this.eG})}else{eu.cp.bP({type:1,message:"无法获取单元作业题目"})}};yu.RP=function(W){this.Sh.innerHTML=W};yu.RQ=function(W){this.oF=W[eu.CONST.GLOBAL_MOOC_PROTOCAL];this.Si.checked=this.oF;v.dY(this.Si,"click");v.bd(this.Si,"click",this.bIB.Z(this))};yu.bIB=function(){eu.es("homeworkHonest","click","点击签订作业诚信协议:"+!this.oF);if(this.oF){this.oF=false;this.fd.VS(eu.CONST.GLOBAL_MOOC_PROTOCAL,0)}else{this.oF=true;this.fd.VS(eu.CONST.GLOBAL_MOOC_PROTOCAL,1)}};yu.bIs=function(W){eu.showToastTips({type:1,content:"保存成功"})};yu.bmW=function(){if(!this.gE){return}var vO=this.gE.PC();if(!vO.finishFlag){eu.showToastTips({type:2,content:"还没有答完，不能提交"});return}if(!this.oF){eu.showToastTips({type:2,content:"请勾选诚信保证声明"});return}eu.es("homeworkSubmit","click","提交作业，id:"+this.fz);if(!g.isPreview){var gf={userId:eu.dE().id,courseId:g.courseDto.id,termId:g.termDto.id,hwId:this.fz};eu.es("homework","submit",eu.nb(gf))}this.kC.answers=vO.answers;this.fd.ZR(this.kC,!!g.isPreview)};yu.XN=function(W){eu.showToastTips({type:1,content:"提交成功"});eu.bv(this.Bw);this.bn("onHomeworkEvent",{type:"refreshStatus"})};yu.bJ=function(){if(!!this.gE){this.gE=eu.tv.bg(this.gE)}if(!!this.dc){this.dc=eu.cz.bg(this.dc)}this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,u=NEJ.P("nej.u"),e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),d=NEJ.P("edu.d"),vj;eu.bID=NEJ.C();vj=eu.bID.bt(eu.beL,true);vj.bU=function(){this.bW=e.bX(e.bS("jst-edu-learnHomeworkEvaluateList"))};vj.bL=function(){this.bO();this.Rw=e.bc(this.bb,"j-cannot-starteva")[0];this.bni=e.bc(this.bb,"j-tasklist")[0];this.crE=e.bc(this.bb,"j-evaMin")[0];this.bVh=e.bc(this.bb,"j-trainwrap")[0];this.bVg=e.bc(this.bb,"j-trainingbtn")[0];this.crs=e.bc(this.bb,"j-listtablediv")[0];this.bVf=e.bc(this.bb,"j-getnextbtnwrap")[0];this.crp=e.bc(this.bb,"j-getnextbtn")[0];this.bnn=e.bc(this.bb,"j-selfevabtn")[0];this.bno=e.bc(this.bb,"j-progress")[0];v.bd(this.crp,"click",this.crk.Z(this));this.fd=new d.sA;this.fd.bd("onGetEvaluateDetail",this.crj.Z(this))};vj.bE=function(Y){this.bG(Y);this.fz=Y.homeworkId;this.dR=Y.homeworkVo;this.cri=Y.evaluatorId||eu.dE().id;this.Xw=Y.evaluateNeedTrain;if(eu.dB()<this.dR.evaluateStart){this.Rw.innerHTML=this.dR.evaluateJudgeType==eu.CONST.JUDGE_TYPE_EVALUATE?this.pp.txt+"互评阶段还未开始":this.pp.txt+"已结束，请等待成绩公布";this.Rw.style.display="block";this.bni.style.display="none";return}if(eu.dB()>this.dR.evaluateEnd){this.Rw.innerHTML=this.dR.evaluateJudgeType==eu.CONST.JUDGE_TYPE_EVALUATE?this.pp.txt+"互评已经结束，请等待成绩公布":this.pp.txt+"已结束，请等待成绩公布";this.Rw.style.display="block";this.bni.style.display="none";return}this.fd.cSY(this.fz,this.cri)};vj.crj=function(W){this.crh=!!W&&!!W.enoughAnswer;if(!this.crh){this.Rw.innerHTML="由于"+this.pp.txt+"提交数量不足，无法开始互评阶段，改为由老师批改";this.Rw.style.display="block";this.bni.style.display="none";return}this.Rw.innerHTML="";this.bni.style.display="block";this.crd=!!W.trained;this.cra();this.cqW(W);this.cqO(W);this.cqH(W)};vj.cra=function(){if(this.Xw==eu.CONST.NEED_TRAIN_FALSE){this.bVh.style.display="none";return}this.bVh.style.display="block";if(this.crd){this.bVg.innerHTML='<span class="f-fc9">训练已经完成</span>'}else{this.bVg.innerHTML='<a class="clickbtn j-starttraining">点击开始训练</a>';var cqB=e.bc(this.bb,"j-starttraining")[0];v.bd(cqB,"click",this.cqy.Z(this))}};vj.cqW=function(W){var kR=3,fR=W.totalEvaluateCount,ig=W.maxEvaluateCount,bnx=parseInt((ig-fR)/2)+fR,bVe=fR-kR,XT=(W.completedEvaluates||[]).length;var bnA=function(gz,bJd){if(XT>=bJd)return"s2";if(XT>gz&&XT<=bJd)return"s1";if(XT<bJd)return"s0";return s0};var QF=["s2",bnA(0,kR),bnA(bVe>0?kR:0,fR),bnA(fR,bnx),bnA(bnx,ig)];var FT=[{count:0,clazz:QF[0]+" p-start",text:"鸡鸣而起",tip:"尚未参与互评，不评或者少评都会影响成绩哦",important:0,show:1},{count:kR,clazz:QF[1]+" p-min",text:"勤学苦练",tip:"互评未完成，要接受惩罚哦",important:0,show:bVe>0?1:0},{count:fR,clazz:QF[2]+" p-total",text:"初出茅庐",tip:"恭喜！互评已完成"+(ig>fR?"，继续评分可能会有神秘礼物哦~":""),important:1,show:1},{count:bnx,clazz:QF[3]+" p-extra",text:"孜孜不倦",tip:"好棒,你已超额完成任务，走在学霸的路上很爽吧~",important:0,show:bnx>fR?1:0},{count:ig,clazz:QF[4]+" p-max",text:"指点江山",tip:"学霸！把机会留给更多的小伙伴吧",important:0,show:ig>fR?1:0}];var bfP=0,bnE=4,bVd=0,bJj=0,bVc=0;for(var cL=FT.length-1;cL>=1;cL--){if(FT[cL].show<=0){FT.splice(cL,1);bnE--}else{if(QF[cL]=="s2"){bVd++}else if(QF[cL]=="s1"){bVc=FT[cL].count}}}bJj+=bVd*(520/bnE);bfP=u.nZ(FT,function(bo){return bo.count==bVc});if(bfP>0){bJj+=(XT-FT[bfP-1].count)/(FT[bfP].count-FT[bfP-1].count)*520/bnE}var dy=e.bS("jst-edu-evaProgress",{xlist:FT,progress:bJj,completed:XT,gapNum:bnE});this.bno.innerHTML=dy};vj.cqO=function(W){this.crE.innerText=W.totalEvaluateCount;this.FP=W.completedEvaluates||[];this.XU=!!W.startedEvaluate?[W.startedEvaluate]:[];this.dlI=this.FP.length;if(this.FP.length>=W.maxEvaluateCount||this.XU.length>0){this.bVf.style.display="none"}else{this.bVf.style.display="block"}for(var i=this.FP.length-1;i>=0;i--){this.FP[i].btnName=this.FP[i].origScore;this.FP[i].btnTitle="";this.FP[i].index=i+1}for(var i=this.XU.length-1;i>=0;i--){this.XU[i].btnName="继续进行互评";this.XU[i].btnTitle="还未提交互评";this.XU[i].index=this.FP.length+i+1}var dN=' <table class="listtable"><thead><tr><td class="l1">'+this.pp.txt+'列表</td><td class="l2">你的评分</td></tr></thead><tbody class="j-listtable">';var cpO=e.bS("jst-edu-evalutlist-item",{evalist:this.FP});dN+=cpO;var cpN=e.bS("jst-edu-evalutlist-item",{evalist:this.XU,clazz:"f-fcorange"});dN+=cpN;dN+="</tbody></table>";this.crs.innerHTML=dN;this.cpG=e.bc(this.bb,"j-evabtn");u.bw(this.cpG,function(bo,bf){v.bd(bo,"click",this.cpE.Z(this,bo))}.Z(this))};vj.cqH=function(W){v.dY(this.bnn,"click");this.cpA=W.selfEvaluate.evaluateId;this.bVa=W.selfEvaluate.status;this.cpv=W.selfEvaluate.answerformId;if(this.bVa==eu.CONST.EVA_STATUS_COMPLETED){this.bnn.innerHTML=W.selfEvaluate.origScore+""}else{this.bnn.innerHTML="点击自评"}e.bc(this.bb,"j-selfevaname")[0].innerHTML=u.dV(eu.dE().nickName||"");v.bd(this.bnn,"click",this.cpt.Z(this))};vj.crk=function(){this.bn("onHomeworkEvent",{type:"startevaluate"})};vj.cqy=function(){this.bn("onHomeworkEvent",{type:"starttraing"});eu.es("homeTraining","click","进入互评训练，id:"+this.fz)};vj.cpE=function(lp){var bwt=e.dj(lp,"evaluateid");var hE=e.dj(lp,"aid");var eN=e.dj(lp,"status");this.bn("onHomeworkEvent",{type:"startevaluate",data:{evaluateId:bwt,aid:hE,status:eN}});eu.es("homeEvaluate","click","进入互评，homeworkId:"+this.fz)};vj.cpt=function(){this.bn("onHomeworkEvent",{type:"startselfevaluate",data:{evaluateId:this.cpA,aid:this.cpv,status:this.bVa}});eu.es("homeSelfEvaluate","click","进入自评，homeworkId:"+this.fz)};vj.bJ=function(){this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,u=NEJ.P("nej.u"),e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),d=NEJ.P("edu.d"),wW;var cps=["打分是不是打上瘾啦，再来一份吧~","互评作业是另一种学习哦~有没有在给别人评分的时候发现自己的不足呢？加油哦~","换一种角色去为别人的作业评分，有没有一种成就感？那就让它来的更猛烈一些吧~","三人行必有我师焉，参加互评可以学到更多哦~","你已经超额完成任务，继续评分可能会有神秘礼物哦~","指点江山，激扬文字，互评达人就是你！保持这种感觉飞翔吧，少年~"];eu.bgb=NEJ.C();wW=eu.bgb.bt(eu.beL,true);wW.bU=function(){this.bW=e.bX(e.bS("jst-edu-learnHEAction"))};wW.bL=function(){this.bO();this.bgc=e.bc(this.bb,"j-savedraftbtn")[0];this.bgd=e.bc(this.bb,"j-submitbtn")[0];this.pR=e.bc(this.bb,"j-paperbox")[0];this.OW=e.bc(this.bb,"j-backbtn")[0];this.cpr=e.bc(this.bb,"j-btnwrap")[0];this.cpk=e.bc(this.bb,"j-remainTxt")[0];this.cpj=e.bc(this.bb,"j-gotonext")[0];this.gF=e.bc(this.bb,"j-list")[0];this.OU=e.bc(this.bb,"j-tip")[0];this.bJH=e.bc(this.bb,"j-completetip")[0];this.bJI=e.bc(this.bb,"j-selfcompletetip")[0];v.bd(this.bgd,"click",this.bJJ.Z(this));v.bd(this.cpj,"click",this.bob.Z(this));v.bd(this.OW,"click",this.Bm.Z(this));v.bd(this.bgc,"click",this.cph.Z(this));this.cc=new d.sA;this.cc.bd("onGetHomeworkPaper",this.bJN.Z(this));this.cc.bd("onGetNextEvaluate",this.cpg.Z(this));this.cc.bd("onSubmitEvaluate",this.XN.Z(this));this.cc.bd("onSaveEvaluate",this.Yb.Z(this))};wW.bE=function(Y){this.bG(Y);this.LR=Y.evaluateStatus;this.LO=Y.needEvaluate;this.DU=Y.evaluateId;this.bJQ=Y.evaStatus||eu.CONST.EVA_STATUS_STARTED;this.bof=Y.aid;this.cpf=Y.isSelf;this.dw=Y.testId;eu.bs(this.bgc);this.bob()};wW.Bm=function(){this.bn("onHomeworkEvent",{type:"backToEvaluateList"})};wW.bob=function(){if(!!this.DU){this.cc.VU(this.dw,this.DU,false,eu.CONST.HW_PHASE_EVALUATION,this.bof,g.isPreview)}else{this.cc.bwE(this.dw,eu.dE().id,true)}};wW.cpg=function(W,cC){if(!W){return}var bUZ=W.total-W.completed,coV=W.max-W.completed;if(!!W.next&&coV>0){this.DU=W.next.evaluateId;this.bof=W.next.answerformId;this.bJQ=W.next.status;if(!!cC){this.bob()}var eT="目前还剩余"+bUZ+"个学员的"+this.pp.txt+"需要进行评分，否则会影响成绩哦~";if(bUZ<=0){eT=cps[parseInt(Math.random()*100)%6]}this.cpk.innerText=eT;eu.bv(this.OU)}else{eu.bv(this.bJH)}e.tc(this.OU)};wW.bJN=function(W){if(!!W){this.IV=W;if(!W.answers||W.answers.length<=0){W.answers=[];u.bw(W.subjectiveQList,function(bo,bf){W.answers.push({qid:bo.id,type:bo.type,content:{content:"该同学未提交答案",attachments:[]}})}.Z(this))}this.eG=eu.zQ(W.subjectiveQList,W.answers);if(!!this.fU){this.fU=eu.tv.bg(this.fU)}this.fU=eu.tv.bh({parent:this.gF,mode:1,needEvaluate:this.LO||true,evaluateStatus:this.LR||2,recordDto:this.eG,paperInfo:{testId:this.IV.tid,evaluateId:this.DU,aid:this.IV.aid}});eu.bs(this.OU);eu.bs(this.bJH);eu.bs(this.bJI);eu.bv(this.cpr);if(this.bJQ==eu.CONST.EVA_STATUS_STARTED){eu.bv(this.bgc)}else{eu.bs(this.bgc)}}};wW.bJJ=function(){if(!!this.fU){var cN=this.fU.NP(),cC=cN.complete;if(!cC){return}this.cc.bwI(cN.evaluateDto,false)}};wW.cph=function(){if(!!this.fU&&this.bJQ==eu.CONST.EVA_STATUS_STARTED){var cN=this.fU.NP(),cC=cN.complete;if(!cC){return}this.cc.bwI(cN.evaluateDto,true)}};wW.XN=function(W){if(!!W){eu.showToastTips({type:1,content:"提交成功"});if(!this.cpf){this.cc.bwE(this.dw,eu.dE().id)}else{eu.bv(this.bJI);e.tc(this.bJI)}eu.bs(this.bgc)}this.bn("onHomeworkEvent",{type:"refreshStatus"})};wW.Yb=function(W){if(!!W){eu.showToastTips({type:1,content:"保存成功"});this.bob()}};wW.bJ=function(){if(!!this.fU){this.fU=eu.tv.bg(this.fU)}eu.bs(this.OU);eu.bs(this.bJH);this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,u=NEJ.P("nej.u"),e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),d=NEJ.P("edu.d"),tD;eu.bJY=NEJ.C();tD=eu.bJY.bt(eu.beL,true);tD.bU=function(){this.bW=e.bX(e.bS("jst-edu-learnHETraining"))};tD.bL=function(){this.bO();this.bUY=e.bc(this.bb,"j-completeinfo")[0];this.bUW=e.bc(this.bb,"j-nextinfo")[0];this.pR=e.bc(this.bb,"j-paperbox")[0];this.OW=e.bc(this.bb,"j-backbtn")[0];this.bgd=e.bc(this.bb,"j-submitbtn")[0];this.bon=e.bc(this.bb,"j-nextbtn")[0];this.cow=e.bc(this.bb,"j-completebtn")[0];this.cot=e.bc(this.bb,"j-remainNum")[0];this.eV=e.bc(this.bb,"j-nores")[0];this.bUV=e.bc(this.bb,"j-bottomBtn")[0];v.bd(this.OW,"click",this.Bm.Z(this));v.bd(this.bgd,"click",this.bJJ.Z(this));v.bd(this.bon,"click",this.cop.Z(this));v.bd(this.cow,"click",this.coj.Z(this));this.fd=new d.sA;this.fd.bd("onGetTrainPaper",this.coi.Z(this));this.fd.bd("onGetNextEvaluate",this.cof.Z(this))};tD.bE=function(Y){this.bG(Y);this.DU="training";this.dw=Y.testId;this.cod()};tD.cod=function(){var bV=!!eu.CS()?g.moocTermDto.id:g.termDto.id;this.fd.cSH(bV,false)};tD.cof=function(W){this.bn("onHomeworkEvent",{type:"backToEvaluateList"})};tD.cnN=function(jq,bf){var hg={tid:jq.id,subjectiveQList:[],answers:[]};u.bw(jq.sampleAnswers,function(bo,cL){var uM=eu.BL(jq);uM.id=jq.id+"-t"+cL;uM.position=bf;var cnM={qid:uM.id,type:eu.CONST.TYPE_SUBJECTIVE_NORMAL,content:{content:bo.lectorAnswer},evaluateDto:{qid:uM.id,refcomment:bo.qcomment}};u.bw(uM.judgeDtos,function(cnJ,bf){cnJ.refScore=!!bo.jitems&&bo.jitems[bf]?bo.jitems[bf].jscore:""}.Z(this));hg.subjectiveQList.push(uM);hg.answers.push(cnM)}.Z(this));return hg};tD.Bm=function(){this.bn("onHomeworkEvent",{type:"backToEvaluateList"})};tD.bJJ=function(){if(!!this.fU){var nH=this.fU.NP().evaluateDto;u.bw(this.bgs[this.eS-1].answers,function(bo,bf){u.bw(nH.qitems,function(bft,bf){if(bo.qid==bft.qid){bo.evalResult=bft}}.Z(this))}.Z(this))}this.bKq(this.eS-1,eu.CONST.HW_PHASE_SCORE);if(this.eS==this.bgs.length){this.fd.cSF(eu.dE().id,g.termDto.id);eu.bv(this.bUY);eu.bs(this.bon);this.bn("onHomeworkEvent",{type:"refreshStatus"})}else{this.cot.innerText=this.bgs.length-this.eS;eu.bv(this.bUW);eu.bv(this.bon)}};tD.cop=function(){this.bKq(this.eS,eu.CONST.HW_PHASE_EVALUATION)};tD.coj=function(){this.fd.bwE(this.dw,eu.dE().id,true)};tD.bKq=function(bf,eN){eu.bs(this.bUY);eu.bs(this.bUW);eu.bs(this.bon);this.IV=this.bgs[bf];this.eG=eu.zQ(this.IV.subjectiveQList,this.IV.answers);if(!!this.fU){this.fU=eu.tv.bg(this.fU)}this.fU=eu.tv.bh({parent:this.pR,mode:1,needEvaluate:this.LO||true,evaluateStatus:eN,recordDto:this.eG,testId:this.IV.tid,evaluateId:this.DU,isTraining:true});if(eN==eu.CONST.HW_PHASE_EVALUATION){this.eS++;eu.bv(this.bgd)}else{eu.bs(this.bgd)}};tD.coi=function(W){if(!!W&&!!W.subjectiveQList&&W.subjectiveQList.length>0){eu.bs(this.eV);eu.bv(this.bUV);this.Bi=W;this.qU=W.subjectiveQList||[{id:"q1",title:"题干题干",judgeDtos:[{id:1,msg:"得分点说明",details:[{msg:"让你得1分你就得1分",score:1},{msg:"赏你2分吧",score:2}]}],sampleAnswers:[{lectorAnswer:"1fdafdas",qcomment:"老师评价",jitems:[{jscore:2,jid:1}]},{lectorAnswer:"2dafdas",qcomment:"老师评价1",jitems:[{jscore:2,jid:1}]}]},{id:"q2",title:"题干题干",judgeDtos:[{id:2,msg:"得分点说明",details:[{msg:"让你得1分你就得1分",score:1},{msg:"赏你2分吧",score:2}]}],sampleAnswers:[{lectorAnswer:"2",qcomment:"老师评价3",jitems:[{jscore:1,jid:2}]},{lectorAnswer:"3",qcomment:"老师评价4",jitems:[{jscore:2,jid:2}]}]}];this.bgs=[];u.bw(this.qU,function(bo,bf){var SP=this.cnN(bo,bf);this.bgs.push(SP)}.Z(this));this.eS=0;this.bKq(this.eS,eu.CONST.HW_PHASE_EVALUATION)}else{eu.bv(this.eV);eu.bs(this.bUV)}};tD.XN=function(W){};tD.bJ=function(){if(!!this.fU){this.fU=eu.tv.bg(this.fU)}this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,u=NEJ.P("nej.u"),e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),d=NEJ.P("edu.d"),Op;eu.bKu=NEJ.C();Op=eu.bKu.bt(eu.cq,true);Op.bU=function(){this.bW=e.bX(e.bS("jst-edu-learnHomeworkScore"))};Op.bL=function(){this.bO();this.On=e.bc(this.bb,"j-score-notpublish")[0];this.bgv=e.bc(this.bb,"j-scorecon")[0];this.pR=e.bc(this.bb,"j-homework-paper")[0];this.ir=e.bc(this.bb,"j-score")[0];this.boF=e.bc(this.bb,"j-score-evaluate")[0];this.fd=new d.sA;this.fd.bd("onGetHomeworkPaper",this.tZ.Z(this));this.fd.bd("onGetHomeworkEvalInfo",this.NJ.Z(this))};Op.bE=function(Y){this.bG(Y);this.fz=Y.homeworkId;this.dR=Y.homeworkVo;this.Bf=Y.isEvaMode;if(Y.scorePubStatus!=eu.CONST.SCORE_PUB_STATUS_CONFIRMED){this.On.innerHTML="成绩还未发布，请耐心等待";this.On.style.display="block";this.bgv.style.display="none";return}else{this.On.style.display="none";this.bgv.style.display="block"}this.fd.buX(this.fz,this.dR.aid);this.fd.VU(this.fz,null,true,eu.CONST.HW_PHASE_SCORE,this.dR.aid,g.isPreview)};Op.NJ=function(W){if(!!W){this.bKB=W.evalTotalCount;this.bgy=W.complatedEvalCount;W.mocMutualEvaluatePenaltyRule["completed"]=100;var Bd;if(this.bgy==0){Bd="uncompleted"}else if(this.bgy>=this.bKB){Bd="completed"}else{Bd="partial"}this.ir.innerText=(W.score||0)+"分";if(this.Bf&&W.enableEvaluation){var Ia="";var bgz=W.mocMutualEvaluatePenaltyRule[Bd]+"%";switch(Bd){case"uncompleted":Ia="，你没有进行互评，所以你最终的有效成绩将是你获得的评分的"+bgz;break;case"completed":Ia="，你完成了全部互评";break;case"partial":Ia="，你只完成了一部分互评，所以你最终的有效成绩将是你获得的评分的"+bgz;break}this.boF.innerText=Ia}}else{eu.cp.bP({type:1,message:"无法获取成绩"})}};Op.tZ=function(W){if(!!W){this.kC=W;this.eG=eu.zQ(W.subjectiveQList,W.answers);this.gE=eu.tv.bh({parent:this.pR,mode:1,needEvaluate:this.Bf,evaluateStatus:eu.CONST.HW_PHASE_SCORE,recordDto:this.eG,paperInfo:{testId:this.kC.tid,aid:this.kC.aid}})}else{eu.cp.bP({type:1,message:"无法获取成绩"})}};Op.bJ=function(){if(!!this.gE){this.gE=eu.tv.bg(this.gE)}this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,u=NEJ.P("nej.u"),e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),d=NEJ.P("edu.d"),sw;eu.bKH=NEJ.C();sw=eu.bKH.bt(eu.cq,true);sw.bU=function(){this.bW=e.bX(e.bS("jst-edu-learnHomeworkStudentCheck"))};sw.bL=function(){this.bO();this.pR=e.bc(this.bb,"j-homework-paper")[0];this.ir=e.bc(this.bb,"j-score")[0];this.boF=e.bc(this.bb,"j-score-evaluate")[0];this.fd=new d.sA;this.fd.bd("onGetHomeworkPaper",this.tZ.Z(this));this.fd.bd("onGetHomeworkEvalInfo",this.NJ.Z(this))};sw.bE=function(Y){this.bG(Y);this.fz=Y.homeworkId;this.dR=Y.homeworkVo;this.Bf=Y.isEvaMode;this.LR=Y.evaluateStatus;this.fd.buX(this.fz,this.dR.aid);this.fd.VU(this.fz,null,true,eu.CONST.HW_PHASE_SCORE,this.dR.aid,g.isPreview)};sw.NJ=function(W){if(!!W){if(W.score==null||W.score==undefined){this.ir.innerText="该学生还没有得分";this.boF.innerText="";return}this.bKB=W.evalTotalCount;this.bgy=W.complatedEvalCount;W.mocMutualEvaluatePenaltyRule["completed"]=100;var Bd;if(this.bgy==0){Bd="uncompleted"}else if(this.bgy>=this.bKB){Bd="completed"}else{Bd="partial"}this.ir.innerText="该学生综合得分为："+(W.score||0)+"分";if(this.Bf&&W.enableEvaluation){var Ia="";var bgz=W.mocMutualEvaluatePenaltyRule[Bd]+"%";switch(Bd){case"uncompleted":Ia="，没有进行互评，所以最终的有效成绩将是获得的评分的"+bgz;break;case"completed":Ia="，完成了全部互评";break;case"partial":Ia="，只完成了一部分互评，所以最终的有效成绩将是获得的评分的"+bgz;break}this.boF.innerText=Ia}}else{eu.cp.bP({type:1,message:"无法获取成绩"})}};sw.tZ=function(W){if(!!W){this.kC=W;this.eG=eu.zQ(W.subjectiveQList,W.answers);this.gE=eu.tv.bh({parent:this.pR,mode:1,needEvaluate:this.Bf,evaluateStatus:eu.CONST.HW_PHASE_SCORE,recordDto:this.eG,paperInfo:{testId:this.kC.tid,aid:this.kC.aid}})}else{eu.cp.bP({type:1,message:"无法获取题目"})}};sw.bJ=function(){if(!!this.gE){this.gE=eu.tv.bg(this.gE)}this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),v=NEJ.P("nej.v"),om,bKJ;p.boO=NEJ.C();om=p.boO.bt(p.du,true);bKJ=p.boO.cH;om.ee=function(){return e.bQ("courseLearn-inner-box")};om.cu=function(){bKJ.cu.apply(this,arguments);this.dhq=e.bc(this.bb,"j-hwname")[0];this.OW=e.bc(this.bb,"j-backbtn")[0];this.dhn=e.bc(this.bb,"j-evaluate-status-head")[0];this.HM=e.bc(this.bb,"j-homework-box")[0];v.bd(this.OW,"click",this.Bm.Z(this));this.fd=new d.sA;this.fd.bd("onGetHomeworkInfo",this.bKO.Z(this))};om.Bm=f;om.Td=f;om.Yh=function(){if(!this.fz){eu.cp.bP({type:1,message:"无法获取题目"})}else{this.dx();this.fd.bXM(this.fz,this.lK,!!g.isPreview)}};om.bKO=function(W){if(!W){eu.cp.bP({type:1,message:"无法获取题目"});return}this.tR=W;this.Bf=W.evaluateJudgeType==eu.CONST.JUDGE_TYPE_EVALUATE;this.bgG=W.submitStatus==eu.CONST.HW_STATUS_SUBMITTED;this.Xw=W.evaluateNeedTrain;this.bgH=W.scorePubStatus;this.bKU=this.ub=eu.UF(W);if(!this.bgG){this.ub=eu.CONST.HW_PHASE_SUBMIT}this.dhq.innerHTML=u.dV(W.name||"");this.HK()};om.HK=function(){this.boY();this.sp()};om.sp=function(){if(this.Ml&&(eu.ed(eu.CONST.ROLE_LECTOR)||eu.ed(eu.CONST.ROLE_ASSISTANT)||eu.ed(eu.CONST.ROLE_PLATFORM_ADMIN)||eu.ed(eu.CONST.ROLE_OUT_SUPER_ADMIN)||eu.ed(eu.CONST.ROLE_OUT_BUSINESS_EDITOR)||eu.ed(eu.CONST.ROLE_OUT_COURSE_EDITOR)||eu.ed(eu.CONST.ROLE_OUT_ORDINARY_EDITOR)||eu.ed(eu.CONST.ROLE_OUT_COURSE_REVIEWER))){this.bKZ();return}switch(this.ub){case eu.CONST.HW_PHASE_SUBMIT:this.bLa();break;case eu.CONST.HW_PHASE_EVALUATION:this.bUU();break;case eu.CONST.HW_PHASE_SCORE:this.bLc();break}};om.Yj=function(W){switch(W.type){case"refreshStatus":this.boY();break;case"backToEvaluateList":this.bUU();break;case"starttraing":this.dgi();break;case"startevaluate":this.dgg(W.data||{});break;case"startselfevaluate":this.dfY(W.data||{});break}};om.boY=function(){if(this.Yl){this.Yl=eu.blE.bg(this.Yl)}if(this.Bf){this.Yl=eu.blE.bh({parent:this.dhn,jdIndex:this.ub,homeworkId:this.fz,homeworkVo:this.tR,evaluateNeedTrain:this.Xw,aid:this.lK,configObj:this.pp})}};om.bLa=function(){this.dx();this.Td()};om.bUU=function(){this.dx();this.bLi=eu.bID.bh({parent:this.HM,homeworkId:this.fz,homeworkVo:this.tR,evaluateNeedTrain:this.Xw,onHomeworkEvent:this.Yj.Z(this),configObj:this.pp})};om.dgi=function(W){this.dx();this.bLj=eu.bJY.bh({parent:this.HM,onHomeworkEvent:this.Yj.Z(this),configObj:this.pp,testId:this.fz})};om.dgg=function(W){this.dx();this.bLk=eu.bgb.bh({parent:this.HM,evaluateStatus:this.ub,needEvaluate:this.Bf,evaluateId:W.evaluateId,evaStatus:W.status,aid:W.aid,isSelf:false,testId:this.fz,onHomeworkEvent:this.Yj.Z(this),configObj:this.pp})};om.dfY=function(W){this.dx();this.bLl=eu.bgb.bh({parent:this.HM,evaluateStatus:this.ub,needEvaluate:this.Bf,evaluateId:W.evaluateId,evaStatus:W.status,aid:W.aid,isSelf:true,testId:this.fz,onHomeworkEvent:this.Yj.Z(this),configObj:this.pp})};om.bLc=function(W){this.dx();this.jn=eu.bKu.bh({parent:this.HM,isEvaMode:this.Bf,homeworkId:this.fz,homeworkVo:this.tR,scorePubStatus:this.bgH,configObj:this.pp})};om.bKZ=function(W){this.dx();this.SO=eu.bKH.bh({parent:this.HM,isEvaMode:this.Bf,homeworkId:this.fz,homeworkVo:this.tR,evaluateStatus:this.ub,configObj:this.pp})};om.cE=function(){if(this.Yl){this.Yl=eu.blE.bg(this.Yl)}this.dx();bKJ.cE.apply(this,arguments);e.dq(this.bb)};om.dx=function(){if(this.jn){this.jn=eu.bKu.bg(this.jn)}if(this.bLi){this.bLi=eu.bID.bg(this.bLi)}if(this.bLk){this.bLk=eu.bgb.bg(this.bLk)}if(this.bLl){this.bLl=eu.bgb.bg(this.bLl)}if(this.bLj){this.bLj=eu.bJY.bg(this.bLj)}if(this.SO){this.SO=eu.bKH.bg(this.SO)}}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,u=NEJ.P("nej.u"),e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),ut=NEJ.P("nej.ut"),p=NEJ.P("edu.m"),d=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),AY;var dy=e.bX('<div class="timeBox f-pf u-btn u-btn-orange j-timeNode"><span class="f-icon"></span>倒计时：<span class="j-timeTxt"></span></div>');eu.bpk=NEJ.C();AY=eu.bpk.bt(eu.cq,true);AY.bL=function(){this.bO();this.iM=e.bc(this.bb,"j-timeTxt")[0]};AY.bU=function(){this.bW=dy};AY.bE=function(Y){this.bG(Y);this.SN=Y.begin;e.fm(this.bb,"top",Y.top||"180px");e.fm(this.bb,"left",Y.left||"1034px");this.SL();this.bgP()};AY.bEz=function(){this.bgP()};AY.dG=function(){this.Sy()};AY.bgP=function(){if(this.SN<=0){this.bn("onTimeExhaust");return}this.Gt(this.SN);this.gj=g.setInterval(function(){this.SN--;if(this.SN<=0){this.Sy();this.bn("onTimeExhaust");return}this.Gt(this.SN)}.Z(this),1e3)};AY.Sy=function(){this.gj=g.clearInterval(this.gj)};AY.Gt=function(cQ){this.iM.innerHTML=eu.bCz(cQ)};AY.SL=function(){this.iB=ut.Dx.bh({body:this.bb,overflow:true,direction:0,onchange:function(gK){e.fm(this.bb,"top",gK.top+"px");e.fm(this.bb,"left",gK.left+"px")}.Z(this)})};AY.bJ=function(){this.Sy();if(!!this.iB){this.iB=ut.Dx.bg(this.iB)}this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),El,dfb={object:4,subject:5,oj:7};var dn=e.bX('<div class="m-beforeTest"><div class="j-baseInfo baseInfo f-f0"></div><div class="details"><p class="important f-f0">建议您认真完成所有题目后提交试卷</p><p>您需要一次性作答并提交，如中途离开计时不会停止。</p><p>为获得更好的测试效果，建议您关闭IM聊天工具，视频等干扰信息，测试中途尽量不要离开。中途勿关闭浏览器，否则测试结果将无法保存。</p><p>考试成绩会在稍后公布，请密切关注公告或邮件提醒。</p><p>根据考试相关规定以及证书要求，在答题前请签署考试协议。</p></div><div class="agreeBox"><input type="checkbox" id="agreeCheck" class="j-agree f-fl"><label for="agreeCheck" class="j-agreeCt"></label></div><a class="u-btn u-btn-primary u-btn-disabled j-startBtn">开始考试</a></div>');eu.So=NEJ.C();El=eu.So.bt(eu.cq,true);El.bU=function(){this.bW=dn};El.bL=function(){this.bO();this.nF=e.bc(this.bb,"j-baseInfo")[0];this.Sm=e.bc(this.bb,"j-startBtn")[0];this.wI=e.bc(this.bb,"j-agree")[0];this.Sh=e.bc(this.bb,"j-agreeCt")[0];v.bd(this.Sm,"click",this.bLz.Z(this));v.bd(this.wI,"click",this.bgU.Z(this));this.bLB=new d.In;this.bLB.bd("onGetMocMemberTutorialInfo",this.RQ.Z(this));this.pq=new d.xW;this.pq.bd("onGetAggreement",this.RP.Z(this))};El.RP=function(W){this.Sh.innerHTML=W};El.RQ=function(W){this.wI.checked=!!W[this.bpv];this.bgU()};El.bgU=function(){switch(this.cm){case"object":eu.es("examObjectHonest","click","点击客观题考试类型签订诚信协议："+!this.wI.checked);break;case"subject":eu.es("examSubjectHonest","click","点击主观题考试类型签订诚信协议："+!this.wI.checked);break;case"oj":eu.es("examOjHonest","click","点击Online Judge考试类型签订诚信协议："+!this.wI.checked);break}eu.sf(!this.wI.checked,this.Sm,"u-btn-disabled")};El.bLz=function(){if(!e.hv(this.Sm,"u-btn-disabled")){this.bn("onDoingAble");this.bLB.VS(this.bpv,1);switch(this.cm){case"object":var bLD="examObjectBegin";break;case"subject":var bLD="examSubjectBegin";break;case"oj":var bLD="examOJBegin";break}eu.es(bLD,"click","点击开始考试")}};El.bgV=function(){var cQ="<p>本次考试仅有一次作答机会，共 <span><em>"+(this.Ek.questionCount||0)+"</em></span> 道题，总分 <span><em>"+(this.Ek.totalScore||0)+"</em> 分</span></p>";if(this.Ek.duration>0){cQ+="考试总时长：<span> <em>"+this.Ek.duration/60+"</em> 分钟</span>"}this.nF.innerHTML=cQ};El.bE=function(Y){this.bG(Y);this.Ek=Y.data;this.cm=Y.type;switch(this.cm){case"object":this.bpv=eu.CONST.MOOC_EXAM_OBJECT_PROTOCAL;break;case"subject":this.bpv=eu.CONST.MOOC_EXAM_SUBJECT_PROTOCAL;break;case"oj":this.bpv=eu.CONST.OJ_EXAM_PROTOCAL;break}this.bgV();this.wI.checked=false;this.pq.bjp(dfb[this.cm]);this.bLB.btI()};El.bJ=function(){this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),eu=NEJ.P("edu.u"),Yq={0:"A",1:"B",2:"C",3:"D",4:"E",5:"F",6:"G",7:"H",8:"I",9:"J",10:"K",11:"L",12:"M",13:"N",14:"O",15:"P",16:"Q",17:"R"},Sb,dez;var ev=e.bX('<div class="m-choiceQuestion u-questionItem"><div class="j-title title f-cb"><div class="position f-fl"></div><div class="qaDescription f-fl f-cb"><div class="qaCate j-qacate f-fl"></div><div class="f-richEditorText j-richTxt"></div></div><label class="scoreLabel f-fr f-dn j-scoreLabel">得分/总分</label></div><div class="j-choicebox"></div></div>');eu.bpB=NEJ.C();Sb=eu.bpB.bt(eu.beh,true);dez=eu.bpB.cH;Sb.bU=function(){this.bW=ev};Sb.bL=function(){this.bO();this.hn=e.bc(this.bb,"j-title")[0];this.bUR=e.bc(this.bb,"j-choicebox")[0];this.bpD=e.bc(this.bb,"j-scoreLabel")[0];this.Xn=e.bc(this.bb,"j-qacate")[0];this.Iu=e.bc(this.bb,"j-richTxt")[0];this.xf=e.cJ(this.hn)};Sb.bei=function(){this.Yt=!!this.eG.qAnswerDto?this.eG.qAnswerDto.optIds:[];var dy="",jq=this.eG.questionDto;if(!this.sD&&this.sD!=0||this.sD<0){eu.bs(this.xf[0])}else{eu.bv(this.xf[0]);this.xf[0].innerText=this.sD+1}if(this.BZ){this.Iu.innerHTML=jq.title||"";this.Xn.innerHTML=""}else{var rU=jq.title||"",bpF="";switch(jq.type){case eu.CONST.TYPE_OBJECTIVE_SINGLE:bpF+='<span class="dan">单选</span>('+jq.score+"分)";break;case eu.CONST.TYPE_OBJECTIVE_MULTI:bpF+='<span class="duo">多选</span>('+jq.score+"分)";break;case eu.CONST.TYPE_OBJECTIVE_JUDGE:bpF+='<span class="pan">判断</span>('+jq.score+"分)";break}this.Xn.innerHTML=bpF;this.Iu.innerHTML=rU}u.kM(this.Iu);this.cm=eu.bZz(jq.type);if(this.im===1&&!this.BZ&&!g.isPreview){e.fm(this.bpD,"display","block")}else{e.fm(this.bpD,"display","none")}var bLO=[],bLP=[],Yu=null,bpH=!0,bUQ={};if(!!this.eG.qAnswerDto&&!!this.eG.qAnswerDto.optIds&&this.eG.qAnswerDto.optIds.length>0){bUQ=u.bhv(this.eG.qAnswerDto.optIds||null,function(bV){return bV})}else{bpH=false}u.bw(jq.optionDtos,function(bhc,cL){if(!!bUQ[bhc.id]){if(!bhc.answer){bpH=false}bLP.push(Yq[cL])}if(!!bhc.answer){bLO.push(Yq[cL])}if(!!bhc.analyse){Yu=(Yu||"")+"&nbsp;&nbsp;"+Yq[cL]+"、"+bhc.analyse}});if(this.cm=="checkbox"&&bLP.length!=bLO.length){bpH=false}if(jq.type==eu.CONST.TYPE_OBJECTIVE_JUDGE){Yu=jq.analyse||null}if(!!this.bkK&&!Yu){Yu=""}dy=e.bS("jst-edu-testChoiceOption",{queDto:jq,answers:this.eG.qAnswerDto||null,mode:this.im,CONST:eu.CONST,optionType:this.cm,letters:Yq,noScore:this.BZ,rightAns:bLO.join("、"),selectAns:bLP.join("、"),anstrue:bpH,analyse:Yu,offsetCtn:function(fB){if(jq.type==eu.CONST.TYPE_OBJECTIVE_JUDGE&&!!fB){fB=fB.replace("正确","√");fB=fB.replace("错误","×")}return fB}.Z(this),setScore:function(OM){if(!!OM&&!this.BZ){OM=OM.toFixed(2)}else{OM="0.00"}return OM}.Z(this)});this.bUR.innerHTML=dy;if(this.im===0){this.lD=e.bc(this.bUR,"u-tbi");u.bw(this.lD,function(nw,cL){v.bd(nw,"click",this.Qm.Z(this,jq.optionDtos[cL]))}.Z(this))}};Sb.Qm=function(bLU,bj){if(this.cm=="radio"){this.Yt[0]=bLU.id}else{var mr=v.fh(bj),bUP=mr.checked;for(var cC=false,i=0,eH=this.Yt.length;i<eH;i++){if(this.Yt[i]==bLU.id){if(!!bUP){cC=true}else{this.Yt.splice(i,1)}}}if(!cC&&!!bUP){this.Yt.push(bLU.id)}}this.ep.optIds=this.Yt;if(!this.bhe&&!this.ep.time){this.bhe=true;this.ep.time=eu.dB()}this.bn("onSelect",this.ep)};Sb.bE=function(Y){this.bG(Y);this.ep=this.eG.qAnswerDto;this.bhe=false;if(!this.ep){this.ep={qid:this.eG.questionDto.id,type:this.eG.questionDto.type,optIds:[]}}};Sb.bJ=function(){this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),eu=NEJ.P("edu.u"),AW,dda;var ev=e.bX('<div class="m-FillBlank examMode u-questionItem f-pr"><div class="j-title title f-cb"><div class="position f-fl"></div><div class="qaDescription f-fl f-cb"><div class="qaCate j-qacate f-fl"></div><div class="f-richEditorText j-richTxt"></div></div><label class="scoreLabel f-fr f-dn j-scoreLabel">得分/总分</label></div><div class="f-cb inputArea"><div class="f-fl j-input input"></div><div class="score f-fr f-fn j-score"></div></div><div class="analysisInfo f-dn j-analysis"></div></div>');eu.bpN=NEJ.C();AW=eu.bpN.bt(eu.beh,true);dda=eu.bpN.cH;AW.bU=function(){this.bW=ev};AW.bL=function(){this.bO();this.hn=e.bc(this.bb,"j-title")[0];this.eP=e.bc(this.bb,"j-input")[0];this.Rl=e.bc(this.bb,"j-analysis")[0];this.ir=e.bc(this.bb,"j-score")[0];this.bpD=e.bc(this.bb,"j-scoreLabel")[0];this.Xn=e.bc(this.bb,"j-qacate")[0];this.Iu=e.bc(this.bb,"j-richTxt")[0];this.xf=e.cJ(this.hn)};AW.bei=function(){if(!this.sD&&this.sD!=0||this.sD<0){eu.bs(this.xf[0])}else{eu.bv(this.xf[0]);this.xf[0].innerText=this.sD+1}var dcD=!this.BZ?'<span class="pan">填空</span>('+this.eG.questionDto.score+"分)":"";this.Xn.innerHTML=dcD;this.Iu.innerHTML=this.eG.questionDto.title||"";u.kM(this.Iu);this.Hf=eu.cD.bh({parent:this.eP,labelText:"请输入答案",onInputBlur:this.bUN.Z(this),height:35,width:250})};AW.bUN=function(){var dbZ=this.Hf.ca();this.ep.content.content=dbZ;if(!this.bhe&&!this.ep.time){this.bhe=true;this.ep.time=eu.dB()}this.bn("onSelect",this.ep)};AW.bVH=function(){this.Hf.oI();this.Hf.cZ(this.ep.content.content||"");if(this.im===1){this.Hf.kr();if(!this.ep.content.content||this.ep.content.content==""){this.Hf.Uw("你没有填写答案");var bUM=false}else{var bUM=true}}e.bK(this.Rl,"f-dn");if(this.im==1){var Mn=!!this.eG.questionDto.analyse?"<br><b>解析： </b>"+this.eG.questionDto.analyse:null;if(!!this.bkK&&!Mn){Mn=""}if(this.BZ){e.bZ(this.Rl,"f-dn");this.Rl.innerHTML='<span class="f-f0 tt1">正确答案：</span><span class="f-f0 tt2">'+(this.eG.questionDto.stdAnswer.replace(eu.CONST.FILL_BLANK_SPLITCHARREG,"&nbsp&nbsp或&nbsp&nbsp")||"")+"</span>";eu.sf(!this.dbH(),this.Rl,"answrong")}else if(Mn!=null){e.bZ(this.Rl,"f-dn");this.Rl.innerHTML='<span class="f-f0 tt1">正确答案：</span><span class="f-f0 tt2">'+(this.eG.questionDto.stdAnswer.replace(eu.CONST.FILL_BLANK_SPLITCHARREG,"&nbsp&nbsp或&nbsp&nbsp")||"")+"</span>"+Mn;eu.sf(this.ep.correct!=0,this.Rl,"answrong")}}eu.cW(this.bpD,this.im==1&&!this.BZ);eu.cW(this.ir,this.im==1&&!this.BZ&&!!bUM);if(this.im==1&&!this.BZ){if(this.ep.correct==0){e.bK(this.ir,"right");var bUL='<span class="f-icon"></span> '}else{e.bZ(this.ir,"right");var bUL='<span class="f-icon"></span> '}this.ir.innerHTML=bUL+(this.ep.score?this.ep.score.toFixed(2):"0.00")+"/"+this.eG.questionDto.score.toFixed(2)}};AW.dbH=function(vO){switch(this.eG.questionDto.fillblankType){case 1:case 2:var vO=(this.eG.questionDto.stdAnswer||"").split(eu.CONST.FILL_BLANK_SPLITCHAR);var dbs=eu.mR(vO,this.ep.content.content);return dbs;break;case 3:var bhn=this.eG.questionDto.stdAnswer.split(","),bUK=parseFloat(bhn[0].substr(1)),bUJ=parseFloat(bhn[1].substr(0,bhn[1].length-1)),bMn=false,bMo=false;bhn[0].indexOf("(")==0?bMn=false:bMn=true;bhn[1].indexOf(")")>0?bMo=false:bMo=true;if(this.ep.content.content>bUK&&this.ep.content.content<bUJ){return true}else if(this.ep.content.content==bUK&&!!bMn){return true}else if(this.ep.content.content==bUJ&&!!bMo){return true}else{return false}break;case 4:return!!this.ep.content.content&&this.eG.questionDto.stdAnswer.indexOf(this.ep.content.content)>=0?true:false;break}};AW.bej=function(){this.Hf.kr()};AW.bkF=function(){this.Hf.oI()};AW.bE=function(Y){this.bG(Y);this.ep=this.eG.qAnswerDto;this.bhe=false;if(!this.ep){this.ep={qid:this.eG.questionDto.id,type:this.eG.questionDto.type,content:{content:""}}}this.bVH()};AW.bJ=function(){this.bN();this.Hf=eu.cD.bg(this.Hf)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),ut=NEJ.P("nej.ut"),eu=NEJ.P("edu.u"),kS;eu.nX=NEJ.C();kS=eu.nX.bt(ut.hW,true);kS.cfR=function(){return this.kv};kS.bE=function(Y){this.bG(Y);this.eG=Y.recordDto;if(!this.eG){return}this.im=Y.mode;var xN={parent:Y.parent,recordDto:this.eG,mode:this.im,showAnalysis:Y.showAnalysis,position:Y.position,noScore:Y.noScore,onSelect:function(W){this.bn("onSelect",W)}.Z(this)};switch(this.eG.questionDto.type){case eu.CONST.TYPE_OBJECTIVE_SINGLE:case eu.CONST.TYPE_OBJECTIVE_MULTI:case eu.CONST.TYPE_OBJECTIVE_JUDGE:this.kv=eu.bpB.bh(xN);break;case eu.CONST.TYPE_SUBJECTIVE_NORMAL:this.kv=eu.bkM.bh(xN);break;case eu.CONST.TYPE_OBJECTIVE_FILLBLANK:this.kv=eu.bpN.bh(xN);break;default:break}};kS.bek=function(){return this.kv.bek()};kS.bJ=function(){if(!!this.kv){switch(this.eG.questionDto.type){case eu.CONST.TYPE_OBJECTIVE_SINGLE:case eu.CONST.TYPE_OBJECTIVE_MULTI:case eu.CONST.TYPE_OBJECTIVE_JUDGE:this.kv=eu.bpB.bg(this.kv);break;case eu.CONST.TYPE_SUBJECTIVE_NORMAL:this.kv=eu.bkM.bg(this.kv);break;case eu.CONST.TYPE_OBJECTIVE_FILLBLANK:this.kv=eu.bpN.bg(this.kv);break;default:break}}this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),GN,dbd;eu.Gx=NEJ.C();GN=eu.Gx.bt(p.yF,true);dbd=eu.Gx.cH;GN.bL=function(){this.wx=false;this.bO()};GN.dlL=function(){eu.bv(this.bb)};GN.dlM=function(){eu.bs(this.bb)};GN.daD=function(SP){var dM=null,bUH=SP.objectiveQList;dM={totlePageCount:1,currentPageNo:1,list:bUH};this.bUG=[];u.bw(bUH,function(bo){this.bUG.push(bo.id)}.Z(this));return dM};GN.yr=function(fp){var bf=u.nZ(this.bUG,fp.id);var cU=eu.nX.bh({parent:this.bb,recordDto:this.bhx[fp.id],mode:this.im,showAnalysis:this.bkK,position:bf,noScore:this.BZ,onSelect:function(W){this.bn("onSelect",W)}.Z(this)}).cfR();return cU};GN.yx=function(cU){if(!!cU){cU=eu.nX.bg(cU)}return cU};GN.bE=function(Y){if(!!Y.data){Y.dataMaps=this.daD(Y.data)}this.bkK=Y.data.showAnalysis;this.im=Y.mode||0;this.bhx=Y.recordDtos;this.BZ=Y.noScore||false;this.bG(Y)};GN.dah=function(){var bqo=[];for(var i in this.eg){var cU=this.eg[i];if(cU){bqo.push(cU.bek())}}return bqo}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),bC=u.fb(),nz,DD="ck-OJCacheCache";d.DA=NEJ.C();nz=d.DA.bt(d.hF);nz.bMG=function(ri,hE,fa){this.bI({key:DD+bC,url:"YocOJQuizBean.getOJPaperInfo",param:[ri,hE,fa],onload:this.bhB.Z(this)})};nz.bhB=function(W){this.bn("ongetOJPaperInfo",W)};nz.bqt=function(dZ,hE,te){var bwv=te?"MocAdminQuizBean.previewTestDraft":"YocOJQuizBean.getOJPaperDto";var lQ=te?[dZ]:[dZ,hE];this.bI({key:DD+bC,url:bwv,param:lQ,onload:this.dac.Z(this)})};nz.dac=function(W){this.bn("ongetOJPaperDto",W)};nz.cZz=function(dZ,hE,gM){this.bI({key:DD+bC,url:"YocOJQuizBean.submitSingleAnswer",param:[dZ,hE,gM],onload:this.bML.Z(this)})};nz.bML=function(W){this.bn("onsubmitSingleAnswer",W)};nz.Nj=function(hE,bMM){this.bI({key:DD+bC,notShowLoading:true,url:"YocOJQuizBean.getThreadStatusByThreadId",param:[hE,bMM],onload:this.bMN.Z(this)})};nz.bMN=function(W){this.bn("ongetThreadStatusByThreadId",W)};nz.bMG=function(dZ,hE,fa){this.bI({key:DD+bC,url:"YocOJQuizBean.getOJPaperInfo",param:[dZ,hE,fa],onload:this.bhB.Z(this)})};nz.bhB=function(W){this.bn("ongetOJPaperInfo",W)};nz.cZy=function(dZ,fa){this.bI({key:DD+bC,url:"YocOJQuizBean.getOjQuestionSubmitRecords",param:[dZ,fa],onload:this.bhC.Z(this)})};nz.bhC=function(W){this.bn("ongetOjSubmitRecords",W)};nz.cZs=function(dZ,fa,cZm){this.bI({key:DD+bC,url:"YocOJQuizBean.adminGetOjQuestionSubmitRecords",param:[dZ,fa,cZm],onload:this.bhC.Z(this)})};nz.dlN=function(W){this.bn("onadminGetOjSubmitRecords",W)};nz.cYE=function(hE){this.bI({key:DD+bC,url:"YocOJQuizBean.submitOjPaper",param:[hE],onload:this.bMU.Z(this)})};nz.bMU=function(W){this.bn("onsubmitOjPaper",W)};nz.cYC=function(dZ,gM){this.bI({key:DD+bC,url:"YocOJQuizBean.submitPreviewSingleAnswer",param:[dZ,gM],onload:this.bMW.Z(this)})};nz.bMW=function(W){this.bn("onsubmitPreviewSingleAnswer",W)};nz.bUD=function(dZ,bGB,bz){this.bI({key:DD+bC,url:"YocOJQuizBean.viewOJData",param:[dZ,bGB,!bz],onload:this.bMY.Z(this,bz)})};nz.bMY=function(bz,W){this.bn("onviewOJData",W,bz)}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),bC=u.fb(),hQ,rh="ck-outPartnerCache";d.rY=NEJ.C();hQ=d.rY.bt(d.hF);hQ.dlO=function(lr,AR){this.bI({key:rh+bC,url:"AdminMemberBean.addMemberRole",param:[lr,AR],onload:this.cYi.Z(this)})};hQ.cYi=function(W){this.bn("onAddMemberRole",W)};hQ.bUA=function(bKv,RM,AR){this.bI({key:rh+bC,url:"AdminMemberBean.addMemberRoleByLoginId",param:[bKv,RM,AR],onload:this.cXM.Z(this)})};hQ.cXM=function(W){this.bn("onAddMemberRoleByLoginId",W)};hQ.dlP=function(bcU,AR){this.bI({key:rh+bC,url:"AdminMemberBean.addMemberRoleByNickname",param:[bcU,AR],onload:this.cXz.Z(this)})};hQ.cXz=function(W){this.bn("onAddMemberRoleByNickname",W)};hQ.bUx=function(lr,AR){this.bI({key:rh+bC,url:"AdminMemberBean.deleteMemberRole",param:[lr,AR],onload:this.cWb.Z(this)})};hQ.cWb=function(W){this.bn("onDelMemberRole",W)};hQ.cVN=function(lr,cSi,cRS){this.bI({key:rh+bC,url:"AdminMemberBean.updateMemberRole",param:[lr,cSi,cRS],onload:this.cQS.Z(this)})};hQ.cQS=function(W){this.bn("onUpdateMemberRole",W)};hQ.cQP=function(){this.bI({key:rh+bC,url:"AdminMemberBean.getOutPartnerRoleList",param:[],onload:this.cQI.Z(this)})};hQ.cQI=function(W){this.bn("onGetOutPartnerRoleList",W)};hQ.cQA=function(){this.bI({key:rh+bC,url:"AdminMemberBean.getOrdinaryEditors",param:[],onload:this.cPZ.Z(this)})};hQ.cPZ=function(W){this.bn("onGetOrdinaryEditorsList",W)};hQ.bhR=function(ic,bqT,ih,jz){this.bI({key:rh+bC,url:"AdminCommonBean.getSchoolLectorHavingPublishedCourse4Backend",param:[ic,bqT,ih,jz],onload:this.cPi.Z(this)})};hQ.cPi=function(W){this.bn("onGetLectorPublished",W)};hQ.Jx=function(ic,Mt,bz,ih,jz,bqX){this.bI({key:rh+bC,url:"CourseBean.getTermPanelListForPlatform",param:[ic,Mt,bz,ih,jz,bqX],onload:this.cNX.Z(this,ic,Mt,bqX)})};hQ.cNX=function(ic,Mt,bqX,W){this.bn("onGetCoursePanelListForPlatform",W,ic,Mt,bqX)};hQ.cNs=function(){this.bI({key:rh+bC,url:"MocSchoolBean.getSchoolListsAll",param:[],onload:this.bNB.Z(this)})};hQ.bNB=function(W){this.bn("onGetSchoolListsAll",W)};hQ.bUo=function(jz,ih){this.bI({key:rh+bC,url:"MocSchoolBean.getSchoolLists",param:[jz,ih],onload:this.YJ.Z(this)})};hQ.YJ=function(W){this.bn("onGetSchoolLists",W)};hQ.cLM=function(jz,ih,Tx){this.bI({key:rh+bC,url:"MocSchoolBean.getSchoolListsByName",param:[jz,ih,Tx],onload:this.cLJ.Z(this)})};hQ.cLJ=function(W){this.bn("onGetSchoolListsByName",W)};hQ.cLE=function(){this.bI({key:rh+bC,url:"CourseBean.getEditorList",param:[],onload:this.bNI.Z(this)})};hQ.bNI=function(W){this.bn("ongetEditorList",W)};hQ.cLe=function(mL,mP){this.bI({key:rh+bC,url:"CourseBean.setOrdinaryEditorForCourse",param:[mL,mP],onload:this.bNL.Z(this,mP)})};hQ.bNL=function(mP,W){this.bn("onsetOrdinaryEditorForCourse",W,mP)};hQ.bUm=function(bT,YM){this.bI({key:rh+bC,url:"PublishCourseBean.adminPublishCourse",param:[bT,YM],onload:this.bNO.Z(this,YM)})};hQ.bNO=function(YM,W){this.bn("onSetAuditAggree",W,YM)};hQ.bNP=function(cKx,cKu){this.bI({key:rh+bC,url:"MocScoreManagerBean.getTermScoreListForReview",param:[cKx,cKu],onload:this.cKq.Z(this)})};hQ.cKq=function(W){this.bn("onGetTermScoreListForReview",W)};hQ.bUl=function(bT,cKo){this.bI({key:rh+bC,url:"MocScoreManagerBean.updateForTermScore",param:[bT,cKo],onload:this.cKf.Z(this)})};hQ.cKf=function(W){this.bn("onUpdateForTermScore",W)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),dlU,dlW;eu.oL=NEJ.C();brl=eu.oL.bt(p.yF,true);cJM=eu.oL.cH;brl.bL=function(){this.wx=true;this.bO()};brl.wA=function(iS){var bf=iS?iS.index:-1;if(!!this.eS&&this.eS!=bf){this.bn("onPageChange",bf);this.eS=bf}};brl.bdc=function(fp,TF){if(!!this.bnY){this.bnY(fp,TF)}cJM.bdc.apply(this,arguments)};brl.bE=function(Y){this.yr=Y.itemGen||f;this.yx=Y.itemDestroy||f;this.bnY=Y.genUIItem;this.bG(Y)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),d=NEJ.P("edu.d"),Th,cJC;var dv=e.dL('<div class="item"><span class="f-fl name j-name f-thide f-f0"></span><span class="f-fl school f-fc9 f-thide j-school"></span><span class="f-fl fzr f-icon j-fzr"></span><span class="f-fl centerPage"><a class="lookbtn j-lookbtn f-fcgreen" target="_blank" href="">查看</a><a class="editbtn j-editbtn f-fcgreen" href="/index.htm#/agm/tinfo">编辑</a></span><span><a class="editbtn j-editbtn f-fcgreen" href="/index.htm#/agm/tCenter">编辑</a></span></div>');eu.brp=NEJ.C();Th=eu.brp.bt(eu.cq,true);cJC=eu.brp.cH;Th.bU=function(){this.bW=e.bX(e.bS(dv))};Th.bL=function(){this.bO();this.IL=e.bc(this.bb,"j-lookbtn")[0];this.lg=e.bc(this.bb,"j-editbtn");this.eJ=e.bc(this.bb,"j-name")[0];this.bUi=e.bc(this.bb,"j-fzr")[0];this.bUh=e.bc(this.bb,"j-school")[0]};Th.bE=function(Y){this.bG(Y);this.eJ.innerHTML=u.dV(Y.itemVo.realName||Y.itemVo.nickName);this.lg[0].style.display="inline-block";this.lg[1].style.display="inline-block";if(!Y.itemVo.status||Y.itemVo.status==eu.CONST.TEACHERSTATUS_DRAFT){this.IL.style.display="none"}else{this.IL.style.display="inline-block";this.IL.href=g.urlPrefix.memberPrefix+Y.itemVo.subfixUrl}if(Y.itemVo.lectorType==eu.CONST.REL_TYPE_TERM_CHIEF_LECTOR){this.bUi.innerHTML=""}else{this.bUi.innerHTML=""}if(Y.from=="admin"){this.cIQ(Y)}else{this.cIL(Y)}if(!!eu.ed(eu.CONST.ROLE_SCHOOLNORMAL_ADMIN)){eu.bs(this.lg[0]);eu.bs(this.lg[1])}};Th.cIQ=function(Y){this.lg[0].href="#"+eu.umi("adminGxManagerTeacherCenterEdit")+"?id="+Y.itemVo.memberId;this.lg[1].href="#"+eu.umi("adminGxManagerTeacherInfoEdit")+"?id="+Y.itemVo.memberId};Th.cIL=function(Y){this.bUh.title=this.bUh.innerHTML=u.dV(Y.itemVo.schoolPanel.name||"");if(eu.ed(eu.CONST.ROLE_PLATFORM_ADMIN)||eu.ed(eu.CONST.ROLE_OUT_COURSE_EDITOR)){this.lg[0].href="#"+eu.umi("adminOuterEditorManagerTCenterEdit")+"?id="+Y.itemVo.memberId+"&sid="+Y.itemVo.schoolPanel.id;this.lg[1].href="#"+eu.umi("adminOuterEditorManagerTEdit")+"?id="+Y.itemVo.memberId+"&sid="+Y.itemVo.schoolPanel.id}else{this.lg[0].style.display="none";this.lg[1].style.display="none"}};Th.bJ=function(){this.bN()}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),d=NEJ.P("edu.d"),Mz,cIb;eu.YQ=NEJ.C();Mz=eu.YQ.bt(p.yF,true);cIb=eu.YQ.cH;Mz.bL=function(){this.wx=true;this.bO();this.eD=new d.rY;this.eD.bd("onGetLectorPublished",this.bil.Z(this))};Mz.bil=function(W){if(!!W){var dM=this.tU(W);this.ru(dM)}};Mz.tU=function(W){var dM=null;u.bw(W.list,function(bo,bf){bo.id=bf+(new Date).getTime()},this);dM={totlePageCount:W.pagination.totlePageCount,currentPageNo:W.pagination.pageIndex};dM.list=W.list;return dM};Mz.wA=function(iS){var bf=iS?iS.index:-1;if(!!this.eS&&this.eS!=bf){this.eD.bhR(this.lh,null,bf,15);this.eS=bf}};Mz.yr=function(fp){var cU=eu.brp.bh({itemVo:fp,from:this.OP});return cU};Mz.yx=function(cU){if(!!cU){cU=eu.brp.bg(cU)}return cU};Mz.bE=function(Y){this.lh=Y.schoolId||null;this.OP=Y.from;Y.dataMaps=this.tU(Y.itemData);this.bG(Y)}})();
(function(){var o=NEJ.O,g=window,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),p=NEJ.P("edu.m"),d=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),MG;var cv=e.dA(".#<uispace> {}.#<uispace> .row{margin-top:20px;}.#<uispace> .row .txt{font-size:14px;line-height:30px;}.#<uispace> .row .ct{margin-left:8px;}.#<uispace> .row .ct.ct1{margin-left:12px;}.#<uispace> .row.row1{margin-left:80px;}");var ev=e.bX('<div><div class="row f-cb"><div class="txt f-fl f-f0"><em class="f-sign">*</em>注册账号</div><div class="ct j-input f-fl"></div></div><div class="row f-cb f-pr" style="z-index:100;"><div class="txt f-fl f-f0"><em class="f-sign">*</em>账号类型</div><div class="ct ct1 j-accountList f-fl"></div></div><div class="row f-cb f-pr" style="z-index:99;"><div class="txt f-fl f-f0"><em class="f-sign">*</em>选择角色</div><div class="ct ct1 j-dropList f-fl"></div></div><div class="row row1 f-cb"><a class="j-addBtn u-btn u-btn-default f-fl"></a><div class="j-feedback f-fl"></div></div></div>');eu.PE=NEJ.C();MG=eu.PE.bt(eu.cq,true);MG.bU=function(){this.bW=ev;this.ds=cv};MG.bL=function(){this.bO();this.wu=e.bc(this.bb,"j-input")[0];this.tC=e.bc(this.bb,"j-feedback")[0];this.cHF=e.bc(this.bb,"j-accountList")[0];this.bOu=e.bc(this.bb,"j-dropList")[0];this.hb=e.bc(this.bb,"j-addBtn")[0];v.bd(this.hb,"click",this.cHy.Z(this))};MG.cHy=function(bj){var eT=this.qq.ca();var bUg=this.YT.AC();var bUf=null;if(!eT){this.gv.cs("请输入用户注册账号邮箱",true);return}else if(!bUg){this.gv.cs("请选择账号类型",true);return}else if(!!this.oQ){var bOB=this.oQ.AC();if(!bOB){this.gv.cs("请选择角色",true);return}else if(!!this.bOC&&bOB.id==this.bOC){this.gv.cs("请更改一个新的角色",true);return}bUf=bOB.id}this.bn("onAddRole",{loginId:eT,loginType:bUg.id,roleId:bUf})};MG.bE=function(Y){this.bG(Y);this.hb.innerText=Y.btnText||"添加";this.bOC=Y.selectRoleId;this.cGS=Y.hiddenRoleList;this.qq=eu.cD.bh({parent:this.wu,labelText:"请输入用户注册账号邮箱",width:350,height:34,onInputFocus:this.bOE.Z(this)});if(!!Y.loginId){this.qq.ud();this.qq.cZ(Y.loginId)}this.gv=eu.cz.bh({parent:this.tC});this.gv.cg();this.YT=eu.eW.bh({parent:this.cHF,selectId:Y.loginType,list:[{id:eu.CONST.LOGIN_TYPE_URS,name:"网易邮箱帐号"},{id:eu.CONST.LOGIN_TYPE_ICOURSE,name:"爱课程帐号"}],defaultName:"请选择账号类型",itemSelect:this.bOE.Z(this)});if(!!this.YT.AC()){this.YT.jN(true)}if(!!this.cGS){eu.bs(this.bOu.parentNode)}else{eu.bv(this.bOu.parentNode);this.oQ=eu.eW.bh({parent:this.bOu,selectId:this.bOC,list:[{id:g.roleNameIdMap[eu.CONST.ROLE_OUT_COURSE_EDITOR],name:"课程编辑"},{id:g.roleNameIdMap[eu.CONST.ROLE_OUT_BUSINESS_EDITOR],name:"运营编辑"},{id:g.roleNameIdMap[eu.CONST.ROLE_OUT_COURSE_REVIEWER],name:"课程审核"}],defaultName:"请选择角色",itemSelect:this.bOE.Z(this)})}};MG.bOE=function(bj){this.gv.cg()};MG.bJ=function(){if(!!this.qq){this.qq=eu.cD.bg(this.qq)}if(!!this.gv){this.gv=eu.cz.bg(this.gv)}if(!!this.YT){this.YT=eu.eW.bg(this.YT)}if(!!this.oQ){this.oQ=eu.eW.bg(this.oQ)}this.bN()};MG.bOF=function(){return this.gv}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),g=window,bC=u.fb(),pa,YU="ck-OrderCache",lL=8;d.YV=NEJ.C();pa=d.YV.bt(d.hF);pa.cGP=function(bT){this.bI({key:YU+bC,url:"MocOrderBean.getPayStatus",param:[bT],onload:this.brP.Z(this)})};pa.brP=function(W){this.bn("onGetPayStatus",W)};pa.cGM=function(bT){this.bI({key:YU+bC,url:"MocOrderBean.getDonateInfo",param:[bT],onload:this.bOM.Z(this)})};pa.bOM=function(W){this.bn("onGetDonateInfo",W)};pa.cGG=function(bGa){this.bI({key:YU+bC,url:"MocOrderBean.getDonateStatus",param:[bGa],onload:this.cGD.Z(this)})};pa.cGD=function(W){this.bn("onGetDonateStatus",W)};pa.cGA=function(bT){this.bI({key:YU+bC,url:"TermBean.isUserPayed",param:[bT],onload:this.cGw.Z(this)})};pa.cGw=function(W){this.bn("onGetPayStatus",W)};pa.cGp=function(bT){this.bI({key:YU+bC,url:"MemberBean.hasFinishedBoughtFight",param:[bT,g.webUser.id],onload:this.cGk.Z(this)})};pa.cGk=function(W){this.bn("onGetPayStatus",W)};pa.cFB=function(bT){this.bI({key:YU+bC,url:"MarketingCoursePackageBean.hasBoughtCoursePackage",param:[bT],onload:this.cFs.Z(this)})};pa.cFs=function(W){this.bn("onGetPayStatus",W)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),MO,cFl;var cv=e.dA('.#<uispace> { width:406px; height:160px; margin:0 20px 0 20px;}.#<uispace> .info{ color:#333; font-size:14px;line-height:23px;margin:0 0 50px;font-family:"微软雅黑";}.#<uispace> .info span{ color:#d62727;}.#<uispace> .ok{ margin:0 0 0 147px;}');var cFi=e.dL('<div class="m-finishPaidDialog"><p class="info">请在新打开的页面完成支付，<span>支付完成前，请不要关闭此窗口。</span>支付完成后请根据您的情况点击下面按钮：</p><a class="u-btn u-btn-default ok j-okbtn"><span>已完成支付</span></a></div>');eu.wm=NEJ.C();MO=eu.wm.bt(eu.gb,true);cFl=eu.wm.cH;eu.wm.bP=function(Y){var fc=eu.wm.bh(Y);fc.fI();return fc};MO.bU=function(){this.bW=e.bX(e.bS(cFi));this.ds=cv};MO.bL=function(){this.bO();this.cFh=e.bc(this.bb,"j-okbtn")[0];v.bd(this.cFh,"click",this.GY.Z(this));this.kB=new d.YV;this.kB.bd("onGetPayStatus",this.brP.Z(this));this.kB.bd("onGetDonateStatus",this.brP.Z(this))};MO.brP=function(W){if(!!W){this.bn("succeed")}else{this.bn("failed")}this.jv()};MO.GY=function(){switch(this.cm){case"buyCert":this.kB.cGP(this.cK);break;case"donate":this.kB.cGG(this.cES);break;case"buyCourseTerm":this.kB.cGA(this.cK);break;case"buyFight":this.kB.cGp(this.cK);break;case"package":this.kB.cFB(this.cEH);break}};MO.jv=function(){this.eB()};MO.bE=function(Y){Y.title=" ";Y.maskClickNotHidden=true;Y.closeBtnHidden=true;this.cK=Y.termId;this.cES=Y.orderId;this.cm=Y.type;this.cEH=Y.pkgId;this.bG(Y)};MO.bJ=function(){this.bN()}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),p=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bC=u.fb(),hB,qb="ck-smartSpecCertCache";p.wl=NEJ.C();hB=p.wl.bt(p.hF);hB.cEF=function(Hg){this.bI({key:qb+bC,url:"MicroSpecBean.getMicroCertBaseInfoBySpecialId",param:[Hg],onload:this.cEA.Z(this)})};hB.cEA=function(W){this.bn("ongetCertInfoBySpecialId",W)};hB.cEu=function(AG){this.bI({key:qb+bC,url:"MicroSpecBean.saveMicroCertBaseInfo",param:[AG],onload:this.cEt.Z(this)})};hB.cEt=function(W){this.bn("onsaveMicroCertBaseInfo",W)};hB.cEe=function(mJ){this.bI({key:qb+bC,url:"MicroSpecBean.getExcelCert",param:[mJ],onload:this.cDV.Z(this)})};hB.cDV=function(W){this.bn("onGetExcelCert",W)};hB.cDU=function(cDI){this.bI({key:qb+bC,url:"MicroSpecBean.setExcelCert",param:[cDI],onload:this.cDG.Z(this)})};hB.cDG=function(W){this.bn("onSetExcelCert",W)};hB.cDx=function(bV){this.bI({key:qb+bC,url:"MicroSpecBean.getMicroCertBaseInfo",param:[bV],onload:this.cDt.Z(this)})};hB.cDt=function(W){this.bn("onGetMicroCertBaseInfo",W)};hB.bsp=function(bq,lL,mJ,bFP,Ta){this.bI({key:qb+bC,url:"MicroSpecBean.getPaginationMicroSpecOrderList",param:[bq,lL,mJ,bFP,Ta],onload:this.cDf.Z(this)})};hB.cDf=function(W){this.bn("onGetPaginationMicroSpecOrderList",W)};hB.bkl=function(bq,lL,mJ,Ta,bz){this.bI({key:qb+bC,url:"MicroSpecBean.getPaginationCertApplyList",param:[bq,lL,mJ,Ta,bz],onload:this.bEy.Z(this)})};hB.bEy=function(W){this.bn("onGetPaginationCertApplyList",W)};hB.cCM=function(mJ){this.bI({key:qb+bC,url:"MicroSpecBean.sendMailToBuy",param:[mJ],onload:this.cCF.Z(this)})};hB.cCF=function(W){this.bn("onSendMailToBuy",W)};hB.bEN=function(mJ,vM,eN){this.bI({key:qb+bC,url:"MicroSpecBean.auditCertApply",param:[mJ,vM,eN],onload:this.bEO.Z(this)})};hB.bEO=function(W){this.bn("onAuditCertApply",W)};hB.cCD=function(mJ){this.bI({key:qb+bC,url:"MicroSpecBean.batchAuditCertApply",param:[mJ],onload:this.bER.Z(this)})};hB.bER=function(W){this.bn("onBatchAuditCertApply",W)};hB.cCp=function(mJ){this.bI({key:qb+bC,url:"MicroSpecBean.getMicroCertModel",param:[mJ],onload:this.cCd.Z(this)})};hB.cCd=function(W){this.bn("onGetMicroCertModel",W)};hB.cCa=function(mJ,cBS){this.bI({key:qb+bC,url:"MicroSpecBean.saveMicroCertModelWish",param:[mJ,cBS],onload:this.cBO.Z(this)})};hB.cBO=function(W){this.bn("onSaveMicroCertModelWish",W)};hB.czI=function(mJ){this.bI({key:qb+bC,url:"MicroSpecBean.sendAllMicroCert",param:[mJ],onload:this.czw.Z(this)})};hB.czw=function(W){this.bn("onSendAllMicroCert",W)};hB.bPG=function(mJ,bq,lL,eN,bks,bz,czj){this.bI({key:qb+bC,url:"MicroSpecBean.getCertMailResultListPagination",param:[mJ,bq,lL,eN,bks,bz,czj],onload:this.cyR.Z(this)})};hB.cyR=function(W){this.bn("onGetCertMailResultListPagination",W)};hB.bFh=function(Hg,bz){this.bI({key:qb+bC,url:"MicroSpecBean.asyncZipCertPics",param:[Hg,bz],onload:this.bFi.Z(this)})};hB.bFi=function(W){this.bn("onAsyncZipCertPics",W)};hB.bFv=function(Hg,bz){this.bI({key:qb+bC,url:"MicroSpecBean.getOldCertUrl",param:[Hg,bz],onload:this.bFw.Z(this)})};hB.bFw=function(W){this.bn("onGetOldCertUrl",W)};hB.bFa=function(cym,bFb,bFd){this.bI({key:qb+bC,url:"MicroSpecBean.saveEmsInfo",param:[cym,bFb,bFd],onload:this.bFf.Z(this)})};hB.bFf=function(W){this.bn("onSaveEmsInfo",W)};hB.bDW=function(Hg,bEd){this.bI({key:qb+bC,url:"MicroSpecBean.sendOneCert",param:[Hg,bEd],onload:this.bEf.Z(this)})};hB.bEf=function(W){this.bn("onSendOneCert",W)}})();
(function(){var bp=NEJ.P,dm=NEJ.F,fq=bp("nej.c"),bm=bp("nej.e"),cd=bp("nej.v"),bD=bp("nej.u"),ej=bp("nej.x");var bUb=function(bA,Ec,Y){var uT=bm.cnA(bA),iQ=bA.offsetHeight;bm.buE(uT,{left:"-1px",height:iQ+1+"px",width:bA.offsetWidth+1+"px",top:Math.floor((uT.parentNode.offsetHeight-iQ)/2)+"px"});bm.Jm(NEJ.X({parent:uT,target:bA,width:"100%",height:"100%",src:fq.bQ("clipboard.swf"),params:{wmode:"transparent",flashvars:Ec}},Y))};bm.bPL=ej.bPL=function(bA,cX){bA=bm.bQ(bA);if(!bA)return;bUb(bA,"op=0",{onbeforecopy:function(){return bD.lX(cX)?cX():cX||""}});return this};bm.cyd=ej.cyd=function(bA){bA=bm.bQ(bA);if(!bA)return this;bUb(bA,"op=2");return this};ej.isChange=!0})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),p=NEJ.P("edu.m"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),km,dn=e.bX('<div class="u-imporUI"><div class="j-upload f-cb" style="display:none;"><div class="j-uploadUI f-fl"></div></div><div class="j-info f-cb" style="display:none;"><div class="f-fl name"></div><div class="f-fl fb"></div><a class="f-fl cancel">取消</a><a class="f-fl del" style="display:none;">删除</a></div></div>');eu.biT=NEJ.C();km=eu.biT.bt(eu.cq,!0);km.bU=function(){this.bW=dn};km.bL=function(){this.bO();this.Iz=e.bc(this.bb,"j-upload")[0];this.rH=e.bc(this.bb,"j-uploadUI")[0];this.nV=e.bc(this.bb,"j-info")[0];this.cV=e.cJ(this.nV);this.Iy=this.cV[0];this.ml=this.cV[1];v.bd(this.ml,"click",this.is.Z(this))};km.SC=function(W){if(!!this.gO){this.gO=eu.cz.bg(this.gO)}this.gO=eu.cz.bh({parent:this.Iy});this.gO.cg();if(!!W.nosKey){this.It(false,W)}else{this.ve(W.errorCode,this.is.Z(this))}};km.It=function(cC,W){if(!!cC){this.gO.yD("上传中···");eu.bv(this.ml)}else{this.gO.cg();eu.bs(this.ml)}eu.bv(this.nV);eu.bs(this.Iz)};km.RY=function(W){if(!!W){if(W.total>eu.CONST.UPLOAD_SIZE_MAX_SIMPLE){eu.yo(20,this.is.Z(this));return}}};km.is=function(){if(!!this.eQ){this.eQ.rL()}this.SC(this.Qw)};km.wt=function(W){if(!!W.retSuc){this.bn("onFileload",W);eu.bs(this.nV);eu.bv(this.Iz)}else{eu.yo(W.errorCode,this.is.Z(this))}};km.bUa=function(){this.bn("onFileload",null)};km.sz=function(ip){return eu.Ru(null,ip,{support:["xls"]})};km.ve=function(){if(!!this.eQ){this.eQ=eu.nY.bg(this.eQ)}this.eQ=eu.nY.bh({parent:this.rH,beginUpload:this.It.Z(this,true),onupdateProgress:this.RY.Z(this),txt:this.cvI,tokenType:eu.CONST.UPLOAD_TOKEN_TYPE_DEFAULT,action:"/file/smallFileUpload.htm",supportAnchor:false,verifyFile:this.sz.Z(this),onFinishUpload:this.wt.Z(this),onUploadError:function(){this.SC(this.Qw)}});eu.bs(this.nV);eu.bv(this.Iz)};km.bE=function(Y){this.bG(Y);this.cvI=Y.txt||"导入学生名单";this.Qw=Y.data||{};this.SC(this.Qw)};km.bJ=function(){if(!!this.gO){this.gO=eu.cz.bg(this.gO)}this.bN()}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),p=NEJ.P("edu.d"),eu=NEJ.P("edu.u"),bC=u.fb(),AD,biW="ck-manageInfoCache";p.bsI=NEJ.C();AD=p.bsI.bt(p.hF);AD.cvb=function(ch,bz){this.bI({key:biW+bC,url:"MicroSpecBean.createSpec",param:[ch,bz],onload:this.cuj.Z(this)})};AD.cuj=function(W){this.bn("oncreateSpec",W)};AD.ctX=function(Hg){this.bI({key:biW+bC,url:"MicroSpecBean.getSpec",param:[Hg],onload:this.ctV.Z(this)})};AD.ctV=function(W){this.bn("ongetSpec",W)};AD.ctU=function(hg){this.bI({key:biW+bC,url:"MicroSpecBean.updateSpec",param:[hg],onload:this.ctQ.Z(this)})};AD.ctQ=function(W){this.bn("onupdateSpec",W)};AD.ctJ=function(FB){this.bI({key:biW+bC,url:"MicroSpecBean.previewSpecCourse",param:[FB],onload:this.ctA.Z(this)})};AD.ctA=function(W){this.bn("onpreviewSpecCourse",W)};AD.bTS=function(){this.bI({key:biW+bC,url:"MicroSpecBean.getMicroSpecCourseList",param:[],onload:this.ctu.Z(this)})};AD.ctu=function(W){this.bn("ongetMicroSpecCourseList",W)}})();
(function(){var g=window,o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),eu=NEJ.P("edu.u"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),p=NEJ.P("edu.m"),wy;var cv=e.dA('.#<uispace> .cnt{padding:20px;}.#<uispace> h3{margin:0 0 30px;font-size:14px;}.#<uispace> h3 .highlight{color:#f63a00;}.#<uispace> .row{margin:0 0 25px;}.#<uispace> .row .lb{display:block;width:78px;height:30px;line-height:30px;margin:0 10px 0 0;float:left;}.#<uispace> .row .lb span{display:inline-block;font-size:14px;font-family:"微软雅黑";}.#<uispace> .row .lb span.lbl{color:#f86f54;margin:4px 0 0;}.#<uispace> .row .lb span.lbr{color:#444;margin:0 0 0 3px;}.#<uispace> .row .ipt{width:400px;height:30px;}.#<uispace> .row .IDPic{width:500px;}.#<uispace> .row .IDPic img{width:140px;height:95px;margin:0 15px 0 0;}.#<uispace> .row .IDPic .picR{width:340px;}.#<uispace> .row .IDPic .picR p{color:#999;margin:6px 0 0;}.#<uispace> .row .headImg img{width:140px;height:160px;}.#<uispace> .row .headImg .picR{margin:75px 0 0;}.#<uispace> .row .idType{width:125px;height:35px;}.#<uispace> .row .idType .u-select{width:90px;height:30px;}.#<uispace> .row .idType .u-select .up{background-position:77px -177px;}.#<uispace> .row .idType .u-select .down{width:109px;}.#<uispace> .row .idType .u-select .list{width:89px;}.#<uispace> .row .idIpt{width:100px;height:35px;}');var bje="http://img0.ph.126.net/A63aP5-z0SOFa-4P3MLC6w==/1376694111192668289.png",rZ="http://img2.ph.126.net/YmbIRxyKdC9qy7fHbu-qVg==/6608899412259655964.jpg";eu.bjg=NEJ.C();wy=eu.bjg.bt(eu.cq,true);wy.bU=function(){this.bW=e.bX(e.bS("jst-certOrder-user"));this.ds=cv};wy.bL=function(){this.bO();this.bTR=e.bc(this.bb,"j-helloTip")[0];this.fO=e.bc(this.bb,"j-name")[0];this.bjh=e.bc(this.bb,"j-idType")[0];this.bji=e.bc(this.bb,"j-userId")[0];this.bTQ=e.bc(this.bb,"j-tell")[0];this.bTP=e.bc(this.bb,"j-receiver")[0];this.nU=e.bc(this.bb,"j-address")[0];this.ix=e.bc(this.bb,"j-submitBtn")[0];this.yc=e.bc(this.bb,"j-feedBack")[0];this.bjk=e.bc(this.bb,"j-upLoadPic")[0];this.bjl=e.bc(this.bb,"j-upLoadHeadImg")[0];this.rZ=e.bc(this.bb,"j-headImg")[0];this.MV=e.bc(this.bb,"j-IDPic")[0];this.dlX=e.bc(this.bb,"j-billIpt")[0];this.MW=e.bc(this.bb,"j-sfztip")[0];this.bjn=e.bc(this.bb,"j-address")[0];v.bd(this.ix,"click",this.bjo.Z(this));v.bd(this.bjk,"click",this.MX.Z(this,0));v.bd(this.bjl,"click",this.MX.Z(this,1));v.bd(e.bc(this.bb,"j-sfzlink")[0],"click",function(){eu.cW(this.MW,!eu.xG(this.MW))}.Z(this));this.kB=new d.bth;this.kB.bd("onGetMemberAuthDto",this.bQA.Z(this));this.fu=new p.hZ;this.bjq=[{id:eu.CONST.ID_TYPE_SHENFENZHENG,name:"大陆身份证"},{id:eu.CONST.ID_TYPE_HUKOUBEN,name:"户口本"},{id:eu.CONST.ID_TYPE_HUZHAO,name:"护照"},{id:eu.CONST.ID_TYPE_OTHER,name:"其他"}]};wy.MX=function(cC){var rd={};switch(cC){case 0:rd={uW:400,uH:270,pW:140,pH:95,dW:400,dH:270};break;case 1:rd={uW:166,uH:190,pW:166,pH:190,dW:166,dH:190};break}eu.qK.bP({uploadConfig:rd,onComplete:this.bjr.Z(this,cC)})};wy.bjr=function(cC,W){if(!W)return;if(cC==0){this.MV.src=this.yv=W.picUrl}else{this.rZ.src=this.ys=W.picUrl}};wy.bjo=function(){if(!this.bjt())return;if(!this.jf.YC())return;this.df["realName"]=this.rP.ca().trim();this.df["idType"]=this.pL.AC().id;this.df["idNumber"]=this.Zh.ca().trim();this.df["authPhoto"]=this.yv;this.df["certHeadPhoto"]=this.ys;this.df["deliveryDto"]=this.jf.YC();this.bn("onSave",this.df)};wy.bjt=function(){var gD=true,sB="";if(this.rP.ca().trim()==""){sB="请填写真实姓名";gD=false}if(!this.yv){sB="请上传证件照片";gD=false}if(!this.ys){sB="请上传展示照片";gD=false}var qv=null;if(!this.pL.AC()){sB="请选择证件类型";gD=false}else{qv=this.pL.AC().id}var ea=!!qv?qv==eu.CONST.ID_TYPE_SHENFENZHENG?/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/:qv==eu.CONST.ID_TYPE_HUZHAO?/^([0-9]{7,8})$/:"":"",mU=this.Zh.ca().trim();if(!!mU&&!!ea&&!ea.test(mU)){sB="请输入正确的证件号码";gD=false}if(mU==""){sB="请填写证件号码";gD=false}if(!gD){this.dz.eX(sB)}else{this.dz.cg()}return gD};wy.bQA=function(W){if(!!W){this.df=W;this.Ti(W)}};wy.Ti=function(W){if(!!g.achievementStatus&&g.achievementStatus==eu.CONST.ACHIEVEMENT_STATUS_CONFIRMED){this.bTR.innerHTML='亲爱的<span class="highlight">'+eu.dE().nickName+'</span>，该课程你的学习成绩为<span class="highlight">'+g.score+'分</span>，可申请<span class="highlight">课程'+(g.certType==eu.CONST.CERT_TYPE_CHARGE_NORMAL?"合格":"优秀")+"证书</span>。请填写和确认以下身份信息："}else{this.bTR.innerHTML=""}if(g.from=="fight"||g.from=="payCert"){this.ix.innerHTML="保存";this.ix.title="保存"}else{this.ix.innerHTML="确认，去支付";this.ix.title="确认，去支付"}!this.df["deliveryDto"]&&(this.df["deliveryDto"]={});this.MV.src=W["authPhoto"]||bje;this.rZ.src=W["certHeadPhoto"]||rZ;this.yv=W["authPhoto"]||null;this.ys=W["certHeadPhoto"]||null;this.rP=eu.cD.bh({parent:this.fO,labelText:"",height:30,width:250,onInputFocus:this.MY.Z(this)});this.rP.cZ(W["realName"]||"");this.pL=eu.eW.bh({parent:this.bjh,defaultName:"证件类型",list:this.bjq,selectId:W["idType"]});this.Zh=eu.cD.bh({parent:this.bji,labelText:"",height:30,width:250,onInputFocus:this.MY.Z(this)});this.Zh.cZ(W["idNumber"]||"");this.jf=eu.Tf.bh({parent:this.bjn});this.jf.brh(W.deliveryDto);this.dz=eu.cz.bh({parent:this.yc});this.dz.cg()};wy.MY=function(){this.dz.cg()};wy.bE=function(Y){this.bG(Y);this.yv=null;this.ys=null;this.kB.csb()};wy.dx=function(){if(!!this.rP){this.rP=eu.cD.bg(this.rP)}if(!!this.Zh){this.Zh=eu.cD.bg(this.Zh)}if(!!this.bTN){this.bTN=eu.cD.bg(this.bTN)}if(!!this.dz){this.dz=eu.eW.bg(this.dz)}if(!!this.pL){this.pL=eu.cz.bg(this.pL)}if(!!this.jf){this.jf=eu.Tf.bg(this.jf)}};wy.bJ=function(){this.dx();this.bN()}})();
(function(){var o=NEJ.O,j=NEJ.P("nej.j"),u=NEJ.P("nej.u"),d=NEJ.P("edu.d"),bC=u.fb(),bjB,bTJ="ck-CertOrderCache",lL=8;d.bth=NEJ.C();bjB=d.bth.bt(d.hF);bjB.csb=function(){this.bI({key:bTJ+bC,url:"YocCertBean.getMemberAuthDto",param:[],onload:this.bQA.Z(this)})};bjB.bQA=function(W){this.bn("onGetMemberAuthDto",W)};bjB.bTG=function(bGm,bT,bz){this.bI({key:bTJ+bC,url:"YocCertBean.saveYocCertMemberApplyDto",param:[bGm,bT,bz],onload:this.bjD.Z(this)})};bjB.bjD=function(W){this.bn("onUpdateMemberAuthDto",W)}})();
(function(){var g=window,o=NEJ.O,e=NEJ.P("nej.e"),b=NEJ.P("nej.p"),eu=NEJ.P("edu.u");eu.cqt=function(){var uc=window.navigator.userAgent;var cqk=(new RegExp("NetEaseEdu","i")).test(uc);return cqk};eu.bTF=function(param,callback){var bQY="";if(!eu.cqt()){return}if(b.Ng["android"]){bQY="yktaphone://open.course.yoc/"+param.courseId+"_"+param.termId}else{bQY="yktiphone://type=6-&-content="+param.courseId+"_"+param.termId}var tu=e.bfA({src:bQY,name:"redirect...",parent:document.body,visible:false,onload:function(){if(!!callback){callback()}}})}})()